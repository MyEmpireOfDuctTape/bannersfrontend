webpackJsonp([1],{"+2Tv":function(e,t){},"/XRX":function(e,t){},F4ar:function(e,t){},GGdt:function(e,t){},Mto1:function(e,t){},NHnr:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var n=a("7+uW"),r={name:"Sidebar",data:function(){var e=this;return{msg:"Sidebar",currentCompany:this.$store.getters.getCurrentCompany||null,currentAccessLevel:this.$store.getters.getCurrentAccessLevel||null,otherCompanies:this.$store.getters.getUser.companies?this.$store.getters.getUser.companies.filter(function(t){return t.id!=e.$store.getters.getCurrentCompany.id}):null,user:this.$store.getters.getUser||null}},computed:{loggedIn:function(){return this.$store.getters.loggedIn},accessLevel:function(){return this.currentAccessLevel}},created:function(){var e=this;if(null==this.currentCompany&&(this.$store.commit("setCurrentCompany",this.$store.getters.getUser.companies[0]),this.currentCompany=this.$store.getters.getUser.companies[0]),null==this.currentAccessLevel){var t=_.findIndex(this.$store.getters.getUser.companies,function(t){return t.id==e.$store.getters.getCurrentCompany.id});this.currentAccessLevel=this.$store.getters.getUser.companies[t].pivot.role,this.$store.commit("setCurrentAccessLevel",this.$store.getters.getUser.companies[t].pivot.role)}},methods:{toggleSidebar:function(e){document.querySelector(".sidebar").classList.toggle("closed"),document.querySelector(".main-view").classList.toggle("wider")},toggleDropdown:function(e){document.querySelector(".selected").classList.toggle("open"),document.querySelector(".selected").nextElementSibling.classList.toggle("open-list")},setCurrentCompany:function(e){var t=this,s=_.findIndex(this.$store.getters.getUser.companies,function(t){return t.id==e});console.log(s),this.$store.commit("setCurrentCompany",this.$store.getters.getUser.companies[s]),this.currentCompany=this.$store.getters.getUser.companies[s],this.otherCompanies=this.$store.getters.getUser.companies?this.$store.getters.getUser.companies.filter(function(e){return e.id!=t.$store.getters.getCurrentCompany.id}):null,this.$emit("company-changed",this.currentCompany),this.toggleSidebar()}}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sidebar col-lg-2 sidebar-hidden closed"},[s("div",{staticClass:"close-sidebar",on:{click:e.toggleSidebar}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"#ededed","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",viewBox:"0 0 24 30",x:"0px",y:"0px"}},[s("path",{attrs:{d:"M17 21h-10c-2.209 0-4-1.791-4-4v-10c0-2.209 1.791-4 4-4h10c2.209 0 4 1.791 4 4v10c0 2.209-1.791 4-4 4zM19 7c0-1.105-0.895-2-2-2h-10c-1.105 0-2 0.895-2 2v10c0 1.105 0.895 2 2 2h10c1.105 0 2-0.895 2-2v-10zM14.008 8l4 4-4 4v-8zM9.992 8v8l-4-4z"}}),s("text",{attrs:{x:"0",y:"39",fill:"#000000","font-size":"5px","font-weight":"bold","font-family":"Helvetica Neue, Helvetica, Arial-Unicode, Arial, Sans-serif"}},[e._v("Created by Travis Avery")]),s("text",{attrs:{x:"0",y:"44",fill:"#000000","font-size":"5px","font-weight":"bold","font-family":"Helvetica Neue, Helvetica, Arial-Unicode, Arial, Sans-serif"}},[e._v("from the Noun Project")])])]),e._v(" "),s("div",{staticClass:"name-block"},[s("span",{staticClass:"round"},[s("span",[e._v(e._s(e.user.firstName.substring(0,1))+e._s(e.user.lastName.substring(0,1)))])]),e._v(" "),s("span",{staticClass:"name"},[e._v(e._s(e.user.firstName)+" "+e._s(e.user.lastName))])]),e._v(" "),s("div",{staticClass:"fake-dropdown"},[s("div",{staticClass:"selected",on:{click:e.toggleDropdown}},[s("span",[e._v(e._s(e.currentCompany.name))])]),e._v(" "),s("div",{staticClass:"the-rest"},[s("ul",[e.otherCompanies.length>0?e._l(e.otherCompanies,function(t){return s("li",{attrs:{"data-id":t.id},on:{click:function(s){return e.setCurrentCompany(t.id)}}},[e._v("\n                            "+e._s(t.name)+"\n                        ")])}):[s("li",[e._v("\n                            -\n                        ")])]],2)])]),e._v(" "),s("div",{staticClass:"menu-options level1"},[s("div",{staticClass:"menu-option"},[s("router-link",{attrs:{to:"/dashboard"}},[s("svg",{staticStyle:{"enable-background":"new 0 0 100 125"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 125","xml:space":"preserve"}},[s("title",[e._v("All")]),e._v(" "),s("path",{attrs:{d:"M34.8,0c1.7,0.6,3.4,1.3,4.9,2.2c3.3,2.2,4.7,5.5,4.7,9.3c0.1,7.2,0.1,14.3,0,21.5c0,4.7-2.1,8.3-6.4,10.3\n                        c-1.6,0.7-3.4,1.1-5.2,1.1c-7.1,0.1-14.1,0.1-21.2,0c-5.9,0-10-3.3-11.4-9.1C0.2,35.1,0.1,35,0,34.8c0-8.4,0-16.7,0-25.1\n                        C0.1,9.5,0.2,9.2,0.3,9c0.7-2.7,1.9-5.2,4.3-6.7C6.2,1.4,8,0.6,9.7,0H34.8z"}}),e._v(" "),s("path",{attrs:{d:"M0,65.1c0.7-1.8,1.5-3.5,2.4-5.1c1.8-2.8,4.9-4.4,8.2-4.3c7.6-0.1,15.2,0,22.8,0c6.1,0,11,4.9,11,11c0,0.1,0,0.2,0,0.3\n                        c0,7.2,0.1,14.5,0,21.7c-0.1,6.5-4.5,11.1-10.9,11.2c-7.5,0.2-15,0.2-22.5,0c-5.6-0.1-9.4-3.4-10.8-8.8c-0.1-0.2-0.2-0.5-0.3-0.7\n                        C0,82,0,73.5,0,65.1z"}}),e._v(" "),s("path",{attrs:{d:"M90.2,0c2,0.4,3.9,1.3,5.6,2.5c2.4,1.8,3.9,4.6,4,7.7c0.1,6.2,0.1,12.3,0.1,18.5c0,1.6,0,3.1,0,4.7c0,6.1-5,11.1-11.1,11.1\n                        c-0.1,0-0.2,0-0.3,0c-7.2,0-14.3,0.1-21.5,0c-6.5-0.1-11.2-4.4-11.3-10.8c-0.2-7.6-0.2-15.1,0-22.7c0.1-5.5,3.5-9.3,8.9-10.6\n                        c0.2-0.1,0.4-0.1,0.6-0.2H90.2z"}}),e._v(" "),s("path",{attrs:{d:"M99.9,77.8c0,4,0.1,8,0,11.9c-0.2,5.5-4.6,10-10.2,10.1c-8,0.2-16,0.2-24,0c-5.5-0.2-9.8-4.6-10-10.1c-0.2-8-0.2-16,0-24\n                        c0.2-5.5,4.5-9.9,10-10.1c8-0.2,16-0.2,24.1,0c5.4,0.3,9.7,4.6,10,10C100,69.7,99.8,73.7,99.9,77.8L99.9,77.8L99.9,77.8z"}})]),e._v(" "),s("span",[e._v("Dashboard")])])],1),e._v(" "),s("div",{staticClass:"menu-option"},[s("router-link",{attrs:{to:"/banners"}},[s("svg",{staticStyle:{"enable-background":"new 0 0 100 125"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 125","xml:space":"preserve"}},[s("title",[e._v("Artboard 1")]),e._v(" "),s("path",{attrs:{d:"M6.1,57c-0.4-0.9-0.3-1.9,0.3-2.7l9-10.8c1-1.2,2.7-1.3,3.9-0.3c0.1,0.1,0.2,0.2,0.3,0.3l9,10.8c0.9,1.1,0.7,2.6-0.3,3.5\n                        c-0.4,0.4-1,0.6-1.6,0.6h-3.8c0.7,16.8,14.9,29.8,31.7,29c16.8-0.7,29.8-14.9,29-31.7c-0.7-16.8-14.9-29.8-31.7-29\n                        c-9.6,0.4-18.3,5.3-23.8,13.2c-0.1,0.2-0.3,0.3-0.6,0.3c-0.2,0-0.5-0.1-0.6-0.3l-6-7.2c-0.2-0.3-0.2-0.6,0-0.9\n                        c6.6-8.5,16.3-14,27-15.4v-4h-4c-2.9,0.3-5.5-1.8-5.8-4.7C37.9,4.9,40,2.3,42.9,2c0.3,0,0.7,0,1,0h18.6c2.9-0.1,5.4,2.1,5.5,5\n                        s-2.1,5.4-5,5.5c-0.2,0-0.3,0-0.5,0h-4v4c7.2,0.9,14.1,3.8,19.8,8.3l4.5-4.5c2-2.1,5.3-2.3,7.5-0.3s2.3,5.3,0.3,7.5\n                        c-0.1,0.1-0.2,0.2-0.3,0.3l-4.5,4.5c5.5,7.1,8.4,15.8,8.4,24.8c0.4,22.6-17.7,41.2-40.3,41.6S12.7,81,12.3,58.4h-4\n                        C7.4,58.4,6.5,57.9,6.1,57z M70.4,40c-1.2-1.2-3-1.3-4.4-0.3L54.3,49c-4.5-0.6-8.7,2.5-9.3,7s2.5,8.7,7,9.3c4.5,0.6,8.7-2.5,9.3-7\n                        c0.1-0.8,0.1-1.5,0-2.3l9.3-11.6C71.7,43,71.6,41.1,70.4,40L70.4,40z"}})]),e._v(" "),s("span",[e._v("Banners")])])],1),e._v(" "),s("div",{staticClass:"menu-option"},[s("router-link",{attrs:{to:"/templates"}},[s("svg",{attrs:{width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[s("title",[e._v("noun_1394884_cc")]),e._v(" "),s("desc",[e._v("Created with Sketch.")]),e._v(" "),s("defs"),e._v(" "),s("g",{attrs:{id:"Symbols",stroke:"none","stroke-width":"1","fill-rule":"evenodd"}},[s("g",{attrs:{id:"Sidebar",transform:"translate(-40.000000, -371.000000)"}},[s("g",{attrs:{id:"noun_1394884_cc",transform:"translate(40.000000, 371.000000)"}},[s("g",{attrs:{id:"Group"}},[s("g",{attrs:{id:"Shape"}},[s("path",{attrs:{d:"M6.05000906,13 L3,13 L3,17 C3,17.5522847 3.44771525,18 4,18 L16,18 C16.5522847,18 17,17.5522847 17,17 L17,13 L13.9499909,13 C13.7183558,14.1411202 12.709479,15 11.5,15 L8.5,15 C7.29052104,15 6.28164422,14.1411202 6.05000906,13 Z M13.9499909,11 L17,11 C17.5522847,11 18,10.5522847 18,10 L18,7 C18,6.44771525 17.5522847,6 17,6 L3,6 C2.44771525,6 2,6.44771525 2,7 L2,10 C2,10.5522847 2.44771525,11 3,11 L6.05000906,11 C6.28164422,9.8588798 7.29052104,9 8.5,9 L11.5,9 C12.709479,9 13.7183558,9.8588798 13.9499909,11 Z M5,4 L5,3 C5,1.34314575 6.34314575,0 8,0 L12,0 C13.6568542,0 15,1.34314575 15,3 L15,4 L17,4 C18.6568542,4 20,5.34314575 20,7 L20,10 C20,10.8884998 19.6137494,11.686786 19,12.2361065 L19,17 C19,18.6568542 17.6568542,20 16,20 L4,20 C2.34314575,20 1,18.6568542 1,17 L1,12.2361065 C0.38625064,11.686786 0,10.8884998 0,10 L0,7 C0,5.34314575 1.34314575,4 3,4 L5,4 Z M13,4 L13,3 C13,2.44771525 12.5522847,2 12,2 L8,2 C7.44771525,2 7,2.44771525 7,3 L7,4 L13,4 Z M8.5,11 C8.2238576,11 8,11.2238576 8,11.5 L8,12.5 C8,12.7761424 8.2238576,13 8.5,13 L11.5,13 C11.7761424,13 12,12.7761424 12,12.5 L12,11.5 C12,11.2238576 11.7761424,11 11.5,11 L8.5,11 Z"}})])])])])])]),e._v(" "),s("span",[e._v("Templates")])])],1),e._v(" "),s("div",{staticClass:"menu-option"},[s("router-link",{attrs:{to:"/folders"}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M6.083 4c1.38 1.612 2.578 3 4.917 3h11v13h-20v-16h4.083zm.917-2h-7v20h24v-17h-13c-1.629 0-2.305-1.058-4-3z"}})]),e._v(" "),s("span",[e._v("All folders")])])],1)]),e._v(" "),s("hr"),e._v(" "),s("div",{staticClass:"menu-options level2"},["admin"==e.accessLevel?[s("div",{staticClass:"menu-option"},[s("router-link",{attrs:{to:"/edit-company"}},[s("svg",{staticStyle:{"enable-background":"new 0 0 52 65"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 52 65","xml:space":"preserve"}},[s("g",[s("path",{attrs:{d:"M26.2,13.4c3.1,0,5.5-3.5,5.5-6.5c0-3-2.5-5.5-5.5-5.5s-5.5,2.5-5.5,5.5C20.7,9.9,23.1,13.4,26.2,13.4z"}}),e._v(" "),s("path",{attrs:{d:"M51,49.4c-0.1-4.2-2.5-7.9-6-9.7c-1.3,1.6-3.2,2.7-5.3,2.7c-1.2,0-2.4-0.4-3.5-1.1c-0.6-0.4-1.2-1-1.8-1.6\n                            c-3.5,1.9-6,5.6-6,9.9c0,0.5,0.5,1,1,1H50c0,0,0,0,0,0c0.5,0,1-0.5,1-1C51,49.5,51,49.5,51,49.4z"}}),e._v(" "),s("path",{attrs:{d:"M37.3,39.6c0.8,0.5,1.6,0.8,2.4,0.8c3.1,0,5.5-3.5,5.5-6.5c0-3-2.5-5.5-5.5-5.5c-3,0-5.5,2.5-5.5,5.5c0,0.4,0,0.7,0.1,1.1\n                            C32,33.8,29.5,33.2,27,33v-9.4h9.5c0,0,0,0,0,0c0.6,0,1-0.5,1-1c0-0.1,0-0.2,0-0.2c-0.1-4.2-2.5-7.9-6-9.7\n                            c-1.3,1.6-3.2,2.7-5.3,2.7c-2.1,0-4-1.1-5.3-2.7c-3.5,1.9-6,5.6-6,9.9c0,0.5,0.4,1,1,1H25V33c-2.5,0.1-5,0.8-7.3,1.9\n                            c0.1-0.4,0.1-0.7,0.1-1.1c0-3-2.5-5.5-5.5-5.5c-3,0-5.5,2.5-5.5,5.5c0,3,2.4,6.5,5.5,6.5c0.8,0,1.6-0.3,2.4-0.7\n                            c0.5-0.3,1.1-0.8,1.5-1.3c5.7-4.4,14-4.4,19.7,0C36.3,38.8,36.8,39.2,37.3,39.6z"}}),e._v(" "),s("path",{attrs:{d:"M17.6,39.7c-0.5,0.6-1.2,1.2-1.8,1.6c-1.1,0.7-2.3,1-3.5,1c-2.1,0-4-1.1-5.3-2.7c-3.5,1.9-6,5.6-6,9.9c0,0.5,0.5,1,1,1\n                            h20.5c0,0,0,0,0,0c0.5,0,1-0.5,1-1c0-0.1,0-0.1,0-0.2C23.5,45.2,21.1,41.5,17.6,39.7z"}})])]),e._v(" "),s("span",[e._v("Edit Company")])])],1)]:e._e(),e._v(" "),s("div",{staticClass:"menu-option"},[s("router-link",{attrs:{to:"/my-account"}},[s("svg",{attrs:{width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[s("title",[e._v("Shape")]),e._v(" "),s("desc",[e._v("Created with Sketch.")]),e._v(" "),s("defs"),e._v(" "),s("g",{attrs:{id:"Symbols",stroke:"none","stroke-width":"1","fill-rule":"evenodd"}},[s("g",{attrs:{id:"Sidebar",transform:"translate(-40.000000, -572.000000)"}},[s("g",{attrs:{id:"noun_account_1337577",transform:"translate(40.000000, 572.000000)"}},[s("path",{attrs:{d:"M14.2285714,9.52285714 C15.1428571,8.51 15.7142857,7.18285714 15.7142857,5.71428571 C15.7142857,2.56285714 13.1514286,0 10,0 C6.84857143,0 4.28571429,2.56285714 4.28571429,5.71428571 C4.28571429,7.18285714 4.85714286,8.51 5.77142857,9.52285714 C2.36714286,11.12 0,14.57 0,18.5714286 L0,20 L20,20 L20,18.5714286 C20,14.57 17.6328571,11.12 14.2285714,9.52285714 Z M7.14285714,5.71428571 C7.14285714,4.13857143 8.42428571,2.85714286 10,2.85714286 C11.5757143,2.85714286 12.8571429,4.13857143 12.8571429,5.71428571 C12.8571429,7.29 11.5757143,8.57142857 10,8.57142857 C8.42428571,8.57142857 7.14285714,7.29 7.14285714,5.71428571 Z M3.00142857,17.1428571 C3.66428571,13.8871429 6.55142857,11.4285714 10,11.4285714 C13.4485714,11.4285714 16.3357143,13.8871429 16.9985714,17.1428571 L3.00142857,17.1428571 Z",id:"Shape"}})])])])]),e._v(" "),s("span",[e._v("My account")])])],1),e._v(" "),e.loggedIn?s("div",{staticClass:"menu-option"},[s("router-link",{attrs:{to:"/logout"}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",viewBox:"0 0 512 640",x:"0px",y:"0px"}},[s("title",[e._v("l3")]),s("path",{attrs:{d:"M153.51,424.21c-13.29-.74-26.66-0.27-40-0.34-17-.08-25.88-9-25.88-26.11q0-142,0-284.09c0-16.74,8.88-25.72,25.61-25.84,12.8-.09,25.61.3,38.4-0.16A43.67,43.67,0,0,0,194,43.16c-0.32-23.59-19.37-42.56-43.47-43-14.4-.24-28.8-0.28-43.2,0C57.08,1.37,13.7,36.81,2.66,85.57c-1,4.47-1.78,9-2.66,13.5V412.61c0.38,1.72.89,3.41,1.13,5.15,6.69,48.12,47.18,88.2,95.55,92.9,19,1.85,38.37,1.47,57.52.75,15.75-.59,27.33-9.55,34.76-23.22C203.91,460.68,184.72,425.95,153.51,424.21Z"}}),s("path",{attrs:{d:"M363.14,96.62c-8.18-8.18-18.29-12.09-29.8-12.26a44.31,44.31,0,0,0-41,26.53,43.15,43.15,0,0,0,9.08,47.82c18.42,18.78,37,37.54,55.54,56.23,1.29,1.3,2.47,3.06,4.44,5.06h-9.57c-59,0-118.07-.24-177.1-0.11-29.39.06-50,25.71-43.51,53.82,4.56,19.73,22.8,33.47,44.33,33.49,59.57,0,119.13-.2,178.7-0.2h6.13a20.56,20.56,0,0,0,1.53,2.43c-1.7,1-3.71,1.69-5,3-17.67,17.53-35.41,35-52.79,52.84-17,17.38-16.84,44.16-.2,61,17.21,17.42,44.38,18.28,61.83,1Q433,360.69,499.58,293.43a42.47,42.47,0,0,0-.12-60.14Q431.55,164.71,363.14,96.62Z"}}),s("text",{attrs:{x:"0",y:"527",fill:"#000000","font-size":"5px","font-weight":"bold","font-family":"'Helvetica Neue', Helvetica, Arial-Unicode, Arial, Sans-serif"}},[e._v("Created by i cons")]),s("text",{attrs:{x:"0",y:"532",fill:"#000000","font-size":"5px","font-weight":"bold","font-family":"'Helvetica Neue', Helvetica, Arial-Unicode, Arial, Sans-serif"}},[e._v("from the Noun Project")])]),e._v(" "),s("span",[e._v("Log out")])])],1):e._e()],2)])},staticRenderFns:[]},o=a("VU/8")(r,i,!1,null,null,null).exports,l={name:"App",components:{Sidebar:o}},c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var d=a("VU/8")(l,c,!1,function(e){a("OfSX"),a("kckB")},null,null).exports,u=a("/ocq"),p={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"hello"},[s("h1",[e._v(e._s(e.msg))]),e._v(" "),s("h2",[e._v("Essential Links")]),e._v(" "),e._m(0),e._v(" "),s("h2",[e._v("Ecosystem")]),e._v(" "),e._m(1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",[s("li",[s("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[e._v("\n        Core Docs\n      ")])]),e._v(" "),s("li",[s("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[e._v("\n        Forum\n      ")])]),e._v(" "),s("li",[s("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[e._v("\n        Community Chat\n      ")])]),e._v(" "),s("li",[s("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[e._v("\n        Twitter\n      ")])]),e._v(" "),s("br"),e._v(" "),s("li",[s("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[e._v("\n        Docs for This Template\n      ")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[t("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuesdasdsadasdsadsx\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};a("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},p,!1,function(e){a("p+BR")},"data-v-19c4f15e",null).exports;var m=a("BO1k"),v=a.n(m),h=a("7t+N"),g=a.n(h),f=a("7t+N"),C=a("M4fF"),w={data:function(){return{baseUrl:"https://stage.api.banners.ee/v1"}},methods:{toggleDropDown:function(e){switch(console.log(e.target),e.target.tagName){case"DIV":e.target.children[1].classList.toggle("visible"),e.target.classList.toggle("open");break;case"SPAN":e.target.nextElementSibling.classList.toggle("visible"),e.target.parentNode.classList.toggle("open");break;default:e.target.nextElementSibling.classList.toggle("visible"),e.target.parentNode.classList.toggle("open")}},highLightParent:function(e){e.target.parentNode.classList.remove("input-error"),e.target.parentNode.classList.add("highlighted","focused"),e.stopPropagation()},unHighLightParent:function(e){e.target.parentNode.classList.remove("highlighted"),""==e.target.parentNode.children[1].value&&e.target.parentNode.classList.remove("focused")},focusInput:function(e){e.target.nextElementSibling.focus()},checkIfAutofilled:function(){var e=document.querySelectorAll(".input-block");console.log(e);for(var t=0;t<e.length;t++)e[t].children[1].value.length>0&&e[t].classList.add("focused")},humanDate:function(e){return new Date(e).toDateString()},returnHumanDate:function(e){return new Date(e).toLocaleString("en-GB",{timeZone:"UTC"}).split(",")[0]},returnRole:function(e){switch(e){case"admin":return"Administrator";default:return"unset"}},hidePopup:function(e){if(console.log("hidepopup"),e.target.classList.contains("overlay")){var t=document.querySelectorAll(".overlay"),s=!0,a=!1,n=void 0;try{for(var r,i=v()(t);!(s=(r=i.next()).done);s=!0){r.value.classList.add("animated","slideOutRight")}}catch(e){a=!0,n=e}finally{try{!s&&i.return&&i.return()}finally{if(a)throw n}}setTimeout(function(){var e=!0,s=!1,a=void 0;try{for(var n,r=v()(t);!(e=(n=r.next()).done);e=!0){var i=n.value;i.classList.remove("animated","slideOutRight"),i.classList.remove("open")}}catch(e){s=!0,a=e}finally{try{!e&&r.return&&r.return()}finally{if(s)throw a}}},2e3)}},dropdownToggle:function(e){f(e.target).parent().toggleClass("open"),f(e.target).removeClass("input-error"),f(e.target).parent().removeClass("input-error"),f(e.target).next().is(":visible")?f(e.target).next().slideUp():f(e.target).next().slideDown()},dropDownElementClicked:function(e){f(e.target).parent().parent().prev().text(g()(e.target).text()),f(e.target).parent().parent().slideUp()},changed:function(){this.checkIfAutofilled()},editPopup:function(e){console.log(e.target.tagName),"path"!=e.target.tagName?e.target.nextElementSibling.classList.toggle("visible"):e.target.parentNode.nextElementSibling.classList.toggle("visible")},dismissPopup:function(e){g()(e.target).parent().parent().slideUp()},showConfirmation:function(e){g()(e.target).next().slideDown()},focusEveryElementOnce:function(e){e.find("input").each(function(e,t){g()(t).focus()})},animateCss:function(e,t,s,a){e.preventDefault();var n=document.querySelector(t);n.classList.add("animated",s),console.log(n);var r=function(){var e,t=document.createElement("fakeelement"),s={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in s)if(void 0!==t.style[e])return s[e]}();console.log(r),n.addEventListener(r,function e(){console.log("handleAnimationend"),n.classList.remove("animated",s),n.removeEventListener("animationend",e),"function"==typeof a&&a()}),n.addEventListener(r,function(){console.log("animation ended")})},serialize:function(e){var t="?";return C.forEach(e,function(e,s){t+="vat_number"==s?s+"=testtestt&":"email"==s?s+"=juhan.soone@havas.ee&":null==e&&"vat_number"!=s?s+"=testtest&":s+"="+e+"&"}),t=t.substring(0,t.length-1)},returnAspectRatio:function(e,t){return e==t?"squaree":e>t?"rectangle":"tower"},hslToRgb:function(e,t,s){var a,n,r;if(0==t)a=n=r=s;else{var i=function(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+6*(t-e)*s:s<.5?t:s<2/3?e+(t-e)*(2/3-s)*6:e},o=s<.5?s*(1+t):s+t-s*t,l=2*s-o;a=i(l,o,e+1/3),n=i(l,o,e),r=i(l,o,e-1/3)}return[Math.round(255*a),Math.round(255*n),Math.round(255*r)]},rgbToHsl:function(e,t,s){e/=255,t/=255,s/=255;var a,n,r=Math.max(e,t,s),i=Math.min(e,t,s),o=(r+i)/2;if(r==i)a=n=0;else{var l=r-i;switch(n=o>.5?l/(2-r-i):l/(r+i),r){case e:a=(t-s)/l+(t<s?6:0);break;case t:a=(s-e)/l+2;break;case s:a=(e-t)/l+4}a/=6}return[a,n,o]}}},y={name:"Login",data:function(){return{msg:"Authenticate",email:"",password:"",submitted:!1}},mounted:function(){this.checkIfAutofilled()},mixins:[w],methods:{changed:function(){this.checkIfAutofilled()},login:function(){var e=this;this.$store.dispatch("retrieveToken",{email:this.email,password:this.password}).then(function(t){console.log(t),e.$router.push({path:"/dashboard"})}).catch(function(e){if(console.log(e.response),console.log(e),console.log(e),e&&void 0!==e.response.data.errors){var t=e.response.data.errors;for(var s in t)t.hasOwnProperty(s)&&(console.log(s+" -> "+t[s]),document.querySelector('.logInForm input[name="'+s+'"]').parentNode.classList.add("input-error","animated","shake"));setTimeout(function(){document.querySelector(".logInForm .input-block").classList.remove("animated","shake")},3e3)}void 0!==e.response.data.message&&(document.getElementById("error").innerHTML=e.response.data.message)})}}},x={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-8 offset-lg-2 col-md-12"},[s("h1",[e._v(" "+e._s(e.msg)+" ")]),e._v(" "),s("div",{staticClass:"block logInForm"},[s("form",{staticClass:"auth-form",on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[s("div",{staticClass:"input-block"},[s("span",{staticClass:"fake-label",on:{click:e.focusInput}},[e._v("Email")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",name:"email"},domProps:{value:e.email},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,change:e.changed,input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"input-block"},[s("span",{staticClass:"fake-label",on:{click:e.focusInput}},[e._v("Password")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",name:"password",id:"loginPassword"},domProps:{value:e.password},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,change:e.changed,input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),s("button",{staticClass:"blue roundedd"},[e._v("Log in")])]),e._v(" "),s("span",{attrs:{id:"error"}}),e._v(" "),s("router-link",{attrs:{to:"/reminder"}},[e._v("Forgot your password?")])],1),e._v(" "),e._m(0)])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("span",[this._v(" If you need help contact "),t("a",{attrs:{href:"mailto:help@mail.com"}},[this._v("help@mail.com")])])}]},b=a("VU/8")(y,x,!1,null,null,null).exports,k={name:"Logout",created:function(){var e=this;console.log(this.$router),console.log(this.$store.getters.getToken),this.$store.dispatch("destroyToken",{bearer:this.$store.getters.getToken.accessToken}).then(function(t){e.$router.push({path:"/login"})}).catch(function(t){e.$router.push({path:"/login"})})}},L={render:function(){var e=this.$createElement;return(this._self._c||e)("h1",[this._v("logout")])},staticRenderFns:[]},S=a("VU/8")(k,L,!1,null,null,null).exports,z=a("mvHQ"),T=a.n(z),A=a("Xxa5"),B=a.n(A),I=a("pFYg"),N=a.n(I),P=a("exGp"),F=a.n(P),V=a("mtWM"),H=a.n(V),E=a("K/Lq"),U=a.n(E),M={name:"Register",data:function(){return{msg:"Register as user",firstName:null,lastName:null,email:"test",password:null,passwordConfirmation:null,terms:!1}},created:function(){this.getInvitation()},mixins:[w],methods:{getInvitation:function(){var e=this;return F()(B.a.mark(function t(){return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:null!=typeof e.currentCompany&&(H.a.defaults.headers.common.Accept="application/json",H.a.get("/auth/invitation/"+e.$route.params.token).then(function(t){console.log(t),void 0!=N()(t.data.invitation.user)&&(e.email=t.data.invitation.user.email)}).catch(function(t){console.log(t.response),e.$router.push({path:"/login"})}));case 1:case"end":return t.stop()}},t,e)}))()},registerUser:function(){H.a.defaults.headers.common.Accept="application/json",H.a.post("/auth/invitation/"+this.$route.params.token,{firstName:this.firstName,lastName:this.lastName,email:this.email,password:this.password,passwordConfirmation:this.passwordConfirmation,terms:this.terms}).then(function(e){if(console.log(e),void 0!=N()(e.data.token)){var t=new Date;t.setTime(token.expiresIn),this.$store.commit("retrieveToken",e.data.token),this.$store.commit("retrieveUser",e.data.token),this.$cookie.set("accessToken",T()(e.data.token),t.toUTCString()),this.$cookie.set("user",T()(e.data.user),t.toUTCString()),this.$router.push({path:"/dashboard"})}}).catch(function(e){console.log(e.response)})},checkBox:function(e){e.target.classList.toggle("checked"),this.terms=!this.terms}}},D={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-8 offset-lg-2 col-md-12"},[s("h1",[e._v(" "+e._s(e.msg)+" ")]),e._v(" "),s("div",{staticClass:"block"},[s("form",{staticClass:"auth-form",on:{submit:function(t){return t.preventDefault(),e.registerUser(t)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-6 col-sm-12"},[s("div",{staticClass:"input-block half-width"},[s("span",{staticClass:"fake-label",on:{click:e.focusInput}},[e._v("First Name")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.firstName,expression:"firstName"}],attrs:{name:"firstName",type:"text"},domProps:{value:e.firstName},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||(e.firstName=t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"col-lg-6 col-sm-12"},[s("div",{staticClass:"input-block half-width"},[s("span",{staticClass:"fake-label",on:{click:e.focusInput}},[e._v("Last Name")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.lastName,expression:"lastName"}],attrs:{name:"lastName",type:"text"},domProps:{value:e.lastName},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||(e.lastName=t.target.value)}}})])])]),e._v(" "),s("div",{staticClass:"input-block focused disabled"},[s("span",{staticClass:"fake-label",on:{click:e.focusInput}},[e._v("Email")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{name:"email",type:"text",disabled:""},domProps:{value:e.email},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"input-block"},[s("span",{staticClass:"fake-label",on:{click:e.focusInput}},[e._v("Password")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{name:"password",type:"password"},domProps:{value:e.password},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"input-block"},[s("span",{staticClass:"fake-label",on:{click:e.focusInput}},[e._v("Confirm Password")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.passwordConfirmation,expression:"passwordConfirmation"}],attrs:{name:"passwordConfirmation",type:"password"},domProps:{value:e.passwordConfirmation},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||(e.passwordConfirmation=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"checkbox-group normal"},[s("span",{on:{click:e.checkBox}}),e._m(0),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.terms,expression:"terms"}],attrs:{type:"checkbox",name:"data_accept"},domProps:{checked:Array.isArray(e.terms)?e._i(e.terms,null)>-1:e.terms},on:{change:function(t){var s=e.terms,a=t.target,n=!!a.checked;if(Array.isArray(s)){var r=e._i(s,null);a.checked?r<0&&(e.terms=s.concat([null])):r>-1&&(e.terms=s.slice(0,r).concat(s.slice(r+1)))}else e.terms=n}}})]),e._v(" "),s("button",{staticClass:"blue roundedd",attrs:{type:"submit"}},[e._v("Register")])])]),e._v(" "),e._m(1)])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("label",{attrs:{for:"data_accept"}},[this._v("I accept the "),t("a",{attrs:{href:"",target:"_blank"}},[this._v("terms & conditions")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",[this._v(" If you need help contact "),t("a",{attrs:{href:"mailto:help@mail.com"}},[this._v("help@mail.com")])])}]},O=a("VU/8")(M,D,!1,null,null,null).exports,R={name:"Reminder",data:function(){return{email:"",msg:"test",responseText:"",respType:""}},mixins:[w],methods:{sendEmailReminder:function(e){var t=this;e.preventDefault(),this.$store.getters.loggedIn||H.a.post("/auth/password",{email:this.email}).then(function(e){var s=t.$router;console.log(e),void 0!==e&&setTimeout(function(){s.push({path:"/login"})},1e4),void 0!==e.data.messages&&(t.responseText=e.data.messages[0].message,t.respType=e.data.messages[0].type)}).catch(function(e){if(console.log(H.a.defaults.headers),console.log(e.response),void 0!==e.response.data.errors){var s=e.response.data.errors;for(var a in s)s.hasOwnProperty(a)&&(console.log(a+" -> "+s[a]),document.querySelector('input[name="'+a+'"]').parentNode.classList.add("input-error","animated","shake"));setTimeout(function(){document.querySelector(".input-block").classList.remove("animated","shake")},3e3)}void 0!==e.response.data.errors&&(t.responseText=e.response.data.errors.email[0],t.respType="error")})}}},q={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-8 offset-lg-2 col-md-12"},[s("h1",[e._v(" Send password reminder ")]),e._v(" "),s("form",{staticClass:"auth-form",on:{submit:function(t){return t.preventDefault(),e.sendEmailReminder(t)}}},[s("div",{staticClass:"block"},[s("div",{staticClass:"input-block"},[s("span",{staticClass:"fake-label",on:{click:e.focusInput}},[e._v("Email")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{name:"email",type:"email"},domProps:{value:e.email},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),s("button",{staticClass:"blue roundedd"},[e._v("Send")]),e._v(" "),s("span",{attrs:{id:e.respType}},[e._v(e._s(e.responseText))])])]),e._v(" "),e._m(0)])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("span",[this._v(" If you need help contact "),t("a",{attrs:{href:"mailto:help@mail.com"}},[this._v("help@mail.com")])])}]},j=a("VU/8")(R,q,!1,null,null,null).exports,Z={name:"NewPassword",data:function(){return{msg:"Set a new password ",token:this.$route.params.token,password:"",passwordConfirmation:"",responseText:"",responseType:""}},mixins:[w],created:function(){this.checkIfValidToken()},methods:{checkIfValidToken:function(){var e=this;H.a.get("/auth/password/"+this.token).then(function(e){console.log(e)}).catch(function(t){console.log(t.response),404==t.response.status&&e.$router.push({path:"/login"})})},updatePassword:function(){var e=this;H.a.post("/auth/password/"+this.token,{password:this.password,passwordConfirmation:this.passwordConfirmation}).then(function(t){console.log(t),200==t.status&&e.$router.push({path:"/login"}),e.responseText=t.data.messages[0].type,e.responseType=t.data.messages[0].message}).catch(function(t){if(404==t.response.status)e.$router.push({path:"/login"});else if(void 0!==t.response.data.errors){var s=t.response.data.errors;for(var a in s)if(s.hasOwnProperty(a)){console.log(a+" -> "+s[a]);var n=document.querySelectorAll('input[type="'+a+'"]');console.log(n);for(;0<n.length;n++)n[0].parentNode.classList.add("input-error","animated","shake"),console.log(n[0]);e.responseText=s[a][0],e.responseType="error"}}console.log(H.a.defaults.headers),console.log(t.response)})},updatePassword2:function(){var e=this;console.log("updating pass"),this.$store.dispatch("updatePassword",{password:this.password,passwordConfirmation:this.passwordConfirmation,token:this.token}).then(function(t){console.log(t),void 0===t&&e.$router.push({path:"/dashboard"}),void 0!==t.data.messages&&(document.getElementById("success").innerHTML=t.data.messages[0].message)}).catch(function(e){if(console.log(e.response),void 0!==e.response.data.errors){var t=e.response.data.errors;for(var s in t)if(t.hasOwnProperty(s)){console.log(s+" -> "+t[s]);for(var a=document.querySelectorAll('input[type="'+s+'"]');0<a.length;a++)console.log(a[0].parentNode),console.log(a),a[0].parentNode.classList.add("input-error","animated","shake")}setTimeout(function(){var e=document.querySelectorAll(".input-block");for(var t in e)e[t].classList.remove("animated","shake"),console.log(e[t].classList)},3e3)}void 0!==e.response.data.password&&(document.getElementById("error").innerHTML=e.response.data.message)})}}},Y={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-8 offset-lg-2 col-md-12"},[s("h1",[e._v(" "+e._s(e.msg)+" ")]),e._v(" "),s("form",{staticClass:"auth-form",on:{submit:function(t){return t.preventDefault(),e.updatePassword(t)}}},[s("div",{staticClass:"block"},[s("div",{staticClass:"input-block"},[s("span",{staticClass:"fake-label",on:{click:e.focusInput}},[e._v("Password")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{name:"password",type:"password"},domProps:{value:e.password},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"input-block"},[s("span",{staticClass:"fake-label",on:{click:e.focusInput}},[e._v("Confirm new password")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.passwordConfirmation,expression:"passwordConfirmation"}],attrs:{name:"passwordConfirmation",type:"password"},domProps:{value:e.passwordConfirmation},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||(e.passwordConfirmation=t.target.value)}}})]),e._v(" "),s("button",{staticClass:"blue roundedd"},[e._v("Submit")]),e._v(" "),s("span",{attrs:{id:e.responseType}},[e._v(e._s(e.responseText))])])]),e._v(" "),e._m(0)])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("span",[this._v(" If you need help contact "),t("a",{attrs:{href:"mailto:help@mail.com"}},[this._v("help@mail.com")])])}]},G=a("VU/8")(Z,Y,!1,null,null,null).exports,X=a("bOdI"),W=a.n(X),Q={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"preloader"},[t("div",[t("span",[this._v(" Loading ...")])])])}]},J=a("VU/8")({name:"Loading",data:function(){return{}}},Q,!1,null,null,null).exports,K=a("RRo+"),ee=a.n(K),te={name:"AddBannerModal",components:{Loading:J},data:function(){var e;return e={loading:!0,msg:"Create a banner",name:"",folderid:0,templateid:0,sizeid:0,manualStylesEnabled:0,templateOverwriteEnabled:0,folders:null,templates:null,sizes:this.$store.getters.getSizes},W()(e,"loading",!0),W()(e,"fieldValues",{bg:"1",text:"Osta kohe, võidad lohe!",textColor:"#C87300",ctaText:"Klikka siia!",ctaColor:"#C87300",ctaTextColor:"#fff",logo:"2",animation:"simple",animationDuration:"10"}),W()(e,"templateFieldValues","test"),e},mixins:[w],computed:{loggedIn:function(){return this.$store.getters.loggedIn}},mounted:function(){this.asyncgetFolders(),this.getTemplates(),this.getSizes()},methods:{asyncgetFolders:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ASC",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"id";return F()(B.a.mark(function r(){var i,o,l,c,d,u,p;return B.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s.loading=!0,i=50,o=0,l=n,c=a,e&&ee()(e)&&(i=e),t&&ee()(t)&&(o=t),console.log("asyncfolders start"),H.a.defaults.headers.common.Authorization="Bearer "+s.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=s.$store.getters.getCurrentCompany.id,d={take:i,skip:o,orderByType:c,orderBy:l},u=s.serialize(d),r.next=13,H.a.get("/folders"+u);case 13:p=r.sent,console.log(p.data),s.folders=p.data.folders,s.loading=!1;case 17:case"end":return r.stop()}},r,s)}))()},getSizes:function(){var e=this;return F()(B.a.mark(function t(){var s;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(H.a.defaults.headers.common.Authorization="Bearer "+e.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=e.$store.getters.getCurrentCompany.id,!e.isloggedIn()){t.next=8;break}return t.next=5,H.a.get("/sizes");case 5:s=t.sent,console.log(s.data.sizes),e.sizes=s.data.sizes;case 8:case"end":return t.stop()}},t,e)}))()},getTemplates:function(){var e=this;return F()(B.a.mark(function t(){var s;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(H.a.defaults.headers.common.Authorization="Bearer "+e.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=e.$store.getters.getCurrentCompany.id,!e.isloggedIn()){t.next=8;break}return t.next=5,H.a.get("/templates");case 5:s=t.sent,console.log(s.data),e.templates=s.data.templates;case 8:case"end":return t.stop()}},t,e)}))()},selectTemplate:function(e){var t=this;return F()(B.a.mark(function s(){var a;return B.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return H.a.defaults.headers.common.Authorization="Bearer "+t.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=t.$store.getters.getCurrentCompany.id,s.next=4,H.a.get("/templates/"+e);case 4:a=s.sent,console.log(a.data),console.log(t.templateFieldValues),t.templateFieldValues=a.data.template.fields,console.log(t.templateFieldValues);case 9:case"end":return s.stop()}},s,t)}))()},dropDownElementClicked:function(e,t,s){switch($(e.target).parent().parent().prev().text($(e.target).text()),t){case"folder":this.folderid=s;break;case"template":this.selectTemplate(s),this.templateid=s;break;case"size":this.sizeid=s;break;default:this.folderid=s}$(e.target).parent().parent().slideUp()},checkBoxToggleStyles:function(e){e.target.parentNode.classList.toggle("selected"),e.target.classList.toggle("selected"),this.manualStylesEnabled=0==this.manualStylesEnabled?1:0,console.log(this.manualStylesEnable)},checkBoxToggleTemplate:function(e){e.target.parentNode.classList.toggle("selected"),e.target.classList.toggle("selected"),this.templateOverwriteEnabled=0==this.templateOverwriteEnabled?1:0},createBanner:function(e){var t=this;e.preventDefault(),console.log(e.target),H.a.defaults.headers.common.Authorization="Bearer "+this.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=this.$store.getters.getCurrentCompany.id;var s={name:this.name,folderId:this.folderid,templateId:this.templateid,sizeId:this.sizeid,manualStylesEnabled:this.manualStylesEnabled,templateOverwriteEnabled:this.templateOverwriteEnabled,fieldValues:this.fieldValues};console.log(s),console.table(s),H.a.post("/banners",s).then(function(e){console.log(e),200==e.status&&t.$router.push({path:"banners/edit-banner/"+e.data.banner.id})}).catch(function(e){if(console.log(e.response),void 0!==e.response.data.message&&(document.getElementById("error").innerHTML=e.response.data.message),void 0!==e.response.data.errors){var t=e.response.data.errors;for(var s in t)t.hasOwnProperty(s)&&(console.log(s+" -> "+t[s]),document.querySelector('input[name="'+s+'"]').parentNode.classList.add("input-error","animated","shake"),document.querySelector('input[name="'+s+'"]').parentNode.children[0].innerHTML=t[s]);setTimeout(function(){for(var s in t)t.hasOwnProperty(s)&&(console.log(document.querySelector('input[name="'+s+'"]').parentNode),document.querySelector('input[name="'+s+'"]').parentNode.classList.remove("input-error","animated","shake"),document.querySelector('input[name="'+s+'"]').parentNode.children[0].innerHTML=document.querySelector('input[name="'+s+'"]').parentNode.children[0].dataset.initial);void 0!==e.response.data.message&&(document.getElementById("error").innerHTML="")},5e3)}void 0!==e.response.data.message&&(document.getElementById("error").innerHTML=e.response.data.message)})},isloggedIn:function(){return this.$store.getters.loggedIn}}},se={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"overlay add-banner Aligner",attrs:{id:"add-banner-overlay"},on:{click:function(t){return e.hidePopup(t)}}},[e.loading?[s("Loading")]:e._e(),e._v(" "),s("div",{staticClass:"popup Aligner-item"},[s("div",{staticClass:"popup-header"},[s("h3",[e._v(e._s(e.msg))])]),e._v(" "),s("form",{staticClass:"auth-form",on:{submit:function(t){return t.preventDefault(),e.createBanner(t)}}},[s("div",{staticClass:"input-block"},[s("span",{staticClass:"fake-label",attrs:{"data-initial":"Banner name"},on:{click:e.focusInput}},[e._v("Banner name")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",name:"name"},domProps:{value:e.name},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"input-block half-width select"},[s("span",{staticClass:"fake-label",attrs:{"data-initial":"Folder name"},on:{click:e.focusInput}},[e._v("Folder name")]),e._v(" "),s("span",{on:{click:e.dropdownToggle}},[e._v("Select folder")]),e._v(" "),s("div",{staticClass:"options"},[s("ul",e._l(e.folders,function(t,a){return s("li",{key:a,on:{click:function(t){return e.dropDownElementClicked(t,"folder",a)}}},[e._v(e._s(t.name))])}),0)]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.folderid,expression:"folderid"}],attrs:{type:"hidden",name:"folderId"},domProps:{value:e.folderid},on:{input:function(t){t.target.composing||(e.folderid=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"input-block half-width select"},[s("span",{staticClass:"fake-label",attrs:{"data-initial":"Template name"},on:{click:e.focusInput}},[e._v("Template name")]),e._v(" "),s("span",{on:{click:e.dropdownToggle}},[e._v("Select template")]),e._v(" "),s("div",{staticClass:"options"},[s("ul",e._l(e.templates,function(t,a){return s("li",{key:a,attrs:{"data-templateid":t.id},on:{click:function(s){return e.dropDownElementClicked(s,"template",t.id)}}},[e._v(e._s(t.name))])}),0)]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.templateid,expression:"templateid"}],attrs:{type:"hidden",name:"templateId"},domProps:{value:e.templateid},on:{input:function(t){t.target.composing||(e.templateid=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"input-block half-width select"},[s("span",{staticClass:"fake-label",attrs:{"data-initial":"Size"},on:{click:e.focusInput}},[e._v("Size")]),e._v(" "),s("span",{on:{click:e.dropdownToggle}},[e._v("Select Size")]),e._v(" "),s("div",{staticClass:"options"},[s("ul",e._l(e.sizes,function(t,a){return s("li",{key:a,attrs:{"data-sizeid":t.id},on:{click:function(s){return e.dropDownElementClicked(s,"size",t.id)}}},[e._v(e._s(t.width)+"x"+e._s(t.height))])}),0)]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.sizeid,expression:"sizeid"}],attrs:{type:"hidden",name:"sizeId"},domProps:{value:e.sizeid},on:{input:function(t){t.target.composing||(e.sizeid=t.target.value)}}})]),e._v(" "),s("span",{attrs:{id:"error"}}),e._v(" "),s("button",{attrs:{type:"submit"}},[e._v("Create Banner")])])])],2)},staticRenderFns:[]};var ae=a("VU/8")(te,se,!1,function(e){a("oa6f")},"data-v-661f29b4",null).exports,ne={name:"Dashboard",components:{Sidebar:o,AddBanner:ae,Loading:J},data:function(){var e;return e={loading:!0,user:this.$store.getters.getUser,banners:null,templates:null},W()(e,"loading",!0),W()(e,"active",[]),W()(e,"activetwo",[]),W()(e,"currentCompany",this.$store.getters.getCurrentCompany||null),W()(e,"currentAccessLevel",this.$store.getters.getCurrentAccessLevel||null),e},computed:{loggedIn:function(){return this.$store.getters.loggedIn}},created:function(){var e=this;if(null==this.currentCompany&&(this.$store.commit("setCurrentCompany",this.$store.getters.getUser.companies[0]),this.currentCompany=this.$store.getters.getUser.companies[0]),null==this.currentAccessLevel){var t=_.findIndex(this.$store.getters.getUser.companies,function(t){return t.id==e.$store.getters.getCurrentCompany.id});console.log(this.$store.getters.getUser),this.currentAccessLevel=this.$store.getters.getUser.companies[t].pivot.role,this.$store.commit("setCurrentAccessLevel",this.$store.getters.getUser.companies[t].pivot.role)}this.asyncgetBannersDirect(),this.asyncgetTemplatesDirect()},mixins:[w],methods:{methodThatForcesUpdate:function(e){this.setCurrentCompany(e.id)},asyncgetBannersDirect:function(){var e=this;return F()(B.a.mark(function t(){var s;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.loading=!0,H.a.defaults.headers.common.Authorization="Bearer "+e.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=e.$store.getters.getCurrentCompany.id,!e.isloggedIn()){t.next=9;break}return t.next=5,H.a.get("/banners");case 5:s=t.sent,console.log(e),console.log(s.data),e.banners=s.data;case 9:e.loading=!1;case 10:case"end":return t.stop()}},t,e)}))()},asyncgetTemplatesDirect:function(){var e=this;return F()(B.a.mark(function t(){var s,a;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.loading=!0,H.a.defaults.headers.common.Authorization="Bearer "+e.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=e.$store.getters.getCurrentCompany.id,!e.isloggedIn()){t.next=8;break}return t.next=5,H.a.get("/templates");case 5:s=t.sent,console.log(s),e.templates=s.data;case 8:for(a=0;a<response.data.templates.length;a++)e.active.push(!1),e.activetwo.push(!1);e.loading=!1;case 10:case"end":return t.stop()}},t,e)}))()},checkBoxToggle:function(e){e.target.parentNode.classList.toggle("selected"),e.target.classList.toggle("selected")},showOverlay:function(){document.querySelector(".overlay").classList.add("open","animated","slideInRight")},isloggedIn:function(){return this.$store.getters.loggedIn},isCurrentCompany:function(e){return e===this.currentCompany.id?"active":""},setCurrentCompany:function(e){var t=_.findIndex(this.$store.getters.getUser.companies,function(t){return t.id==e});console.log(t),this.$store.commit("setCurrentCompany",this.$store.getters.getUser.companies[t]),this.currentCompany=this.$store.getters.getUser.companies[t],this.asyncgetBannersDirect(),this.asyncgetTemplatesDirect()},returnAspectRatio:function(e,t){return e==t?"squaree":e>t?"rectangle":"tower"},showTooltip:function(e,t){1==e?this.active.splice(t,1,!this.active[t]):this.activetwo.splice(t,1,!this.activetwo[t])}}},re={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fullpage container-fluid"},[s("div",{staticClass:"row"},[s("sidebar",{on:{"company-changed":function(t){return e.methodThatForcesUpdate(t)}}}),e._v(" "),s("add-banner"),e._v(" "),e.loading?[s("Loading")]:e._e(),e._v(" "),s("div",{staticClass:"dashboard main-view container-fluid"},[s("div",{staticClass:"banners-by-company row"},[e._l(e.user.companies,function(t){return[s("div",{staticClass:"banner-by-company col-lg-3 col-md-6 col-sm-12",class:e.isCurrentCompany(t.id),on:{click:function(s){return e.setCurrentCompany(t.id)}}},[s("span",{staticClass:"allcaps"},[e._v(e._s(t.name))]),s("br"),e._v(" "),s("span",{staticClass:"small"},[e._v(e._s(t.bannersCount)+" banners, "+e._s(t.templatesCount)+" templates")])])]})],2),e._v(" "),s("div",{staticClass:"recent-banners"},[s("div",{staticClass:"header row"},[s("div",{staticClass:"left col-lg-8"},[s("h1",[e._v("My recent Banners ("+e._s(e.banners.totalCount)+")")])]),e._v(" "),s("div",{staticClass:"right col-lg-4"},[s("button",{staticClass:"create blue roundedd",on:{click:e.showOverlay}},[e._v("Create banner")]),e._v(" "),s("router-link",{attrs:{to:"/banners"}},[s("button",{staticClass:"view blue roundedd"},[e._v("View all")])])],1)]),e._v(" "),s("div",{staticClass:"banner-slide row"},[e._l(e.banners.banners,function(t){return s("div",{staticClass:"col-lg-2 col-md-3 col-sm-6"},[s("router-link",{attrs:{to:{path:"/banners/edit-banner/"+t.id}}},[s("div",{class:e.returnAspectRatio(t.size.width,t.size.height)+" dimension-box"},["tower"==e.returnAspectRatio(t.size.width,t.size.height)?[s("svg",{staticStyle:{"enable-background":"new 0 0 40 40"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 40 40","xml:space":"preserve"}},[s("g",{staticClass:"st0",attrs:{id:"Page-1"}},[s("g",{attrs:{id:"image-gallery-copy-2"}},[s("path",{attrs:{id:"Shape",d:"M6.2,26.8V9.6H3.5C1.6,9.6,0,11.2,0,13.2v23.2c0,1.9,1.6,3.5,3.5,3.5h23.2c1.9,0,3.5-1.6,3.5-3.5v-2.5H13.2 C9.3,33.9,6.2,30.7,6.2,26.8z"}}),e._v(" "),s("path",{attrs:{d:"M36.5,0.1H13.2c-1.9,0-3.5,1.6-3.5,3.5v23.2c0,1.9,1.6,3.5,3.5,3.5h23.2c1.9,0,3.5-1.6,3.5-3.5V3.6 C40,1.6,38.4,0.1,36.5,0.1z M28.5,25.5h-6.8V4.7h6.8V25.5z"}})])])])]:"rectangle"==e.returnAspectRatio(t.size.width,t.size.height)?[s("svg",{staticStyle:{"enable-background":"new 0 0 40 40"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 40 40","xml:space":"preserve"}},[s("g",{staticClass:"st0",attrs:{id:"Page-1"}},[s("g",{attrs:{id:"image-gallery-copy-3"}},[s("path",{attrs:{id:"Shape",d:"M6.2,26.8V9.6H3.5C1.6,9.6,0,11.2,0,13.2v23.2c0,1.9,1.6,3.5,3.5,3.5h23.2c1.9,0,3.5-1.6,3.5-3.5v-2.5H13.2 C9.3,33.9,6.2,30.7,6.2,26.8z"}}),e._v(" "),s("path",{attrs:{d:"M36.5,0.1H13.2c-1.9,0-3.5,1.6-3.5,3.5v23.2c0,1.9,1.6,3.5,3.5,3.5h23.2c1.9,0,3.5-1.6,3.5-3.5V3.6 C40,1.6,38.4,0.1,36.5,0.1z M35.2,18.4H15v-6.4h20.1V18.4z"}})])])])]:"squaree"==e.returnAspectRatio(t.size.width,t.size.height)?[s("svg",{staticStyle:{"enable-background":"new 0 0 40 40"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 40 40","xml:space":"preserve"}},[s("g",{staticClass:"st0",attrs:{id:"Page-1"}},[s("g",{attrs:{id:"image-gallery-copy-4"}},[s("path",{attrs:{id:"Shape",d:"M6.2,26.8V9.6H3.5C1.6,9.6,0,11.2,0,13.2v23.2c0,1.9,1.6,3.5,3.5,3.5h23.2c1.9,0,3.5-1.6,3.5-3.5v-2.5H13.2 C9.3,33.9,6.2,30.7,6.2,26.8z"}}),e._v(" "),s("path",{attrs:{d:"M36.5,0.1H13.2c-1.9,0-3.5,1.6-3.5,3.5v23.2c0,1.9,1.6,3.5,3.5,3.5h23.2c1.9,0,3.5-1.6,3.5-3.5V3.6 C40,1.6,38.4,0.1,36.5,0.1z M30.5,20.4H19.7V10.1h10.8V20.4z"}})])])])]:e._e(),e._v(" "),s("span",[e._v(e._s(t.size.width)+"x"+e._s(t.size.height))])],2),e._v(" "),s("span",[e._v(e._s(t.name))])])],1)}),e._v(" "),0==e.banners.totalCount?[s("span",{staticClass:"sad"},[e._v("No banners yet :'(")])]:e._e()],2)]),e._v(" "),s("div",{staticClass:"recent-templates"},[s("div",{staticClass:"header row"},[s("div",{staticClass:"left col-lg-8"},[s("h1",[e._v("My recent Templates ("+e._s(e.templates.totalCount)+")")])]),e._v(" "),s("div",{staticClass:"right col-lg-4"},[s("button",{staticClass:"create blue roundedd",on:{click:e.showOverlay}},[e._v("Create banner")]),e._v(" "),s("router-link",{attrs:{to:"/templates"}},[s("button",{staticClass:"view blue roundedd"},[e._v("View all")])])],1)]),e._v(" "),s("div",{staticClass:"template-list"},[e._l(e.templates.templates,function(t,a){return s("div",{key:a,staticClass:"template row"},[s("div",{staticClass:"left col-lg-6"},[s("router-link",{attrs:{to:{path:"/templates/"+t.id}}},[s("span",{staticClass:"bold"},[e._v(e._s(t.name))])]),e._v(" "),e._l(t.sizes,function(t){return s("span",{key:t,staticClass:"dimension"},[e._v(e._s(t.width)+" x "+e._s(t.height))])})],2),e._v(" "),s("div",{staticClass:"right col-lg-6"},[s("div",{staticClass:"images"},[s("div",{staticClass:"svg-wrapper popover-wrapper",on:{mouseover:function(t){return e.showTooltip(1,a)},mouseout:function(t){return e.showTooltip(1,a)}}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.active[a],expression:"active[index]"}],staticClass:"popoover"},[s("span",[e._v("View Gallery of banners made with this template")])]),e._v(" "),s("router-link",{attrs:{to:{path:"/templates/"+t.id}}},[s("svg",{staticClass:"duplicate",staticStyle:{"enable-background":"new 0 0 100 125"},attrs:{version:"1.1",id:"Layer_1",fill:"#e0e0e0",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 125","xml:space":"preserve"}},[s("title",[e._v("All")]),e._v(" "),s("g",{attrs:{id:"Desktop"}},[s("g",{attrs:{id:"Templates",transform:"translate(-1270.000000, -689.000000)"}},[s("g",{attrs:{id:"image-gallery-copy-2",transform:"translate(1270.000000, 689.000000)"}},[s("path",{attrs:{id:"Shape",d:"M17.1,78.7V36.6h-6.5c-4.8,0-8.6,3.9-8.6,8.7v57c0,4.8,3.8,8.6,8.6,8.6h57c4.8,0,8.7-3.9,8.7-8.6V96H34.4 C24.9,96,17.1,88.2,17.1,78.7z"}}),e._v(" "),s("path",{attrs:{d:"M91.4,13.1h-57c-4.8,0-8.7,3.9-8.7,8.6v57c0,4.8,3.9,8.7,8.7,8.7h57c4.8,0,8.6-3.9,8.6-8.7v-57 C100,17,96.1,13.1,91.4,13.1z M90.2,73.9c-0.5,0.9-1.4,1.4-2.4,1.4H39c-0.9,0-1.7-0.4-2.2-1.1c-0.5-0.7-0.7-1.6-0.4-2.4l7-23.1 c0.5-1.5,1.7-2.6,3.3-2.9c1.6-0.3,3.1,0.4,4.1,1.7l9.8,13.7c1.3,1.8,3.9,2.3,5.7,1l9-6.1c0.9-0.6,2.1-0.9,3.2-0.6 c1.1,0.2,2.1,0.9,2.7,1.8l9,13.8C90.6,72,90.7,73.1,90.2,73.9z"}})])])])])])],1),e._v(" "),s("div",{staticClass:"svg-wrapper popover-wrapper",on:{mouseover:function(t){return e.showTooltip(2,a)},mouseout:function(t){return e.showTooltip(2,a)}}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.activetwo[a],expression:"activetwo[index]"}],staticClass:"popoover"},[s("span",[e._v("Edit this template")])]),e._v(" "),s("router-link",{attrs:{to:{path:"/template/"+t.id}}},[s("svg",{staticClass:"edit",staticStyle:{"enable-background":"new 0 0 100 125"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 125","xml:space":"preserve"}},[s("title",[e._v("60 all")]),e._v(" "),s("g",[s("path",{attrs:{d:"M76.6,51.8v24.8H23.4V23.4h24.8V12.7H18.1c-3,0-5.4,2.4-5.4,5.4V82c0,3,2.4,5.4,5.4,5.4H82c3,0,5.4-2.4,5.4-5.4V51.8H76.6z "}}),e._v(" "),s("path",{attrs:{d:"M44,44.6l-4.2,11.1c-0.5,1.9,0.6,3.9,2.5,4.4c0.6,0.1,1.3,0.1,1.9,0L55.4,56c0.6-0.1,1.2-0.5,1.5-1l28.6-28.6 c1.4-1.4,2.3-2.9,0.8-4.2l-7.7-7.9c-1.4-1.4-3.7-1.4-5,0L45,43C44.5,43.4,44.2,44,44,44.6z"}})])])])],1)]),e._v(" "),s("div",{staticClass:"text"},[s("span",[e._v(" Times used   "),s("span",[e._v(e._s(t.bannersCount)+" banners")])]),e._v(" "),s("span",[e._v(" Last used   "),s("span",[e._v(e._s(e.humanDate(t.updatedAt)))])])])])])}),e._v(" "),0==e.templates.totalCount?[s("span",{staticClass:"sad"},[e._v("No templates yet :'(")])]:e._e()],2)])])],2)])},staticRenderFns:[]},ie=a("VU/8")(ne,re,!1,null,null,null).exports,oe={name:"AddFolderModal",data:function(){return{msg:"Create a Folder",name:""}},mixins:[w],created:function(){console.log("addfolder created")},methods:{submitClick:function(e){console.log("clicked"),console.log(e)},hideSlide:function(e){if(e.target.classList.contains("overlay")){var t=document.querySelectorAll(".overlay"),s=!0,a=!1,n=void 0;try{for(var r,i=v()(t);!(s=(r=i.next()).done);s=!0){r.value.classList.add("animated","slideOutRight")}}catch(e){a=!0,n=e}finally{try{!s&&i.return&&i.return()}finally{if(a)throw n}}setTimeout(function(){var e=!0,s=!1,a=void 0;try{for(var n,r=v()(t);!(e=(n=r.next()).done);e=!0){var i=n.value;i.classList.remove("animated","slideOutRight"),i.classList.remove("open")}}catch(e){s=!0,a=e}finally{try{!e&&r.return&&r.return()}finally{if(s)throw a}}},2e3)}},createFolder:function(e){console.log("attempting to create folder"),console.log(e.target),H.a.defaults.headers.common.Authorization="Bearer "+this.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=1;var t={name:this.name};console.log(t),H.a.post("/folders",t).then(function(e){console.log(e)}).catch(function(e){if(console.log(e.response),void 0!==e.response.data.errors){var t=e.response.data.errors;for(var s in t)t.hasOwnProperty(s)&&(console.log(s+" -> "+t[s]),$('input[name="'+s+'"]').parent().addClass("input-error animated shake"));setTimeout(function(){$(".input-block").removeClass("input-error animated shake")},3e3)}void 0!==e.response.data.message&&(document.getElementById("error").innerHTML=e.response.data.message)})}}},le={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"overlay add-folder Aligner",attrs:{id:"add-folder-overlay"},on:{click:function(t){return e.hideSlide(t)}}},[s("div",{staticClass:"popup Aligner-item"},[s("div",{staticClass:"popup-header"},[s("h3",[e._v(e._s(e.msg))])]),e._v(" "),s("form",{staticClass:"auth-form",attrs:{id:"folderform"},on:{submit:function(t){return t.preventDefault(),e.createFolder(t)}}},[s("div",{staticClass:"input-block"},[s("span",{staticClass:"fake-label",attrs:{"data-initial":"Folder name"},on:{click:e.focusInput}},[e._v("Folder name")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",name:"name"},domProps:{value:e.name},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),s("span",{attrs:{id:"error"}}),e._v(" "),s("button",{attrs:{type:"submit"}},[e._v("Create folder")])])])])},staticRenderFns:[]};var ce={name:"Banners",components:{Sidebar:o,AddBanner:ae,AddFolder:a("VU/8")(oe,le,!1,function(e){a("Mto1")},"data-v-4add4774",null).exports,Loading:J},data:function(){return{loading:!0,msg:"Banners yo",banners:null,folders:null,allFolders:null,currentCompany:this.$store.getters.getCurrentCompany||null,currentAccessLevel:this.$store.getters.getCurrentAccessLevel||null,creating:!1,createName:null,confirmedtrue:!1,editName:null,editing:[],allSizes:null,currentSortByIndex:0,currentSortByOrderIndex:0,currentAspectRatioIndex:0,currentSizeIndex:0,bannerSearchValue:null,folderSearchValue:null,aspectRatios:[{value:"all",text:"All"},{value:"square",text:"Square"},{value:"portrait",text:"Portrait"},{value:"landscape",text:"Landscape"}],orderOptions:[{value:"DESC",html:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 21l-12-18h24z"/></svg>',text:"Descending"},{value:"ASC",html:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M24 22h-24l12-20z"/></svg>',text:"Ascending"}],sortingOptions:[{value:"updatedAt",text:"Date updated"},{value:"createdAt",text:"Date created"},{value:"name",text:"Name alphabetically"},{value:"description",text:"Description alphabetically"},{value:"templateId",text:"Template ID"},{value:"estimatedBannerSize",text:"Estimated banner size"}],editingOrderValue:!1,editingOrderOrder:!1,editingAspectRatio:!1,editingSize:!1}},created:function(){var e=this;if(null==this.$store.getters.getCurrentCompany&&(this.$store.commit("setCurrentCompany",this.$store.getters.getUser.companies[0]),this.currentCompany=this.$store.getters.getUser.companies[0]),null==this.currentAccessLevel){var t=_.findIndex(this.$store.getters.getUser.companies,function(t){return t.id==e.$store.getters.getCurrentCompany.id});this.currentAccessLevel=this.$store.getters.getUser.companies[t].pivot.role,this.$store.commit("setCurrentAccessLevel",this.$store.getters.getUser.companies[t].pivot.role)}this.asyncgetBannersDirect(),this.asyncgetFolders(),this.getAllSizes()},mixins:[w],methods:{searchFolders:function(){var e=this.folderSearchValue.toLowerCase(),t=[];null!=e&&""!=e?(_.forEach(this.allFolders,function(s){s.name.toLowerCase().indexOf(e)>-1&&t.push(s)}),this.folders=t):this.folders=this.allFolders},searchBanners:function(){var e=this.bannerSearchValue.toLowerCase(),t=[];null!=e&&""!=e?(_.forEach(this.allBanners,function(s){s.name.toLowerCase().indexOf(e)>-1&&t.push(s)}),this.banners=t):this.banners=this.allBanners},setSorting:function(e,t,s){"value"==s?this.currentSortByIndex=t:"order"==s&&(0==this.currentSortByOrderIndex?this.currentSortByOrderIndex=1:this.currentSortByOrderIndex=0),e.stopPropagation(),this.editingOrderValue=!1,this.editingOrderOrder=!1,this.editingAspectRatio=!1,this.editingSize=!1,this.asyncgetBannersDirect(20,0,this.orderOptions[this.currentSortByOrderIndex].value,this.sortingOptions[this.currentSortByIndex].value),console.log("sorting done"),console.log(this.templates)},openSortDropDown:function(e,t){switch(console.log("opensortdropdown"),console.log(t),t){case"value":this.editingOrderValue=!this.editingOrderValue;break;case"order":this.editingOrderOrder=!this.editingOrderOrder;break;case"ratio":this.editingAspectRatio=!this.editingAspectRatio;break;case"size":this.editingSize=!this.editingSize}},getAllSizes:function(){var e=this;return F()(B.a.mark(function t(){var s,a;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,H.a.defaults.headers.common.Authorization="Bearer "+e.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=e.$store.getters.getCurrentCompany.id,H.a.defaults.headers.common.Accept="application/json",t.next=6,H.a.get("/sizes");case 6:s=t.sent,console.log(s.data),e.allSizes=s.data.sizes,a={width:"All",id:"all"},e.allSizes.unshift(a),e.loading=!1;case 12:case"end":return t.stop()}},t,e)}))()},asyncgetBannersDirect:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"DESC",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"updatedAt";return F()(B.a.mark(function r(){var i,o,l;return B.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s.loading=!0,H.a.defaults.headers.common.Authorization="Bearer "+s.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=s.$store.getters.getCurrentCompany.id,i={take:e,skip:t,orderByType:a,orderBy:n},o=s.serialize(i),r.next=6,H.a.get("/banners"+o);case 6:l=r.sent,console.log(l),s.banners=l.data.banners,s.allBanners=l.data.banners,_.forEach(s.allBanners,function(e,t){N()(s.banners[t].aspectRatio)!==Array&&(s.banners[t].aspectRatio=[]),N()(s.allBanners[t].aspectRatio)!==Array&&(s.allBanners[t].aspectRatio=[]),e.size.width==e.size.height?(s.banners[t].aspectRatio.push("square"),s.allBanners[t].aspectRatio.push("square")):e.size.width>e.size.height?(s.banners[t].aspectRatio.push("landscape"),s.allBanners[t].aspectRatio.push("landscape")):(s.banners[t].aspectRatio.push("portrait"),s.allBanners[t].aspectRatio.push("portrait"))}),console.log(s.banners),s.loading=!1;case 13:case"end":return r.stop()}},r,s)}))()},searchByAspectRatio:function(e,t,s){var a=this;e.stopPropagation(),this.banners=[],console.log("searching by aspect ratio"),this.editingAspectRatio=!1,this.editingSize=!1,this.currentAspectRatioIndex=s,"all"!=t?_.forEach(this.allBanners,function(e,s){void 0!==a.allBanners[s].aspectRatio&&-1!=a.allBanners[s].aspectRatio.indexOf(t)&&a.banners.push(e)}):this.banners=this.allBanners},getSizeTextByIndex:function(e){return void 0!==this.allSizes[e].width&&void 0!==this.allSizes[e].height?this.allSizes[e].width+"x"+this.allSizes[e].height:this.allSizes[e].width},searchBySizeId:function(e,t,s){var a=this;e.stopPropagation(),this.banners=[],this.editingOrderValue=!1,this.editingOrderOrder=!1,this.editingAspectRatio=!1,this.editingSize=!1,this.currentSizeIndex=s,"all"!=t?_.forEach(this.allBanners,function(e,s){console.log(e.size),console.log(t),void 0===e.size||e.size.id!=t||a.banners.push(e)}):this.banners=this.allBanners},asyncgetFolderbyID:function(e){var t=this;return F()(B.a.mark(function s(){var a;return B.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t.loading=!0,H.a.defaults.headers.common.Accept="application/json",H.a.defaults.headers.common.Authorization="Bearer "+t.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=t.$store.getters.getCurrentCompany.id,s.next=4,H.a.get("/folders/"+e);case 4:a=s.sent,console.log(a.data),t.loading=!1;case 7:case"end":return s.stop()}},s,t)}))()},asyncgetFolders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ASC",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"id";return F()(B.a.mark(function r(){var i,o,l;return B.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s.loading=!0,console.log("asyncfolders start"),H.a.defaults.headers.common.Authorization="Bearer "+s.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=s.$store.getters.getCurrentCompany.id,i={take:e,skip:t,orderByType:a,orderBy:n},o=s.serialize(i),r.next=7,H.a.get("/folders"+o);case 7:l=r.sent,console.log(l.data.folders),s.folders=l.data.folders,s.allFolders=l.data.folders,s.sortFoldersById(),s.hideAllPopups(),s.loading=!1;case 14:case"end":return r.stop()}},r,s)}))()},sortFoldersById:function(){this.loading=!0;var e=[];_.forEach(this.allFolders,function(t,s){null==t.parentId&&e.push(t)}),this.folders=e,this.allFolders=e,this.loading=!1},showBannerOverlay:function(){document.querySelector(".overlay.add-banner").classList.add("open","animated","slideInLeft"),setTimeout(function(){document.querySelector(".overlay.add-banner").classList.remove("animated","slideInLeft")},2e3)},showFolderOverlay:function(){document.querySelector(".overlay.add-folder").classList.add("open","animated","slideInLeft"),setTimeout(function(){document.querySelector(".overlay.add-banner").classList.remove("animated","slideInLeft")},2e3)},returnAspectRatio:function(e,t){return e==t?"squaree":e>t?"rectangle":"tower"},editPopup:function(e){e.target.nextElementSibling.classList.contains("visible")?this.hideAllPopups():e.target.nextElementSibling.classList.add("visible"),this.editing=null},hideAllPopups:function(){var e=document.querySelectorAll(".edit-box");for(var t in e)e.hasOwnProperty(t)&&document.querySelectorAll(".edit-box")[t].classList.remove("visible")},toggleCreating:function(){this.creating=!this.creating},createFolder:function(e){var t=this;console.log("attempting to create folder"),console.log(e.target),H.a.defaults.headers.common.Authorization="Bearer "+this.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=this.$store.getters.getCurrentCompany.id;var s={name:this.createName};console.log(s),H.a.post("/folders",s).then(function(e){console.log(e),t.asyncgetFolders(),t.createName=null,t.creating=!t.creating,console.log(t.folders)}).catch(function(e){if(console.log(e.response),"undefined"!=e&&void 0!==e.response.data.errors){var t=e.response.data.errors;for(var s in t)t.hasOwnProperty(s)&&(console.log(s+" -> "+t[s]),$('input[name="'+s+'"]').parent().addClass("input-error animated shake"),$('input[name="'+s+'"]').prev().text(t[s]));setTimeout(function(){$(".input-block").removeClass("input-error animated shake");var e=$(".fake-label");for(var t in e){var s=$(".fake-label").eq(t).data("initial");$(".fake-label").eq(t).text(s)}},3e3)}void 0!==e.response.data.message&&(document.getElementById("error").innerHTML=e.response.data.message)})},deleteFolder:function(e,t){var s=this;e.preventDefault(),console.log("attempting to delete folder"),H.a.defaults.headers.common.Accept="application/json",H.a.defaults.headers.common.Authorization="Bearer "+this.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=this.$store.getters.getCurrentCompany.id;var a={confirmed:!0,_method:"delete"};console.log(a),H.a.post("/folders/"+t,a).then(function(e){console.log(e),s.asyncgetFolders(),console.log(s.folders)}).catch(function(e){"undefined"!=e.response&&console.log(e.response)})},editFolder:function(e,t){var s=this;e.preventDefault(),H.a.defaults.headers.common.Authorization="Bearer "+this.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Accept="application/json",H.a.defaults.headers.common.Company=this.$store.getters.getCurrentCompany.id;var a=null!=t.parentId?t.parentId:1;H.a.patch("/folders/"+t.id,{name:this.editName,generatePreviewToken:1,parentId:a}).then(function(e){console.log(e),s.asyncgetFolders(),s.createName=null,s.editName=null,s.editing=null}).catch(function(e){void 0!==e&&console.log(e.response)})},setEditing:function(e,t,s){event.preventDefault(),this.editing=s.id,this.editName=s.name,this.hideAllPopups()},methodThatForcesUpdate:function(e){this.currentCompany=e,this.asyncgetBannersDirect(),this.asyncgetFolders()}}},de={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fullpage container-fluid"},[s("div",{staticClass:"row"},[s("sidebar",{on:{"company-changed":function(t){return e.methodThatForcesUpdate(t)}}}),e._v(" "),s("add-banner"),e._v(" "),e.loading?[s("Loading")]:e._e(),e._v(" "),e._m(0),e._v(" "),s("div",{staticClass:"banners container-fluid main-view"},[s("h1",[e._v("Banners")]),e._v(" "),s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"header row"},[s("div",{staticClass:"left col-lg-5 col-md-4"},[s("button",{staticClass:"blue create-folder roundedd",on:{click:e.toggleCreating}},[e._v("Create folder")]),e._v(" "),s("button",{staticClass:"blue create roundedd",on:{click:e.showBannerOverlay}},[e._v("Create Banner")])]),e._v(" "),s("div",{staticClass:"right col-lg-7 col-md-8"},[s("div",{staticClass:"input-bubble search"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.folderSearchValue,expression:"folderSearchValue"}],attrs:{type:"text",placeholder:"Search folders by name or description"},domProps:{value:e.folderSearchValue},on:{keyup:e.searchFolders,input:function(t){t.target.composing||(e.folderSearchValue=t.target.value)}}})])])]),e._v(" "),s("div",{staticClass:"folders row"},[e.creating?[s("div",{staticClass:"col-lg-2 col-md-3 col-sm-6"},[s("div",{staticClass:"folder create-folder"},[s("div",{staticClass:"folder-name"},[s("form",{staticClass:"auth-form",attrs:{id:"addFolder"},on:{submit:function(t){return t.preventDefault(),e.createFolder(t)}}},[s("div",{staticClass:"input-block white nomarg lesspadd"},[s("span",{staticClass:"fake-label",attrs:{"data-initial":"Folder name"},on:{click:e.focusInput}},[e._v("Folder name")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.createName,expression:"createName"}],attrs:{type:"text",name:"name"},domProps:{value:e.createName},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||(e.createName=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"buttons"},[s("button",{staticClass:"left",on:{click:e.toggleCreating}},[e._v("CANCEL")]),e._v(" "),s("button",{staticClass:"right"},[e._v("CREATE")])])]),e._v(" "),s("span",{attrs:{id:"error"}})])])])]:e._e(),e._v(" "),e._l(e.folders,function(t,a){return[s("div",{staticClass:"col-lg-2 col-md-3 col-sm-6"},[s("div",{staticClass:"folder"},[s("svg",{staticClass:"taust",staticStyle:{"enable-background":"new 0 0 800 800"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 800 800","xml:space":"preserve"}},[s("path",{staticClass:"st0",attrs:{id:"Shape-Copy",d:"M304.7,196.1l47.7,47.7c13.6,13.6,30.6,20.4,47.7,20.4h272.4v340.5H127.6V196.1H304.7z M331.9,128H127.6c-37.5,0-68.1,30.6-68.1,68.1v408.6c0,37.5,30.6,68.1,68.1,68.1h544.8c37.5,0,68.1-30.6,68.1-68.1V264.2 c0-37.5-30.6-68.1-68.1-68.1H400L331.9,128z"}})]),e._v(" "),s("button",{staticClass:"edit",on:{click:function(t){return e.editPopup(t)}}}),e._v(" "),s("div",{staticClass:"edit-box"},[s("ul",[s("li",[s("a",{attrs:{href:"#"},on:{click:function(s){return e.setEditing(s,a,t)}}},[s("svg",{staticStyle:{"enable-background":"new 0 0 100 125"},attrs:{version:"1.1",fill:"#ededed",id:"",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 125","xml:space":"preserve"}},[s("title",[e._v("60 all")]),e._v(" "),s("g",[s("path",{attrs:{d:"M76.6,51.8v24.8H23.4V23.4h24.8V12.7H18.1c-3,0-5.4,2.4-5.4,5.4V82c0,3,2.4,5.4,5.4,5.4H82c3,0,5.4-2.4,5.4-5.4V51.8H76.6z "}}),e._v(" "),s("path",{attrs:{d:"M44,44.6l-4.2,11.1c-0.5,1.9,0.6,3.9,2.5,4.4c0.6,0.1,1.3,0.1,1.9,0L55.4,56c0.6-0.1,1.2-0.5,1.5-1l28.6-28.6 c1.4-1.4,2.3-2.9,0.8-4.2l-7.7-7.9c-1.4-1.4-3.7-1.4-5,0L45,43C44.5,43.4,44.2,44,44,44.6z"}})])]),e._v("\n                                                        Edit")])]),e._v(" "),s("li",[s("a",{attrs:{href:"#"},on:{click:function(s){return e.deleteFolder(s,t.id)}}},[s("svg",{staticStyle:{"enable-background":"new 0 0 100 125"},attrs:{version:"1.1",id:"",fill:"#e0e0e0",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 125","xml:space":"preserve"}},[s("title",[e._v("09")]),e._v(" "),s("path",{attrs:{d:"M22.8,28.6l0.1,45.2c0,7.2,5.8,13,13,13h28.3c7.2,0,13-5.8,13-13l0.1-45.2h7.4c1.7,0,3-1.3,3-3s-1.3-3-3-3H63.6v-2.5 c0-3.9-3.1-7-7-7H43.4c-3.9,0-7,3.1-7,7v2.5H15.3c-1.7,0-3,1.3-3,3s1.3,3,3,3H22.8z M53,69.8c0,1.7-1.3,3-3,3s-3-1.3-3-3V40.9 c0-1.7,1.3-3,3-3s3,1.3,3,3V69.8z M58,40.9c0-1.7,1.3-3,3-3s3,1.3,3,3v28.9c0,1.7-1.3,3-3,3s-3-1.3-3-3V40.9z M42.4,20.2 c0-0.6,0.4-1,1-1h13.2c0.6,0,1,0.4,1,1v2.5H42.4V20.2z M36,40.9c0-1.7,1.3-3,3-3s3,1.3,3,3v28.9c0,1.7-1.3,3-3,3s-3-1.3-3-3V40.9z"}})]),e._v("\n                                                        Delete ")])])])]),e._v(" "),s("div",{staticClass:"folder-bg"},[e.editing==t.id?[s("form",{staticClass:"auth-form oneline",attrs:{id:"editFolder"},on:{submit:function(s){return s.preventDefault(),e.editFolder(s,t)}}},[s("div",{staticClass:"input-block white nomarg lesspadd focused"},[s("span",{staticClass:"fake-label",attrs:{"data-initial":"Folder name"},on:{click:e.focusInput}},[e._v("Folder name")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.editName,expression:"editName"}],attrs:{id:"editfolderinput",type:"text",name:"editName"},domProps:{value:e.editName},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||(e.editName=t.target.value)}}})]),e._v(" "),e._m(1,!0)])]:[s("router-link",{attrs:{to:{path:"/banners/"+t.id}}},[s("span",{staticClass:"contents"},[e._v(e._s(t.name))]),e._v(" "),s("span",{staticClass:"date"},[e._v("Created at "),s("br"),e._v(e._s(e.humanDate(t.createdAt)))]),e._v(" "),s("span",{staticClass:"date"},[e._v("Updated at "),s("br"),e._v(e._s(e.humanDate(t.updatedAt)))])])]],2)])])]})],2)]),e._v(" "),s("div",{staticClass:"linebreak"}),e._v(" "),s("div",{staticClass:"recent-templates file-view"},[s("div",{staticClass:"header row"},[s("div",{staticClass:"left  col-lg-4 col-md-6 col-sm-6"},[s("div",{staticClass:"grey-dd"},[s("span",[e._v("Sort by")]),e._v(" "),s("span",{on:{click:function(t){return e.openSortDropDown(t,"value")}}},[e._v(e._s(e.sortingOptions[e.currentSortByIndex].text))]),e._v(" "),s("span",{domProps:{innerHTML:e._s(e.orderOptions[e.currentSortByOrderIndex].html)},on:{click:function(t){return e.setSorting(t,!1,"order")}}}),e._v(" "),!0===e.editingOrderValue?[s("div",{staticClass:"hidden visible"},[s("ul",e._l(e.sortingOptions,function(t,a){return s("li",{key:a,on:{click:function(t){return e.setSorting(t,a,"value")}}},[e._v(e._s(t.text))])}),0)])]:e._e(),e._v(" "),!0===e.editingOrderOrder?[s("div",{staticClass:"hidden visible"},[s("ul",e._l(e.orderOptions,function(t,a){return s("li",{key:a,on:{click:function(t){return e.setSorting(t,a,"order")}}},[e._v(e._s(t.text))])}),0)])]:e._e()],2)]),e._v(" "),s("div",{staticClass:"right col-lg-8 col-md-8"},[s("div",{staticClass:"input-bubble search"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.bannerSearchValue,expression:"bannerSearchValue"}],attrs:{type:"text",placeholder:"Search banners by name or description"},domProps:{value:e.bannerSearchValue},on:{keyup:e.searchBanners,input:function(t){t.target.composing||(e.bannerSearchValue=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"input-bubble dropdown",class:[!0===e.editingAspectRatio?"open":""],on:{click:function(t){return e.openSortDropDown(t,"ratio")}}},[s("span",[e._v(" Aspect ratio : "+e._s(e.aspectRatios[e.currentAspectRatioIndex].text))]),e._v(" "),!0===e.editingAspectRatio?[s("div",{staticClass:"hidden visible"},[s("ul",e._l(e.aspectRatios,function(t,a){return s("li",{key:a,on:{click:function(s){return e.searchByAspectRatio(s,t.value,a)}}},[e._v(e._s(t.text))])}),0)])]:e._e()],2),e._v(" "),s("div",{staticClass:"input-bubble dropdown",class:[!0===e.editingSize?"open":""],on:{click:function(t){return e.openSortDropDown(t,"size")}}},[s("span",[e._v("Size: "+e._s(e.getSizeTextByIndex(e.currentSizeIndex)))]),e._v(" "),!0===e.editingSize?[s("div",{staticClass:"hidden visible"},[s("ul",e._l(e.allSizes,function(t,a){return s("li",{key:a,domProps:{textContent:e._s(e.getSizeTextByIndex(a))},on:{click:function(s){return e.searchBySizeId(s,t.id,a)}}})}),0)])]:e._e()],2)])])]),e._v(" "),s("div",{staticClass:"banner-slide row"},[e._l(e.banners,function(t,a){return[s("div",{staticClass:"col-lg-2 col-md-3 col-sm-6"},[s("router-link",{attrs:{to:{path:"/banners/edit-banner/"+t.id}}},[s("div",{class:e.returnAspectRatio(t.size.width,t.size.height)+" dimension-box"},["tower"==e.returnAspectRatio(t.size.width,t.size.height)?[s("svg",{staticStyle:{"enable-background":"new 0 0 40 40"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 40 40","xml:space":"preserve"}},[s("g",{staticClass:"st0",attrs:{id:"Page-1"}},[s("g",{attrs:{id:"image-gallery-copy-2"}},[s("path",{attrs:{id:"Shape",d:"M6.2,26.8V9.6H3.5C1.6,9.6,0,11.2,0,13.2v23.2c0,1.9,1.6,3.5,3.5,3.5h23.2c1.9,0,3.5-1.6,3.5-3.5v-2.5H13.2 C9.3,33.9,6.2,30.7,6.2,26.8z"}}),e._v(" "),s("path",{attrs:{d:"M36.5,0.1H13.2c-1.9,0-3.5,1.6-3.5,3.5v23.2c0,1.9,1.6,3.5,3.5,3.5h23.2c1.9,0,3.5-1.6,3.5-3.5V3.6 C40,1.6,38.4,0.1,36.5,0.1z M28.5,25.5h-6.8V4.7h6.8V25.5z"}})])])])]:"rectangle"==e.returnAspectRatio(t.size.width,t.size.height)?[s("svg",{staticStyle:{"enable-background":"new 0 0 40 40"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 40 40","xml:space":"preserve"}},[s("g",{staticClass:"st0",attrs:{id:"Page-1"}},[s("g",{attrs:{id:"image-gallery-copy-3"}},[s("path",{attrs:{id:"Shape",d:"M6.2,26.8V9.6H3.5C1.6,9.6,0,11.2,0,13.2v23.2c0,1.9,1.6,3.5,3.5,3.5h23.2c1.9,0,3.5-1.6,3.5-3.5v-2.5H13.2 C9.3,33.9,6.2,30.7,6.2,26.8z"}}),e._v(" "),s("path",{attrs:{d:"M36.5,0.1H13.2c-1.9,0-3.5,1.6-3.5,3.5v23.2c0,1.9,1.6,3.5,3.5,3.5h23.2c1.9,0,3.5-1.6,3.5-3.5V3.6 C40,1.6,38.4,0.1,36.5,0.1z M35.2,18.4H15v-6.4h20.1V18.4z"}})])])])]:"squaree"==e.returnAspectRatio(t.size.width,t.size.height)?[s("svg",{staticStyle:{"enable-background":"new 0 0 40 40"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 40 40","xml:space":"preserve"}},[s("g",{staticClass:"st0",attrs:{id:"Page-1"}},[s("g",{attrs:{id:"image-gallery-copy-4"}},[s("path",{attrs:{id:"Shape",d:"M6.2,26.8V9.6H3.5C1.6,9.6,0,11.2,0,13.2v23.2c0,1.9,1.6,3.5,3.5,3.5h23.2c1.9,0,3.5-1.6,3.5-3.5v-2.5H13.2 C9.3,33.9,6.2,30.7,6.2,26.8z"}}),e._v(" "),s("path",{attrs:{d:"M36.5,0.1H13.2c-1.9,0-3.5,1.6-3.5,3.5v23.2c0,1.9,1.6,3.5,3.5,3.5h23.2c1.9,0,3.5-1.6,3.5-3.5V3.6 C40,1.6,38.4,0.1,36.5,0.1z M30.5,20.4H19.7V10.1h10.8V20.4z"}})])])])]:e._e(),e._v(" "),s("span",[e._v(e._s(t.size.width)+"x"+e._s(t.size.height))])],2),e._v(" "),s("span",[e._v(e._s(t.name))])])],1)]})],2)])],2)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"overlay Aligner"},[t("div",{staticClass:"form-wrapper Aligner-item"},[t("div",{staticClass:"input-block"},[t("span",{staticClass:"fake-label"},[this._v("Folder name")]),this._v(" "),t("input",{attrs:{type:"text",placeholder:"Skyscraper tempate"}})]),this._v(" "),t("div",{staticClass:"input-block"},[t("span",{staticClass:"fake-label"},[this._v("Folder Description")]),this._v(" "),t("textarea",{staticClass:"comment"})]),this._v(" "),t("button",{staticClass:"blue roundedd save"},[this._v("Save")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"buttons"},[t("button",{staticClass:"right"},[this._v("SAVE")])])}]},ue=a("VU/8")(ce,de,!1,null,null,null).exports,pe=a("//Fk"),me=a.n(pe),ve={name:"BannerFolder",components:{Sidebar:o,AddBanner:ae,Loading:J},data:function(){return{loading:!0,goading:!0,msg:"Folders yo",banners:[],allBanners:null,folders:[],allFolders:null,parentFolder:null,parentNames:[],currentCompany:this.$store.getters.getCurrentCompany||null,currentAccessLevel:this.$store.getters.getCurrentAccessLevel||null,creating:!1,createName:null,confirmedtrue:!1,editName:null,editing:[],currentFolder:null,searchValue:null,searchResults:[],allSizes:null,currentSortByIndex:0,currentSortByOrderIndex:0,currentAspectRatioIndex:0,currentSizeIndex:0,bannerSearchValue:null,folderSearchValue:null,aspectRatios:[{value:"all",text:"All"},{value:"square",text:"Square"},{value:"portrait",text:"Portrait"},{value:"landscape",text:"Landscape"}],orderOptions:[{value:"DESC",html:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 21l-12-18h24z"/></svg>',text:"Descending"},{value:"ASC",html:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M24 22h-24l12-20z"/></svg>',text:"Ascending"}],sortingOptions:[{value:"updatedAt",text:"Date updated"},{value:"createdAt",text:"Date created"},{value:"name",text:"Name alphabetically"},{value:"description",text:"Description alphabetically"},{value:"templateId",text:"Template ID"},{value:"estimatedBannerSize",text:"Estimated banner size"}],editingOrderValue:!1,editingOrderOrder:!1,editingAspectRatio:!1,editingSize:!1}},created:function(){var e=this;if(null==this.$store.getters.getCurrentCompany&&(this.$store.commit("setCurrentCompany",this.$store.getters.getUser.companies[0]),this.currentCompany=this.$store.getters.getUser.companies[0]),null==this.currentAccessLevel){var t=_.findIndex(this.$store.getters.getUser.companies,function(t){return t.id==e.$store.getters.getCurrentCompany.id});this.currentAccessLevel=this.$store.getters.getUser.companies[t].pivot.role,this.$store.commit("setCurrentAccessLevel",this.$store.getters.getUser.companies[t].pivot.role)}this.asyncgetFolders(),this.asyncgetBannersDirect(),this.asyncgetFolderbyID(this.$route.params.id)},watch:{$route:function(e,t){this.banners=[],this.folders=[],this.parentNames=[],this.asyncgetFolders(),this.asyncgetBannersDirect(),this.asyncgetFolderbyID(e.params.id)}},mixins:[w],methods:{methodThatForcesUpdate:function(e){this.$router.push({path:"/folders"})},searchFolders:function(){var e=this.folderSearchValue.toLowerCase(),t=[];null!=e&&""!=e?(_.forEach(this.allFolders,function(s){s.name.toLowerCase().indexOf(e)>-1&&t.push(s)}),this.folders=t):this.folders=this.allFolders},searchBanners:function(){var e=this.bannerSearchValue.toLowerCase(),t=[];null!=e&&""!=e?(_.forEach(this.allBanners,function(s){s.name.toLowerCase().indexOf(e)>-1&&t.push(s)}),this.banners=t):this.banners=this.allBanners},asyncgetBannersDirect:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"DESC",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"updatedAt";return F()(B.a.mark(function r(){var i,o,l;return B.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("async banners start"),s.loading=!0,s.banners,H.a.defaults.headers.common.Authorization="Bearer "+s.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=s.$store.getters.getCurrentCompany.id,i={take:e,skip:t,orderByType:a,orderBy:n,folderId:s.$route.params.id},console.log(i),o=s.serialize(i),r.next=9,H.a.get("/banners"+o);case 9:l=r.sent,console.log(l.data.banners),s.allBanners=l.data.banners,s.banners=l.data.banners,_.forEach(s.allBanners,function(e,t){N()(s.banners[t].aspectRatio)!==Array&&(s.banners[t].aspectRatio=[]),N()(s.allBanners[t].aspectRatio)!==Array&&(s.allBanners[t].aspectRatio=[]),e.size.width==e.size.height?(s.banners[t].aspectRatio.push("square"),s.allBanners[t].aspectRatio.push("square")):e.size.width>e.size.height?(s.banners[t].aspectRatio.push("landscape"),s.allBanners[t].aspectRatio.push("landscape")):(s.banners[t].aspectRatio.push("portrait"),s.allBanners[t].aspectRatio.push("portrait"))}),s.loading=!1;case 15:case"end":return r.stop()}},r,s)}))()},sortBannersById:function(e){var t=this.banners;_.forEach(this.allBanners,function(s,a){s.folderId==e&&t.push(s)})},hasParentFolder:function(e){return null!=e.parentId&&e.parentId},setSorting:function(e,t,s){"value"==s?this.currentSortByIndex=t:"order"==s&&(0==this.currentSortByOrderIndex?this.currentSortByOrderIndex=1:this.currentSortByOrderIndex=0),e.stopPropagation(),this.editingOrderValue=!1,this.editingOrderOrder=!1,this.editingAspectRatio=!1,this.editingSize=!1,this.asyncgetBannersDirect(20,0,this.orderOptions[this.currentSortByOrderIndex].value,this.sortingOptions[this.currentSortByIndex].value),console.log("sorting done"),console.log(this.templates)},openSortDropDown:function(e,t){switch(console.log("opensortdropdown"),console.log(t),t){case"value":this.editingOrderValue=!this.editingOrderValue;break;case"order":this.editingOrderOrder=!this.editingOrderOrder;break;case"ratio":this.editingAspectRatio=!this.editingAspectRatio;break;case"size":this.editingSize=!this.editingSize}},getAllSizes:function(){var e=this;return F()(B.a.mark(function t(){var s,a;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,H.a.defaults.headers.common.Authorization="Bearer "+e.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=e.$store.getters.getCurrentCompany.id,H.a.defaults.headers.common.Accept="application/json",t.next=6,H.a.get("/sizes");case 6:s=t.sent,console.log(s.data),e.allSizes=s.data.sizes,a={width:"All",id:"all"},e.allSizes.unshift(a),e.loading=!1;case 12:case"end":return t.stop()}},t,e)}))()},asyncgetBannersDirectById:function(e){var t=this;return F()(B.a.mark(function e(){var s,a;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,H.a.defaults.headers.common.Authorization="Bearer "+t.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=t.$store.getters.getCurrentCompany.id,s={take:30,skip:0},t.serialize(s),e.next=6,H.a.get("/banners");case 6:a=e.sent,console.log(a.data.banners),t.banners=a.data.banners,t.loading=!1;case 10:case"end":return e.stop()}},e,t)}))()},asyncgetFolderbyID:function(e){var t=this;return F()(B.a.mark(function s(){var a,n;return B.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t.loading=!0,H.a.defaults.headers.common.Accept="application/json",H.a.defaults.headers.common.Authorization="Bearer "+t.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=t.$store.getters.getCurrentCompany.id,s.next=4,H.a.get("/folders/"+e);case 4:if(a=s.sent,console.log(a.data),n=t.hasParentFolder(a.data.folder),console.log(t.parentNames),t.parentNames.unshift({name:a.data.folder.name,id:a.data.folder.id}),!n){s.next=11;break}return s.abrupt("return",t.asyncgetFolderbyID(n));case 11:t.currentFolder=a.data.folder,t.loading=!1;case 13:case"end":return s.stop()}},s,t)}))()},asyncgetFolders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ASC",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"id";return F()(B.a.mark(function r(){var i,o,l;return B.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s.loading=!0,console.log("asyncfolders start"),H.a.defaults.headers.common.Authorization="Bearer "+s.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=s.$store.getters.getCurrentCompany.id,i={take:e,skip:t,orderByType:a,orderBy:n,parentId:s.$route.params.id},o=s.serialize(i),r.next=7,H.a.get("/folders"+o);case 7:l=r.sent,console.log(l.data.folders),s.allFolders=l.data.folders,s.folders=l.data.folders,s.hideAllPopups(),s.loading=!1;case 13:case"end":return r.stop()}},r,s)}))()},sortFoldersById:function(e){this.loading=!0;var t=[];_.forEach(this.allFolders,function(s,a){s.parentId==e&&t.push(s)}),this.folders=t,this.loading=!1},showBannerOverlay:function(){document.querySelector(".overlay.add-banner").classList.add("open","animated","slideInLeft"),setTimeout(function(){document.querySelector(".overlay.add-banner").classList.remove("animated","slideInLeft")},2e3)},showFolderOverlay:function(){document.querySelector(".overlay.add-folder").classList.add("open","animated","slideInLeft"),setTimeout(function(){document.querySelector(".overlay.add-banner").classList.remove("animated","slideInLeft")},2e3)},returnAspectRatio:function(e,t){return e==t?"squaree":e>t?"rectangle":"tower"},editPopup:function(e){e.target.nextElementSibling.classList.contains("visible")?this.hideAllPopups():e.target.nextElementSibling.classList.add("visible"),this.editing=null},hideAllPopups:function(){var e=document.querySelectorAll(".edit-box");for(var t in e)e.hasOwnProperty(t)&&document.querySelectorAll(".edit-box")[t].classList.remove("visible")},toggleCreating:function(){this.creating=!this.creating},createFolder:function(e){var t=this;console.log("attempting to create folder"),console.log(e.target),H.a.defaults.headers.common.Authorization="Bearer "+this.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=this.$store.getters.getCurrentCompany.id;var s={name:this.createName},a=this.$route.params.id;H.a.post("/folders",s).then(function(e){console.log(e),t.assignParentToFolder(e.data.folder.id,e.data.folder.name,a,0),t.createName=null,t.creating=!t.creating,console.log(t.folders)}).catch(function(e){if(console.log(e),"undefined"!=e&&void 0!==e.response.data.errors){var t=e.response.data.errors;for(var s in t)t.hasOwnProperty(s)&&(console.log(s+" -> "+t[s]),$('input[name="'+s+'"]').parent().addClass("input-error animated shake"),$('input[name="'+s+'"]').prev().text(t[s]));setTimeout(function(){$(".input-block").removeClass("input-error animated shake");var e=$(".fake-label");for(var t in e){var s=$(".fake-label").eq(t).data("initial");$(".fake-label").eq(t).text(s)}},3e3)}void 0!==e.response.data.message&&(document.getElementById("error").innerHTML=e.response.data.message)})},assignParentToFolder:function(e,t,s,a){var n=this;console.log("assigntparenttofolderstart"),H.a.defaults.headers.common.Authorization="Bearer "+this.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Accept="application/json",H.a.defaults.headers.common.Company=this.$store.getters.getCurrentCompany.id,H.a.patch("/folders/"+e,{name:t,generatePreviewToken:a,parentId:s}).then(function(e){console.log(e),n.asyncgetFolders()}).catch(function(e){void 0!==e&&console.log(e.response)})},deleteFolder:function(e,t){var s=this;e.preventDefault(),console.log("attempting to delete folder"),H.a.defaults.headers.common.Accept="application/json",H.a.defaults.headers.common.Authorization="Bearer "+this.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=this.$store.getters.getCurrentCompany.id;var a={confirmed:!0,_method:"delete"};console.log(a),H.a.post("/folders/"+t,a).then(function(e){console.log(e),s.asyncgetFolders(),console.log(s.folders)}).catch(function(e){"undefined"!=e.response&&console.log(e.response)})},editFolder:function(e,t){var s=this;e.preventDefault(),H.a.defaults.headers.common.Authorization="Bearer "+this.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Accept="application/json",H.a.defaults.headers.common.Company=this.$store.getters.getCurrentCompany.id;var a=null!=t.parentId?t.parentId:1;H.a.patch("/folders/"+t.id,{name:this.editName,generatePreviewToken:1,parentId:a}).then(function(e){console.log(e),s.asyncgetFolders(),s.createName=null,s.editName=null,s.editing=null,s.parentNames=[],s.asyncgetFolderbyID(s.$route.params.id)}).catch(function(e){void 0!==e&&console.log(e.response)})},testPromise:function(){new me.a(function(e,t){setTimeout(function(){return e(1)},1e3)}).then(function(e){return alert(e),2*e}).then(function(e){return alert(e),2*e}).then(function(e){return alert(e),2*e})},setEditing:function(e,t,s){event.preventDefault(),this.editing=s.id,this.editName=s.name,this.hideAllPopups()}}},he={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fullpage container-fluid"},[s("div",{staticClass:"row"},[s("sidebar",{on:{"company-changed":function(t){return e.methodThatForcesUpdate(t)}}}),e._v(" "),s("add-banner"),e._v(" "),e.loading?[s("Loading")]:e._e(),e._v(" "),e._m(0),e._v(" "),s("div",{staticClass:"banners container-fluid main-view"},[s("div",{staticClass:"col-lg-9 col-sm-12"},[s("router-link",{attrs:{to:{path:"/banners"}}},[s("span",{staticClass:"before"},[e._v("Banners ")])]),e._v(" "),e._l(e.parentNames,function(t,a){return[s("svg",{staticClass:"subset",staticStyle:{"enable-background":"new 0 0 800 800"},attrs:{version:"1.1",id:"Layer_1",fill:"#acb2bc",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 800 800","xml:space":"preserve"}},[s("path",{attrs:{id:"Shape",d:"M369.1,518.3L194.2,343.5c-8.5-8.5-12.8-19.7-12.8-30.9s4.3-22.4,12.8-30.9c17.1-17.1,44.8-17.1,61.8,0 L400,425.6l143.9-143.9c17.1-17.1,44.8-17.1,61.8,0c17.1,17.1,17.1,44.7,0,61.8L430.9,518.3C413.8,535.4,386.2,535.4,369.1,518.3z"}})]),e._v(" "),s("router-link",{attrs:{to:{path:"/banners/"+t.id}}},[s("span",{staticClass:"after"},[e._v(e._s(t.name))])])]})],2),e._v(" "),s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"header row"},[s("div",{staticClass:"left col-lg-5 col-md-4"},[s("button",{staticClass:"blue create-folder roundedd",on:{click:e.toggleCreating}},[e._v("Create folder")]),e._v(" "),s("button",{staticClass:"blue create roundedd",on:{click:e.showBannerOverlay}},[e._v("Create Banner")])]),e._v(" "),s("div",{staticClass:"right col-lg-7 col-md-8"},[s("div",{staticClass:"input-bubble search"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.folderSearchValue,expression:"folderSearchValue"}],attrs:{type:"text",placeholder:"Search folders by name or description"},domProps:{value:e.folderSearchValue},on:{keyup:e.searchFolders,input:function(t){t.target.composing||(e.folderSearchValue=t.target.value)}}})])])]),e._v(" "),s("div",{staticClass:"folders row"},[e.creating?[s("div",{staticClass:"col-lg-2 col-md-3 col-sm-6"},[s("div",{staticClass:"folder create-folder"},[s("div",{staticClass:"folder-name"},[s("form",{staticClass:"auth-form",attrs:{id:"addFolder"},on:{submit:function(t){return t.preventDefault(),e.createFolder(t)}}},[s("div",{staticClass:"input-block white nomarg lesspadd"},[s("span",{staticClass:"fake-label",attrs:{"data-initial":"Folder name"},on:{click:e.focusInput}},[e._v("Folder name")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.createName,expression:"createName"}],attrs:{type:"text",name:"name"},domProps:{value:e.createName},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||(e.createName=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"buttons"},[s("button",{staticClass:"left",on:{click:e.toggleCreating}},[e._v("CANCEL")]),e._v(" "),s("button",{staticClass:"right"},[e._v("CREATE")])])]),e._v(" "),s("span",{attrs:{id:"error"}})])])])]:e._e(),e._v(" "),e._l(e.folders,function(t,a){return[s("div",{staticClass:"col-lg-2 col-md-3 col-sm-6"},[s("div",{staticClass:"folder"},[s("svg",{staticClass:"taust",staticStyle:{"enable-background":"new 0 0 800 800"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 800 800","xml:space":"preserve"}},[s("path",{staticClass:"st0",attrs:{id:"Shape-Copy",d:"M304.7,196.1l47.7,47.7c13.6,13.6,30.6,20.4,47.7,20.4h272.4v340.5H127.6V196.1H304.7z M331.9,128H127.6c-37.5,0-68.1,30.6-68.1,68.1v408.6c0,37.5,30.6,68.1,68.1,68.1h544.8c37.5,0,68.1-30.6,68.1-68.1V264.2 c0-37.5-30.6-68.1-68.1-68.1H400L331.9,128z"}})]),e._v(" "),s("button",{staticClass:"edit",on:{click:function(t){return e.editPopup(t)}}}),e._v(" "),s("div",{staticClass:"edit-box"},[s("ul",[s("li",[s("a",{attrs:{href:"#"},on:{click:function(s){return e.setEditing(s,a,t)}}},[s("svg",{staticStyle:{"enable-background":"new 0 0 100 125"},attrs:{version:"1.1",fill:"#ededed",id:"",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 125","xml:space":"preserve"}},[s("title",[e._v("60 all")]),e._v(" "),s("g",[s("path",{attrs:{d:"M76.6,51.8v24.8H23.4V23.4h24.8V12.7H18.1c-3,0-5.4,2.4-5.4,5.4V82c0,3,2.4,5.4,5.4,5.4H82c3,0,5.4-2.4,5.4-5.4V51.8H76.6z "}}),e._v(" "),s("path",{attrs:{d:"M44,44.6l-4.2,11.1c-0.5,1.9,0.6,3.9,2.5,4.4c0.6,0.1,1.3,0.1,1.9,0L55.4,56c0.6-0.1,1.2-0.5,1.5-1l28.6-28.6 c1.4-1.4,2.3-2.9,0.8-4.2l-7.7-7.9c-1.4-1.4-3.7-1.4-5,0L45,43C44.5,43.4,44.2,44,44,44.6z"}})])]),e._v("\n                                                    Edit")])]),e._v(" "),s("li",[s("a",{attrs:{href:"#"},on:{click:function(s){return e.deleteFolder(s,t.id)}}},[s("svg",{staticStyle:{"enable-background":"new 0 0 100 125"},attrs:{version:"1.1",id:"",fill:"#e0e0e0",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 125","xml:space":"preserve"}},[s("title",[e._v("09")]),e._v(" "),s("path",{attrs:{d:"M22.8,28.6l0.1,45.2c0,7.2,5.8,13,13,13h28.3c7.2,0,13-5.8,13-13l0.1-45.2h7.4c1.7,0,3-1.3,3-3s-1.3-3-3-3H63.6v-2.5 c0-3.9-3.1-7-7-7H43.4c-3.9,0-7,3.1-7,7v2.5H15.3c-1.7,0-3,1.3-3,3s1.3,3,3,3H22.8z M53,69.8c0,1.7-1.3,3-3,3s-3-1.3-3-3V40.9 c0-1.7,1.3-3,3-3s3,1.3,3,3V69.8z M58,40.9c0-1.7,1.3-3,3-3s3,1.3,3,3v28.9c0,1.7-1.3,3-3,3s-3-1.3-3-3V40.9z M42.4,20.2 c0-0.6,0.4-1,1-1h13.2c0.6,0,1,0.4,1,1v2.5H42.4V20.2z M36,40.9c0-1.7,1.3-3,3-3s3,1.3,3,3v28.9c0,1.7-1.3,3-3,3s-3-1.3-3-3V40.9z"}})]),e._v("\n                                                    Delete ")])])])]),e._v(" "),s("div",{staticClass:"folder-bg"},[e.editing==t.id?[s("form",{staticClass:"auth-form oneline",attrs:{id:"editFolder"},on:{submit:function(s){return s.preventDefault(),e.editFolder(s,t)}}},[s("div",{staticClass:"input-block white nomarg lesspadd focused"},[s("span",{staticClass:"fake-label",attrs:{"data-initial":"Folder name"},on:{click:e.focusInput}},[e._v("Folder name")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.editName,expression:"editName"}],attrs:{id:"editfolderinput",type:"text",name:"editName"},domProps:{value:e.editName},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||(e.editName=t.target.value)}}})]),e._v(" "),e._m(1,!0)])]:[s("router-link",{attrs:{to:{path:"/banners/"+t.id}}},[s("span",{staticClass:"contents"},[e._v(e._s(t.name))]),e._v(" "),s("span",{staticClass:"date"},[e._v("Created at "),s("br"),e._v(e._s(e.humanDate(t.createdAt)))]),e._v(" "),s("span",{staticClass:"date"},[e._v("Updated at "),s("br"),e._v(e._s(e.humanDate(t.updatedAt)))])])]],2)])])]})],2)]),e._v(" "),s("div",{staticClass:"linebreak"}),e._v(" "),s("div",{staticClass:"recent-templates file-view"},[s("div",{staticClass:"header row"},[e._m(2),e._v(" "),s("div",{staticClass:"right col-lg-8 col-md-6 col-sm-6"},[s("div",{staticClass:"input-bubble search"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchValue,expression:"searchValue"}],attrs:{type:"text",placeholder:"Search by name or description"},domProps:{value:e.searchValue},on:{keyup:e.searchFolders,input:function(t){t.target.composing||(e.searchValue=t.target.value)}}})]),e._v(" "),e._m(3),e._v(" "),e._m(4)])]),e._v(" "),s("div",{staticClass:"banner-slide row"},[e._l(e.banners,function(t,a){return[s("div",{staticClass:"col-lg-2 col-md-3 col-sm-6"},[s("router-link",{attrs:{to:{path:"/banners/edit-banner/"+t.id}}},[s("div",{class:e.returnAspectRatio(t.size.width,t.size.height)+" dimension-box"},["tower"==e.returnAspectRatio(t.size.width,t.size.height)?[s("svg",{staticStyle:{"enable-background":"new 0 0 40 40"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 40 40","xml:space":"preserve"}},[s("g",{staticClass:"st0",attrs:{id:"Page-1"}},[s("g",{attrs:{id:"image-gallery-copy-2"}},[s("path",{attrs:{id:"Shape",d:"M6.2,26.8V9.6H3.5C1.6,9.6,0,11.2,0,13.2v23.2c0,1.9,1.6,3.5,3.5,3.5h23.2c1.9,0,3.5-1.6,3.5-3.5v-2.5H13.2 C9.3,33.9,6.2,30.7,6.2,26.8z"}}),e._v(" "),s("path",{attrs:{d:"M36.5,0.1H13.2c-1.9,0-3.5,1.6-3.5,3.5v23.2c0,1.9,1.6,3.5,3.5,3.5h23.2c1.9,0,3.5-1.6,3.5-3.5V3.6 C40,1.6,38.4,0.1,36.5,0.1z M28.5,25.5h-6.8V4.7h6.8V25.5z"}})])])])]:"rectangle"==e.returnAspectRatio(t.size.width,t.size.height)?[s("svg",{staticStyle:{"enable-background":"new 0 0 40 40"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 40 40","xml:space":"preserve"}},[s("g",{staticClass:"st0",attrs:{id:"Page-1"}},[s("g",{attrs:{id:"image-gallery-copy-3"}},[s("path",{attrs:{id:"Shape",d:"M6.2,26.8V9.6H3.5C1.6,9.6,0,11.2,0,13.2v23.2c0,1.9,1.6,3.5,3.5,3.5h23.2c1.9,0,3.5-1.6,3.5-3.5v-2.5H13.2 C9.3,33.9,6.2,30.7,6.2,26.8z"}}),e._v(" "),s("path",{attrs:{d:"M36.5,0.1H13.2c-1.9,0-3.5,1.6-3.5,3.5v23.2c0,1.9,1.6,3.5,3.5,3.5h23.2c1.9,0,3.5-1.6,3.5-3.5V3.6 C40,1.6,38.4,0.1,36.5,0.1z M35.2,18.4H15v-6.4h20.1V18.4z"}})])])])]:"squaree"==e.returnAspectRatio(t.size.width,t.size.height)?[s("svg",{staticStyle:{"enable-background":"new 0 0 40 40"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 40 40","xml:space":"preserve"}},[s("g",{staticClass:"st0",attrs:{id:"Page-1"}},[s("g",{attrs:{id:"image-gallery-copy-4"}},[s("path",{attrs:{id:"Shape",d:"M6.2,26.8V9.6H3.5C1.6,9.6,0,11.2,0,13.2v23.2c0,1.9,1.6,3.5,3.5,3.5h23.2c1.9,0,3.5-1.6,3.5-3.5v-2.5H13.2 C9.3,33.9,6.2,30.7,6.2,26.8z"}}),e._v(" "),s("path",{attrs:{d:"M36.5,0.1H13.2c-1.9,0-3.5,1.6-3.5,3.5v23.2c0,1.9,1.6,3.5,3.5,3.5h23.2c1.9,0,3.5-1.6,3.5-3.5V3.6 C40,1.6,38.4,0.1,36.5,0.1z M30.5,20.4H19.7V10.1h10.8V20.4z"}})])])])]:e._e(),e._v(" "),s("span",[e._v(e._s(t.size.width)+"x"+e._s(t.size.height))])],2),e._v(" "),s("span",[e._v(e._s(t.name))])])],1)]})],2)])])],2)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"overlay Aligner"},[t("div",{staticClass:"form-wrapper Aligner-item"},[t("div",{staticClass:"input-block"},[t("span",{staticClass:"fake-label"},[this._v("Folder name")]),this._v(" "),t("input",{attrs:{type:"text",placeholder:"Skyscraper tempate"}})]),this._v(" "),t("div",{staticClass:"input-block"},[t("span",{staticClass:"fake-label"},[this._v("Folder Description")]),this._v(" "),t("textarea",{staticClass:"comment"})]),this._v(" "),t("button",{staticClass:"blue roundedd save"},[this._v("Save")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"buttons"},[t("button",{staticClass:"right"},[this._v("SAVE")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"left  col-lg-4 col-md-6 col-sm-6"},[s("div",{staticClass:"grey-dd"},[s("span",[e._v("Latest updated")]),e._v(" "),s("div",{staticClass:"hidden"},[s("ul",[s("li",[e._v("Most used")]),e._v(" "),s("li",[e._v("Most used")]),e._v(" "),s("li",[e._v("Most used")]),e._v(" "),s("li",[e._v("Most used")]),e._v(" "),s("li",[e._v("Most used")])])])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"input-bubble dropdown"},[s("span",[e._v(" Aspect ratio")]),e._v(" "),s("div",{staticClass:"hidden"},[s("ul",[s("li",[e._v("600x300")]),e._v(" "),s("li",[e._v("600x300")]),e._v(" "),s("li",[e._v("600x300")]),e._v(" "),s("li",[e._v("600x300")])])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"input-bubble dropdown"},[s("span",[e._v(" Size")]),e._v(" "),s("div",{staticClass:"hidden"},[s("ul",[s("li",[e._v("Size 1")]),e._v(" "),s("li",[e._v("Size 2")]),e._v(" "),s("li",[e._v("Size 3")]),e._v(" "),s("li",[e._v("Size 4")])])])])}]},ge=a("VU/8")(ve,he,!1,null,null,null).exports,fe={name:"Templates",components:{Sidebar:o,Loading:J},mixins:[w],data:function(){return{loading:!0,active:[],activetwo:[],aspectRatios:[{value:"all",text:"All"},{value:"square",text:"Square"},{value:"portrait",text:"Portrait"},{value:"landscape",text:"Landscape"}],templates:null,allTemplates:null,popoverstart:'<div class="popoover">',popoverclose:'<a href="#" class="close">dismiss</a>',popoverend:"</div>",currentCompany:this.$store.getters.getCurrentCompany||null,currentAccessLevel:this.$store.getters.getCurrentAccessLevel||null,searchValue:null,allSizes:null,currentSortByIndex:0,currentSortByOrderIndex:0,currentAspectRatioIndex:0,currentSizeIndex:0,orderOptions:[{value:"DESC",html:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 21l-12-18h24z"/></svg>',text:"Descending"},{value:"ASC",html:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M24 22h-24l12-20z"/></svg>',text:"Ascending"}],sortingOptions:[{value:"updatedAt",text:"Date updated"},{value:"createdAt",text:"Date created"},{value:"bannersCount",text:"Number of banners"},{value:"name",text:"Name alphabetically"},{value:"description",text:"Description alphabetically"}],editingOrderValue:!1,editingOrderOrder:!1,editingAspectRatio:!1,editingSize:!1}},created:function(){var e=this;if(null==this.$store.getters.getCurrentCompany&&(this.$store.commit("setCurrentCompany",this.$store.getters.getUser.companies[0]),this.currentCompany=this.$store.getters.getUser.companies[0]),null==this.currentAccessLevel){var t=_.findIndex(this.$store.getters.getUser.companies,function(t){return t.id==e.$store.getters.getCurrentCompany.id});this.currentAccessLevel=this.$store.getters.getUser.companies[t].pivot.role,this.$store.commit("setCurrentAccessLevel",this.$store.getters.getUser.companies[t].pivot.role)}this.getTemplates(),this.getAllSizes()},methods:{setSorting:function(e,t,s){"value"==s?this.currentSortByIndex=t:"order"==s&&(0==this.currentSortByOrderIndex?this.currentSortByOrderIndex=1:this.currentSortByOrderIndex=0),e.stopPropagation(),this.editingOrderValue=!1,this.editingOrderOrder=!1,this.editingAspectRatio=!1,this.editingSize=!1,this.getTemplates(50,0,this.orderOptions[this.currentSortByOrderIndex].value,this.sortingOptions[this.currentSortByIndex].value),console.log("sorting done"),console.log(this.templates)},openSortDropDown:function(e,t){switch(console.log("opensortdropdown"),console.log(t),t){case"value":this.editingOrderValue=!this.editingOrderValue;break;case"order":this.editingOrderOrder=!this.editingOrderOrder;break;case"ratio":this.editingAspectRatio=!this.editingAspectRatio;break;case"size":this.editingSize=!this.editingSize}},searchTemplates:function(){var e=this.searchValue.toLowerCase(),t=[];null!=e&&""!=e?(console.log(e),_.forEach(this.allTemplates,function(s){s.name&&s.name.toLowerCase().indexOf(e)>-1?t.push(s):s.description&&s.description.toLowerCase().indexOf(e)>-1&&t.push(s)}),console.log(t),this.templates=t):this.templates=this.allTemplates},getTemplates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"DESC ",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"updatedAt";return F()(B.a.mark(function r(){var i,o,l,c;return B.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(s.loading=!0,s.active=[],s.activetwo=[],H.a.defaults.headers.common.Authorization="Bearer "+s.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=s.$store.getters.getCurrentCompany.id,!s.isloggedIn()){r.next=18;break}return i={take:e,skip:t,orderByType:a,orderBy:n},o=s.serialize(i),r.next=10,H.a.get("/templates"+o);case 10:for(l=r.sent,console.log(l.data),s.templates=l.data.templates,s.allTemplates=l.data.templates,c=0;c<l.data.templates.length;c++)s.active.push(!1),s.activetwo.push(!1);_.forEach(s.templates,function(e,t){s.active.push(!1),s.activetwo.push(!1),_.forEach(e.sizes,function(e){N()(s.templates[t].aspectRatio)!==Array&&(s.templates[t].aspectRatio=[]),N()(s.allTemplates[t].aspectRatio)!==Array&&(s.allTemplates[t].aspectRatio=[]),e.width==e.height?(s.templates[t].aspectRatio.push("square"),s.allTemplates[t].aspectRatio.push("square")):e.width>e.height?(s.templates[t].aspectRatio.push("landscape"),s.allTemplates[t].aspectRatio.push("landscape")):(s.templates[t].aspectRatio.push("portrait"),s.allTemplates[t].aspectRatio.push("portrait"))})}),console.log(s.templates),console.log(s.active);case 18:s.loading=!1;case 19:case"end":return r.stop()}},r,s)}))()},getAllSizes:function(){var e=this;return F()(B.a.mark(function t(){var s,a;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,H.a.defaults.headers.common.Authorization="Bearer "+e.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=e.$store.getters.getCurrentCompany.id,H.a.defaults.headers.common.Accept="application/json",t.next=6,H.a.get("/sizes");case 6:s=t.sent,console.log(s.data),e.allSizes=s.data.sizes,a={width:"All",id:"all"},e.allSizes.unshift(a),e.loading=!1;case 12:case"end":return t.stop()}},t,e)}))()},searchByAspectRatio:function(e,t,s){var a=this;e.stopPropagation(),this.templates=[],console.log("searching by aspect ratio"),this.editingAspectRatio=!1,this.editingSize=!1,console.log(this.editingAspectRatio),console.log(this.editingSize),this.currentAspectRatioIndex=s,"all"!=t?_.forEach(this.allTemplates,function(e,s){void 0!==a.allTemplates[s].aspectRatio&&-1!=a.allTemplates[s].aspectRatio.indexOf(t)&&a.templates.push(e)}):this.templates=this.allTemplates},getSizeTextByIndex:function(e){return void 0!==this.allSizes[e].width&&void 0!==this.allSizes[e].height?this.allSizes[e].width+"x"+this.allSizes[e].height:this.allSizes[e].width},searchBySizeId:function(e,t,s){var a=this;e.stopPropagation(),this.templates=[],this.editingOrderValue=!1,this.editingOrderOrder=!1,this.editingAspectRatio=!1,this.editingSize=!1,this.currentSizeIndex=s,"all"!=t?_.forEach(this.allTemplates,function(e,s){void 0!==e.sizes&&_.forEach(e.sizes,function(s){s.id!=t||a.templates.push(e)})}):this.templates=this.allTemplates},isloggedIn:function(){return this.$store.getters.loggedIn},humanDate:function(e){return new Date(e).toDateString()},showTooltip:function(e,t){1==e?this.active.splice(t,1,!this.active[t]):this.activetwo.splice(t,1,!this.activetwo[t])},toggleDropDown:function(e){switch(e.target.tagName){case"DIV":e.target.children[1].classList.toggle("visible"),e.target.classList.toggle("open");break;case"SPAN":e.target.nextElementSibling.classList.toggle("visible"),e.target.parentNode.classList.toggle("open");break;default:e.target.nextElementSibling.classList.toggle("visible"),e.target.parentNode.classList.toggle("open")}}}},_e={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fullpage container-fluid"},[s("div",{staticClass:"row"},[s("sidebar"),e._v(" "),e.loading?[s("Loading")]:e._e(),e._v(" "),s("div",{staticClass:"templates main-view container-fluid"},[s("h1",[e._v("Templates")]),e._v(" "),s("div",{staticClass:"header row"},[s("div",{staticClass:"left col-lg-3 col-md-4"},[s("router-link",{staticClass:"blue-link",attrs:{to:"/add-template"}},[s("button",{staticClass:"blue create roundedd"},[e._v("Create template")])])],1),e._v(" "),s("div",{staticClass:"right col-lg-9 col-md-8"},[s("div",{staticClass:"input-bubble search"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchValue,expression:"searchValue"}],attrs:{type:"text",placeholder:"Search by name or description"},domProps:{value:e.searchValue},on:{keyup:e.searchTemplates,input:function(t){t.target.composing||(e.searchValue=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"input-bubble dropdown",class:[!0===e.editingAspectRatio?"open":""],on:{click:function(t){return e.openSortDropDown(t,"ratio")}}},[s("span",[e._v(" Aspect ratio : "+e._s(e.aspectRatios[e.currentAspectRatioIndex].text))]),e._v(" "),!0===e.editingAspectRatio?[s("div",{staticClass:"hidden visible"},[s("ul",e._l(e.aspectRatios,function(t,a){return s("li",{key:a,on:{click:function(s){return e.searchByAspectRatio(s,t.value,a)}}},[e._v(e._s(t.text))])}),0)])]:e._e()],2),e._v(" "),s("div",{staticClass:"input-bubble dropdown",class:[!0===e.editingSize?"open":""],on:{click:function(t){return e.openSortDropDown(t,"size")}}},[s("span",[e._v("Size: "+e._s(e.getSizeTextByIndex(e.currentSizeIndex)))]),e._v(" "),!0===e.editingSize?[s("div",{staticClass:"hidden visible"},[s("ul",e._l(e.allSizes,function(t,a){return s("li",{key:a,domProps:{textContent:e._s(e.getSizeTextByIndex(a))},on:{click:function(s){return e.searchBySizeId(s,t.id,a)}}})}),0)])]:e._e()],2)])]),e._v(" "),s("div",{staticClass:"linebreak"}),e._v(" "),s("div",{staticClass:"recent-templates"},[s("div",{staticClass:"header row"},[s("div",{staticClass:"left  col-lg-4 col-md-6 col-sm-6"},[s("div",{staticClass:"grey-dd"},[s("span",[e._v("Sort by")]),e._v(" "),s("span",{on:{click:function(t){return e.openSortDropDown(t,"value")}}},[e._v(e._s(e.sortingOptions[e.currentSortByIndex].text))]),e._v(" "),s("span",{domProps:{innerHTML:e._s(e.orderOptions[e.currentSortByOrderIndex].html)},on:{click:function(t){return e.setSorting(t,!1,"order")}}}),e._v(" "),!0===e.editingOrderValue?[s("div",{staticClass:"hidden visible"},[s("ul",e._l(e.sortingOptions,function(t,a){return s("li",{key:a,on:{click:function(t){return e.setSorting(t,a,"value")}}},[e._v(e._s(t.text))])}),0)])]:e._e(),e._v(" "),!0===e.editingOrderOrder?[s("div",{staticClass:"hidden visible"},[s("ul",e._l(e.orderOptions,function(t,a){return s("li",{key:a,on:{click:function(t){return e.setSorting(t,a,"order")}}},[e._v(e._s(t.text))])}),0)])]:e._e()],2)])]),e._v(" "),e._l(e.templates,function(t,a){return[s("div",{key:a,staticClass:"template-list"},[s("div",{staticClass:"template row"},[s("div",{staticClass:"left col-lg-6"},[s("router-link",{attrs:{to:{path:"/templates/"+t.id}}},[s("span",{staticClass:"bold"},[e._v(e._s(t.name))])]),e._v(" "),e._l(t.sizes,function(t,a){return[s("span",{key:a,staticClass:"dimension green"},[e._v(e._s(t.width)+"x"+e._s(t.height))])]})],2),e._v(" "),s("div",{staticClass:"right col-lg-6"},[s("div",{staticClass:"images"},[s("div",{staticClass:"svg-wrapper popover-wrapper",on:{mouseover:function(t){return e.showTooltip(1,a)},mouseout:function(t){return e.showTooltip(1,a)}}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.active[a],expression:"active[index]"}],staticClass:"popoover"},[s("span",[e._v("View Gallery of banners made with this template")])]),e._v(" "),s("router-link",{attrs:{to:{path:"/templates/"+t.id}}},[s("svg",{staticClass:"duplicate",staticStyle:{"enable-background":"new 0 0 100 125"},attrs:{version:"1.1",id:"Layer_1",fill:"#e0e0e0",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 125","xml:space":"preserve"}},[s("title",[e._v("All")]),e._v(" "),s("g",{attrs:{id:"Desktop"}},[s("g",{attrs:{id:"Templates",transform:"translate(-1270.000000, -689.000000)"}},[s("g",{attrs:{id:"image-gallery-copy-2",transform:"translate(1270.000000, 689.000000)"}},[s("path",{attrs:{id:"Shape",d:"M17.1,78.7V36.6h-6.5c-4.8,0-8.6,3.9-8.6,8.7v57c0,4.8,3.8,8.6,8.6,8.6h57c4.8,0,8.7-3.9,8.7-8.6V96H34.4 C24.9,96,17.1,88.2,17.1,78.7z"}}),e._v(" "),s("path",{attrs:{d:"M91.4,13.1h-57c-4.8,0-8.7,3.9-8.7,8.6v57c0,4.8,3.9,8.7,8.7,8.7h57c4.8,0,8.6-3.9,8.6-8.7v-57 C100,17,96.1,13.1,91.4,13.1z M90.2,73.9c-0.5,0.9-1.4,1.4-2.4,1.4H39c-0.9,0-1.7-0.4-2.2-1.1c-0.5-0.7-0.7-1.6-0.4-2.4l7-23.1 c0.5-1.5,1.7-2.6,3.3-2.9c1.6-0.3,3.1,0.4,4.1,1.7l9.8,13.7c1.3,1.8,3.9,2.3,5.7,1l9-6.1c0.9-0.6,2.1-0.9,3.2-0.6 c1.1,0.2,2.1,0.9,2.7,1.8l9,13.8C90.6,72,90.7,73.1,90.2,73.9z"}})])])])])])],1),e._v(" "),s("div",{staticClass:"svg-wrapper popover-wrapper",on:{mouseover:function(t){return e.showTooltip(2,a)},mouseout:function(t){return e.showTooltip(2,a)}}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.activetwo[a],expression:"activetwo[index]"}],staticClass:"popoover"},[s("span",[e._v("Edit this template")])]),e._v(" "),s("router-link",{attrs:{to:{path:"/template/"+t.id}}},[s("svg",{staticClass:"edit",staticStyle:{"enable-background":"new 0 0 100 125"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 125","xml:space":"preserve"}},[s("title",[e._v("60 all")]),e._v(" "),s("g",[s("path",{attrs:{d:"M76.6,51.8v24.8H23.4V23.4h24.8V12.7H18.1c-3,0-5.4,2.4-5.4,5.4V82c0,3,2.4,5.4,5.4,5.4H82c3,0,5.4-2.4,5.4-5.4V51.8H76.6z "}}),e._v(" "),s("path",{attrs:{d:"M44,44.6l-4.2,11.1c-0.5,1.9,0.6,3.9,2.5,4.4c0.6,0.1,1.3,0.1,1.9,0L55.4,56c0.6-0.1,1.2-0.5,1.5-1l28.6-28.6 c1.4-1.4,2.3-2.9,0.8-4.2l-7.7-7.9c-1.4-1.4-3.7-1.4-5,0L45,43C44.5,43.4,44.2,44,44,44.6z"}})])])])],1)]),e._v(" "),s("div",{staticClass:"text"},[s("span",[e._v(" Times used   "),s("span",[e._v(e._s(t.bannersCount)+" banners")])]),e._v(" "),s("span",[e._v(" Last used   "),s("span",[e._v(e._s(e.humanDate(t.updatedAt)))])])])])])])]})],2)])],2)])},staticRenderFns:[]},Ce=a("VU/8")(fe,_e,!1,null,null,null).exports,we={name:"BannersByTemplate",components:{Sidebar:o,Loading:J},data:function(){return{loading:!0,msg:"Edit Template",template:null,banners:null,currentCompany:this.$store.getters.getCurrentCompany||null,currentAccessLevel:this.$store.getters.getCurrentAccessLevel||null}},created:function(){var e=this;if(null==this.$store.getters.getCurrentCompany&&(this.$store.commit("setCurrentCompany",this.$store.getters.getUser.companies[0]),this.currentCompany=this.$store.getters.getUser.companies[0]),null==this.currentAccessLevel){var t=_.findIndex(this.$store.getters.getUser.companies,function(t){return t.id==e.$store.getters.getCurrentCompany.id});this.currentAccessLevel=this.$store.getters.getUser.companies[t].pivot.role,this.$store.commit("setCurrentAccessLevel",this.$store.getters.getUser.companies[t].pivot.role)}this.getTemplate()},watch:{$route:function(e,t){this.banners=[],this.folders=[],this.parentNames=[],this.getTemplate()}},mixins:[w],methods:{getTemplate:function(){var e=this;return F()(B.a.mark(function t(){var s;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,H.a.defaults.headers.common.Authorization="Bearer "+e.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=e.$store.getters.getCurrentCompany.id,t.next=5,H.a.get("/templates/"+e.$route.params.id);case 5:s=t.sent,console.log(s),e.template=s.data.template,e.getBannersByTemplate(e.template.id),e.loading=!1;case 10:case"end":return t.stop()}},t,e)}))()},getBannersByTemplate:function(e){var t=this;return F()(B.a.mark(function s(){var a,n,r;return B.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t.loading=!0,H.a.defaults.headers.common.Authorization="Bearer "+t.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=t.$store.getters.getCurrentCompany.id,a={templateId:e,take:50},n=t.serialize(a),s.next=7,H.a.get("/banners"+n);case 7:r=s.sent,console.log(r),t.banners=r.data.banners,t.loading=!1;case 11:case"end":return s.stop()}},s,t)}))()}}},ye={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fullpage container-fluid"},[s("div",{staticClass:"row"},[s("sidebar"),e._v(" "),e.loading?[s("Loading")]:e._e(),e._v(" "),s("div",{staticClass:"template-single main-view container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-9 col-sm-12"},[s("router-link",{attrs:{to:{path:"/templates"}}},[s("span",{staticClass:"before"},[e._v("Templates ")])]),e._v(" "),s("svg",{staticClass:"subset",staticStyle:{"enable-background":"new 0 0 800 800"},attrs:{version:"1.1",id:"Layer_1",fill:"#acb2bc",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 800 800","xml:space":"preserve"}},[s("path",{attrs:{id:"Shape",d:"M369.1,518.3L194.2,343.5c-8.5-8.5-12.8-19.7-12.8-30.9s4.3-22.4,12.8-30.9c17.1-17.1,44.8-17.1,61.8,0 L400,425.6l143.9-143.9c17.1-17.1,44.8-17.1,61.8,0c17.1,17.1,17.1,44.7,0,61.8L430.9,518.3C413.8,535.4,386.2,535.4,369.1,518.3z"}})]),e._v(" "),s("span",{staticClass:"after"},[e._v(e._s(e.template.name))]),e._v(" "),s("span",{staticClass:"description"},[e._v(e._s(e.template.description))]),e._v(" "),s("div",{staticClass:"text"},[s("span",[e._v(" Times used   "),s("span",[e._v(e._s(e.template.bannersCount)+" banners")])]),e._v(" "),s("span",[e._v(" Last used   "),s("span",[e._v(e._s(e.humanDate(e.template.updatedAt)))])])])],1),e._v(" "),s("div",{staticClass:"col-lg-3 col-sm-12 right"},[s("router-link",{attrs:{to:{path:"/template/"+e.template.id}}},[s("button",{staticClass:"right roundedd blue duplicate"},[e._v("Edit Template")])])],1)]),e._v(" "),s("div",{staticClass:"linebreak"}),e._v(" "),s("div",{staticClass:"recent-templates"},[e._m(0),e._v(" "),s("div",{staticClass:"banner-slide row"},[e._l(e.banners,function(t,a){return[s("div",{staticClass:"col-lg-2 col-md-3 col-sm-6"},[s("router-link",{attrs:{to:{path:"/banners/edit-banner/"+t.id}}},[s("div",{class:e.returnAspectRatio(t.size.width,t.size.height)+" dimension-box"},["tower"==e.returnAspectRatio(t.size.width,t.size.height)?[s("svg",{staticStyle:{"enable-background":"new 0 0 40 40"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 40 40","xml:space":"preserve"}},[s("g",{staticClass:"st0",attrs:{id:"Page-1"}},[s("g",{attrs:{id:"image-gallery-copy-2"}},[s("path",{attrs:{id:"Shape",d:"M6.2,26.8V9.6H3.5C1.6,9.6,0,11.2,0,13.2v23.2c0,1.9,1.6,3.5,3.5,3.5h23.2c1.9,0,3.5-1.6,3.5-3.5v-2.5H13.2 C9.3,33.9,6.2,30.7,6.2,26.8z"}}),e._v(" "),s("path",{attrs:{d:"M36.5,0.1H13.2c-1.9,0-3.5,1.6-3.5,3.5v23.2c0,1.9,1.6,3.5,3.5,3.5h23.2c1.9,0,3.5-1.6,3.5-3.5V3.6 C40,1.6,38.4,0.1,36.5,0.1z M28.5,25.5h-6.8V4.7h6.8V25.5z"}})])])])]:"rectangle"==e.returnAspectRatio(t.size.width,t.size.height)?[s("svg",{staticStyle:{"enable-background":"new 0 0 40 40"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 40 40","xml:space":"preserve"}},[s("g",{staticClass:"st0",attrs:{id:"Page-1"}},[s("g",{attrs:{id:"image-gallery-copy-3"}},[s("path",{attrs:{id:"Shape",d:"M6.2,26.8V9.6H3.5C1.6,9.6,0,11.2,0,13.2v23.2c0,1.9,1.6,3.5,3.5,3.5h23.2c1.9,0,3.5-1.6,3.5-3.5v-2.5H13.2 C9.3,33.9,6.2,30.7,6.2,26.8z"}}),e._v(" "),s("path",{attrs:{d:"M36.5,0.1H13.2c-1.9,0-3.5,1.6-3.5,3.5v23.2c0,1.9,1.6,3.5,3.5,3.5h23.2c1.9,0,3.5-1.6,3.5-3.5V3.6 C40,1.6,38.4,0.1,36.5,0.1z M35.2,18.4H15v-6.4h20.1V18.4z"}})])])])]:"squaree"==e.returnAspectRatio(t.size.width,t.size.height)?[s("svg",{staticStyle:{"enable-background":"new 0 0 40 40"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 40 40","xml:space":"preserve"}},[s("g",{staticClass:"st0",attrs:{id:"Page-1"}},[s("g",{attrs:{id:"image-gallery-copy-4"}},[s("path",{attrs:{id:"Shape",d:"M6.2,26.8V9.6H3.5C1.6,9.6,0,11.2,0,13.2v23.2c0,1.9,1.6,3.5,3.5,3.5h23.2c1.9,0,3.5-1.6,3.5-3.5v-2.5H13.2 C9.3,33.9,6.2,30.7,6.2,26.8z"}}),e._v(" "),s("path",{attrs:{d:"M36.5,0.1H13.2c-1.9,0-3.5,1.6-3.5,3.5v23.2c0,1.9,1.6,3.5,3.5,3.5h23.2c1.9,0,3.5-1.6,3.5-3.5V3.6 C40,1.6,38.4,0.1,36.5,0.1z M30.5,20.4H19.7V10.1h10.8V20.4z"}})])])])]:e._e(),e._v(" "),s("span",[e._v(e._s(t.size.width)+"x"+e._s(t.size.height))])],2),e._v(" "),s("span",[e._v(e._s(t.name))])])],1)]})],2)])])],2)])},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"header row"},[s("div",{staticClass:"left  col-lg-4 col-md-6 col-sm-6"},[s("div",{staticClass:"grey-dd"},[s("span",[e._v("Latest updated")]),e._v(" "),s("div",{staticClass:"hidden"},[s("ul",[s("li",[e._v("Most used")]),e._v(" "),s("li",[e._v("Most used")]),e._v(" "),s("li",[e._v("Most used")]),e._v(" "),s("li",[e._v("Most used")]),e._v(" "),s("li",[e._v("Most used")])])])])]),e._v(" "),s("div",{staticClass:"right col-lg-8 col-md-6 col-sm-6"},[s("div",{staticClass:"input-bubble dropdown"},[s("span",[e._v(" Size")]),e._v(" "),s("div",{staticClass:"hidden"},[s("ul",[s("li",[e._v("Size 1")]),e._v(" "),s("li",[e._v("Size 2")]),e._v(" "),s("li",[e._v("Size 3")]),e._v(" "),s("li",[e._v("Size 4")])])])])])])}]},xe=a("VU/8")(we,ye,!1,null,null,null).exports,be=a("XaHv"),ke=a.n(be),Le=a("zOqJ"),Se={components:{ColorPicker:ke.a,convert:Le},props:{inputHex:String},data:function(){return{color:{hue:50,saturation:40,luminosity:50,alpha:1},outputHex:this.$props.inputHex||null,step:1,useScroll:!0,variant:"collapsible",disabled:!1,editing:!1,active:!1}},created:function(){this.convertInputtoHSL(this.$props.inputHex)},methods:{recalculateHex:function(){console.log(this.outputHex),this.convertInputtoHSL(this.outputHex)},onInput:function(e,t){this.color.hue=e,this.reCalculateOutput()},reCalculateOutput:function(){this.outputHex=Le.hsl.hex(this.color.hue,this.color.saturation,this.color.luminosity)},onChange:function(e){console.log("Color picker was dismissed",e),this.$emit("color-selected",this.outputHex)},onToggle:function(e){this.editing=!this.editing,this.active=!this.active},convertInputtoHSL:function(e){var t=Le.hex.hsl(e);console.log(t),this.color.hue=t[0],this.color.saturation=t[1],this.color.luminosity=t[2]}}},$e={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"colorpickerwrapper",class:[1==e.active?"active":""]},[s("color-picker",{attrs:{hue:e.color.hue,saturation:e.color.saturation,luminosity:e.color.luminosity,alpha:e.color.alpha,"mouse-scroll":e.useScroll,step:e.step,variant:e.step,initiallyCollapsed:!0},on:{input:e.onInput,change:e.onChange,toggle:e.onToggle}}),e._v(" "),e.editing?[s("h1",[e._v("HSL values")]),e._v(" "),s("div",{attrs:{id:"hslvalues"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.color.hue.toFixed(0),expression:"color.hue.toFixed(0)"}],domProps:{value:e.color.hue.toFixed(0)},on:{input:function(t){t.target.composing||e.$set(e.color.hue,"toFixed(0)",t.target.value)}}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.color.saturation,expression:"color.saturation"}],domProps:{value:e.color.saturation},on:{input:function(t){t.target.composing||e.$set(e.color,"saturation",t.target.value)}}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.color.luminosity,expression:"color.luminosity"}],domProps:{value:e.color.luminosity},on:{input:function(t){t.target.composing||e.$set(e.color,"luminosity",t.target.value)}}})]),e._v(" "),s("div",{attrs:{id:"hexvalues"}},[s("h1",[e._v("HEX value")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.outputHex,expression:"outputHex"}],domProps:{value:e.outputHex},on:{keyup:function(t){return e.recalculateHex()},input:function(t){t.target.composing||(e.outputHex=t.target.value)}}})])]:e._e()],2)},staticRenderFns:[]};var ze=a("VU/8")(Se,$e,!1,function(e){a("GGdt")},"data-v-f44c32dc",null).exports,Te=(a("7t+N"),{name:"Dropdown",props:["name","defaultValue","optionsArray"],mixins:[w],created:function(){},methods:{optionSelected:function(e,t){this.$emit("element-selected",t),g()(e.target).parent().parent().prev().text(g()(e.target).text()),g()(e.target).parent().parent().slideUp()}}}),Ae={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"input-block half-width select"},[s("span",{staticClass:"fake-label",attrs:{"data-initial":e.name},on:{click:e.focusInput}},[e._v(e._s(e.name))]),e._v(" "),s("span",{on:{click:e.dropdownToggle}},[e._v(e._s(e.defaultValue))]),e._v(" "),s("div",{staticClass:"options"},[s("ul",e._l(e.optionsArray,function(t){return s("li",{on:{click:function(s){return e.optionSelected(s,t.value)}}},[e._v(e._s(t.name))])}),0)])])},staticRenderFns:[]};var Be=a("VU/8")(Te,Ae,!1,function(e){a("YrEI")},"data-v-0f872f97",null).exports,Ie={name:"SingleTemplate",components:{Sidebar:o,Loading:J,editor:a("o4sT"),ColorPicker:ze,dropDown:Be},data:function(){return{loading:!0,msg:"Edit Template",template:null,banners:null,currentCompany:this.$store.getters.getCurrentCompany||null,currentAccessLevel:this.$store.getters.getCurrentAccessLevel||null,color:{hue:50,saturation:100,luminosity:50,alpha:1}}},created:function(){var e=this;if(null==this.$store.getters.getCurrentCompany&&(this.$store.commit("setCurrentCompany",this.$store.getters.getUser.companies[0]),this.currentCompany=this.$store.getters.getUser.companies[0]),null==this.currentAccessLevel){var t=_.findIndex(this.$store.getters.getUser.companies,function(t){return t.id==e.$store.getters.getCurrentCompany.id});this.currentAccessLevel=this.$store.getters.getUser.companies[t].pivot.role,this.$store.commit("setCurrentAccessLevel",this.$store.getters.getUser.companies[t].pivot.role)}this.getTemplate()},watch:{$route:function(e,t){this.banners=[],this.folders=[],this.parentNames=[],this.getTemplate()}},mixins:[w],methods:{getFieldOptions:function(e){var t=this.template.fields[e].options,s=[];return _.forEach(t.split("|"),function(e){s.push({value:e,name:e})}),console.log(s),s},setField:function(e,t){this.template.fields[t].value=e,console.log(e),console.log(this.template.fields[t])},onInput:function(){console.log(this.color)},editorInit:function(){a("R3yc"),a("hCU/"),a("h636"),a("nP34"),a("30rK"),a("A/fa")},getTemplate:function(){var e=this;return F()(B.a.mark(function t(){var s;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,H.a.defaults.headers.common.Authorization="Bearer "+e.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=e.$store.getters.getCurrentCompany.id,t.next=5,H.a.get("/templates/"+e.$route.params.id);case 5:s=t.sent,e.template=s.data.template,_.forEach(e.template.fields,function(e){e.value=e.default}),console.log(e.template),e.getBannersByTemplate(e.template.id),e.loading=!1;case 11:case"end":return t.stop()}},t,e)}))()},getBannersByTemplate:function(e){var t=this;return F()(B.a.mark(function s(){var a,n,r;return B.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t.loading=!0,H.a.defaults.headers.common.Authorization="Bearer "+t.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=t.$store.getters.getCurrentCompany.id,a={templateId:e,take:50},n=t.serialize(a),s.next=7,H.a.get("/banners"+n);case 7:r=s.sent,console.log(r),t.banners=r.data.banners,t.loading=!1;case 11:case"end":return s.stop()}},s,t)}))()},saveTemplate:function(){H.a.defaults.headers.common.Authorization="Bearer "+this.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=this.$store.getters.getCurrentCompany.id;var e={name:this.template.name,description:this.template.description,html:this.template.html};this.serialize(e),H.a.patch("/templates/"+this.template.id,e).then(function(e){console.log(e.data),void 0!==e.data.messages&&(document.getElementById("success").innerHTML=e.data.messages[0].message)}).catch(function(e){if(console.log(e.response),422==e.response.status&&void 0!==e.response.data.errors){void 0!==e.response.data.message&&(document.getElementById("error").innerHTML=e.response.data.message);var t=e.response.data.errors;for(var s in t)t.hasOwnProperty(s)&&(console.log(s+" -> "+t[s]),document.querySelector('input[name="'+s+'"]').parentNode.classList.add("input-error","animated","shake"),document.querySelector('input[name="'+s+'"]').parentNode.children[0].innerHTML=t[s]);setTimeout(function(){for(var s in document.querySelector(".input-block").classList.remove("input-error","animated","shake"),document.querySelector(".editor-wrapper").classList.remove("input-error","animated","shake"),t)t.hasOwnProperty(s)&&(document.querySelector('input[name="'+s+'"]').parentNode.classList.remove("input-error","animated","shake"),document.querySelector('input[name="'+s+'"]').parentNode.children[0].innerHTML=document.querySelector('input[name="'+s+'"]').parentNode.children[0].dataset.initial);void 0!==e.response.data.message&&(document.getElementById("error").innerHTML="")},1e4)}})}}},Ne={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fullpage container-fluid"},[s("div",{staticClass:"row"},[s("sidebar"),e._v(" "),e.loading?[s("Loading")]:e._e(),e._v(" "),s("div",{staticClass:"template-single main-view container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-9 col-sm-12"},[s("span",{staticClass:"before"},[e._v("Edit Template ")]),e._v(" "),s("svg",{staticClass:"subset",staticStyle:{"enable-background":"new 0 0 800 800"},attrs:{version:"1.1",id:"Layer_1",fill:"#acb2bc",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 800 800","xml:space":"preserve"}},[s("path",{attrs:{id:"Shape",d:"M369.1,518.3L194.2,343.5c-8.5-8.5-12.8-19.7-12.8-30.9s4.3-22.4,12.8-30.9c17.1-17.1,44.8-17.1,61.8,0 L400,425.6l143.9-143.9c17.1-17.1,44.8-17.1,61.8,0c17.1,17.1,17.1,44.7,0,61.8L430.9,518.3C413.8,535.4,386.2,535.4,369.1,518.3z"}})]),e._v(" "),s("span",{staticClass:"after"},[e._v(e._s(e.template.name))]),e._v(" "),s("span",{staticClass:"description"},[e._v(e._s(e.template.description))]),e._v(" "),s("div",{staticClass:"text"},[s("span",[e._v(" Times used   "),s("span",[e._v(e._s(e.template.bannersCount)+" banners")])]),e._v(" "),s("span",[e._v(" Last used   "),s("span",[e._v(e._s(e.humanDate(e.template.updatedAt)))])])])]),e._v(" "),s("div",{staticClass:"col-lg-3 col-sm-12 right"},[s("router-link",{attrs:{to:{path:"/templates/"+e.template.id}}},[s("button",{staticClass:"right roundedd blue duplicate"},[e._v("View Banners")])])],1)]),e._v(" "),s("div",{staticClass:"recent-templates"},[s("div",{staticClass:"row template-form"},[s("div",{staticClass:"col-lg-6 col-md-12 "},[s("div",{staticClass:"form-wrapper"},[s("div",{staticClass:"input-block",class:[e.template.name.length>0?"focused":""]},[s("span",{staticClass:"fake-label",attrs:{"data-initial":"Template name"},on:{click:e.focusInput}},[e._v("Template name")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.template.name,expression:"template.name"}],attrs:{name:"name",type:"text"},domProps:{value:e.template.name},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||e.$set(e.template,"name",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"input-block",class:[e.template.description.length>0?"focused":""]},[s("span",{staticClass:"fake-label",attrs:{"data-initial":"Description"},on:{click:e.focusInput}},[e._v("Description")]),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.template.description,expression:"template.description"}],staticClass:"comment",attrs:{name:"description"},domProps:{value:e.template.description},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||e.$set(e.template,"description",t.target.value)}}})])])]),e._v(" "),s("div",{staticClass:"col-lg-6 col-md-12"},[s("div",{staticClass:"editor-wrapper"},[s("span",{staticClass:"fake-label error",attrs:{"data-initial":""}}),e._v(" "),s("input",{attrs:{type:"hidden",name:"html"}}),e._v(" "),s("editor",{attrs:{id:"editor",lang:"html",theme:"dreamweaver"},on:{init:e.editorInit},model:{value:e.template.html,callback:function(t){e.$set(e.template,"html",t)},expression:"template.html"}})],1)])]),e._v(" "),s("button",{staticClass:"blue save roundedd",on:{click:e.saveTemplate}},[e._v("Save")]),e._v(" "),s("span",{attrs:{id:"error"}}),e._v(" "),s("span",{attrs:{id:"success"}}),e._v(" "),e._m(0),e._v(" "),s("div",{staticClass:"row template-form"},[s("div",{staticClass:"col-lg-6 col-md-12 "},[s("div",{staticClass:"form-wrapper"},[e._l(e.template.fields,function(t,a){return["select"==t.type?[s("dropDown",{attrs:{defaultValue:t.default,name:a,optionsArray:e.getFieldOptions(a)},on:{"element-selected":function(t){return e.setField(t,a)}}})]:"input"==t.type?[s("div",{staticClass:"input-block",class:[t.default.length>0?"focused":""]},[s("span",{staticClass:"fake-label",attrs:{"data-initial":a},on:{click:e.focusInput}},[e._v(e._s(a))]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.template.fields[a].value,expression:"template.fields[key].value"}],attrs:{type:"text"},domProps:{value:e.template.fields[a].value},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||e.$set(e.template.fields[a],"value",t.target.value)}}})])]:"file"==t.type?[s("div",{staticClass:"input-block",class:[t.default.length>0?"focused":""]},[s("span",{staticClass:"fake-label",attrs:{"data-initial":a},on:{click:e.focusInput}},[e._v(e._s(a))]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.template.fields[a].value,expression:"template.fields[key].value"}],attrs:{type:"text"},domProps:{value:e.template.fields[a].value},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||e.$set(e.template.fields[a],"value",t.target.value)}}})])]:"color"==t.type?[s("div",{staticClass:"input-block color",class:[t.default.length>0?"focused":""]},[s("span",{staticClass:"fake-label",attrs:{"data-initial":a},on:{click:e.focusInput}},[e._v(e._s(a))]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.template.fields[a].value,expression:"template.fields[key].value"}],attrs:{type:"text"},domProps:{value:e.template.fields[a].value},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||e.$set(e.template.fields[a],"value",t.target.value)}}}),e._v(" "),s("color-picker",e._b({attrs:{inputHex:t.value},on:{"color-selected":function(t){return e.setField(t,a)}}},"color-picker",e.color,!1))],1)]:e._e()]})],2)]),e._v(" "),e._m(1)])])])],2)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header row"},[t("div",{staticClass:"col-lg-4 col-md-6"},[t("h1",[this._v("Form Preview")])]),this._v(" "),t("div",{staticClass:"col-lg-8 col-md-6 right"},[t("button",{staticClass:"viewwhite roundedd"},[this._v("View gallery")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-lg-6 col-md-12"},[s("div",{staticClass:"editor-wrapper"},[s("div",{staticClass:"file-upload"},[s("form",{staticClass:"box",attrs:{method:"post",action:"http://localhost:8888/test/return.php",enctype:"multipart/form-data"}},[s("div",{staticClass:"box__input"},[s("input",{staticClass:"box__file",attrs:{type:"file",name:"files[]",id:"file","data-multiple-caption":"{count} files selected",multiple:""}}),e._v(" "),s("label",{attrs:{for:"file"}},[s("span",{staticClass:"box__dragndrop"},[e._v(" Drop files here")])]),e._v(" "),s("button",{staticClass:"box__button",attrs:{type:"submit"}},[e._v("Upload")])]),e._v(" "),s("div",{staticClass:"box__uploading"},[e._v("Uploading…")]),e._v(" "),s("div",{staticClass:"box__success"},[e._v("Done!")]),e._v(" "),s("div",{staticClass:"box__error"},[e._v("Error! "),s("span"),e._v(".")])])])]),e._v(" "),s("div",{staticClass:"uploaded-files"})])}]},Pe=a("VU/8")(Ie,Ne,!1,null,null,null).exports,Fe={name:"Folder",components:{Sidebar:o,AddBanner:ae,Loading:J},data:function(){return{loading:!0,goading:!0,msg:"Folders yo",banners:[],allBanners:null,folders:[],allFolders:null,parentFolder:null,parentNames:[],currentCompany:this.$store.getters.getCurrentCompany||null,currentAccessLevel:this.$store.getters.getCurrentAccessLevel||null,creating:!1,createName:null,confirmedtrue:!1,editName:null,editing:[],currentFolder:null,searchValue:null,searchResults:[]}},created:function(){var e=this;if(null==this.$store.getters.getCurrentCompany&&(this.$store.commit("setCurrentCompany",this.$store.getters.getUser.companies[0]),this.currentCompany=this.$store.getters.getUser.companies[0]),null==this.currentAccessLevel){var t=_.findIndex(this.$store.getters.getUser.companies,function(t){return t.id==e.$store.getters.getCurrentCompany.id});this.currentAccessLevel=this.$store.getters.getUser.companies[t].pivot.role,this.$store.commit("setCurrentAccessLevel",this.$store.getters.getUser.companies[t].pivot.role)}this.asyncgetFolders(),this.asyncgetBannersDirect()},watch:{$route:function(e,t){this.banners=[],this.folders=[],this.parentNames=[],this.sortBannersById(e.params.id),this.sortFoldersById(e.params.id),this.asyncgetFolders(),this.asyncgetBannersDirect()}},mixins:[w],methods:{methodThatForcesUpdate:function(e){this.$router.push({path:"/folders"})},searchFolders:function(){var e=this.searchValue.toLowerCase(),t=[];null!=e&&""!=e?(_.forEach(this.allFolders,function(s){s.name&&s.name.toLowerCase().indexOf(e)>-1&&t.push(s)}),this.folders=t):this.folders=this.allFolders},asyncgetBannersDirect:function(){var e=this;return F()(B.a.mark(function t(){var s,a,n;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("async banners start"),e.loading=!0,e.banners,H.a.defaults.headers.common.Authorization="Bearer "+e.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=e.$store.getters.getCurrentCompany.id,s={take:take,skip:skip,orderByType:orderByType,orderBy:orderBy,folderId:e.$route.params.id},a=e.serialize(s),t.next=8,H.a.get("/banners"+a);case 8:n=t.sent,console.log(n.data.banners),e.allBanners=n.data.banners,console.log("async banners end"),e.loading=!1;case 13:case"end":return t.stop()}},t,e)}))()},sortBannersById:function(e){var t=[];_.forEach(this.allBanners,function(s,a){s.folderId==e&&t.push(s)}),this.banners=t},hasParentFolder:function(e){return null!=e.parentId&&e.parentId},asyncgetBannersDirectById:function(e){var t=this;return F()(B.a.mark(function e(){var s;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,H.a.defaults.headers.common.Authorization="Bearer "+t.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=t.$store.getters.getCurrentCompany.id,e.next=4,H.a.get("/banners");case 4:s=e.sent,console.log(s.data.banners),t.banners=s.data.banners,t.loading=!1;case 8:case"end":return e.stop()}},e,t)}))()},asyncgetFolderbyID:function(e){var t=this;return F()(B.a.mark(function s(){var a,n;return B.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t.loading=!0,H.a.defaults.headers.common.Accept="application/json",H.a.defaults.headers.common.Authorization="Bearer "+t.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=t.$store.getters.getCurrentCompany.id,s.next=4,H.a.get("/folders/"+e);case 4:if(a=s.sent,console.log(a.data),n=t.hasParentFolder(a.data.folder),t.parentNames.unshift({name:a.data.folder.name,id:a.data.folder.id}),!n){s.next=10;break}return s.abrupt("return",t.asyncgetFolderbyID(n));case 10:t.currentFolder=a.data.folder,t.loading=!1;case 12:case"end":return s.stop()}},s,t)}))()},asyncgetFolders:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ASC",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"id";return F()(B.a.mark(function r(){var i,o,l,c,d,u,p;return B.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s.loading=!0,i=50,o=0,l=n,c=a,e&&ee()(e)&&(i=e),t&&ee()(t)&&(o=t),t&&ee()(t)&&(o=t),console.log("asyncfolders start"),H.a.defaults.headers.common.Authorization="Bearer "+s.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=s.$store.getters.getCurrentCompany.id,d={take:i,skip:o,orderByType:c,orderBy:l,parentId:s.$route.params.id},u=s.serialize(d),r.next=14,H.a.get("/folders"+u);case 14:p=r.sent,console.log(p.data.folders),s.allFolders=p.data.folders,s.hideAllPopups(),s.sortFoldersById(s.$route.params.id),s.loading=!1;case 20:case"end":return r.stop()}},r,s)}))()},sortFoldersById:function(e){this.loading=!0;var t=[];_.forEach(this.allFolders,function(s,a){s.parentId==e&&t.push(s)}),this.folders=t,this.loading=!1},showBannerOverlay:function(){document.querySelector(".overlay.add-banner").classList.add("open","animated","slideInLeft"),setTimeout(function(){document.querySelector(".overlay.add-banner").classList.remove("animated","slideInLeft")},2e3)},showFolderOverlay:function(){document.querySelector(".overlay.add-folder").classList.add("open","animated","slideInLeft"),setTimeout(function(){document.querySelector(".overlay.add-banner").classList.remove("animated","slideInLeft")},2e3)},editPopup:function(e){e.target.nextElementSibling.classList.contains("visible")?this.hideAllPopups():e.target.nextElementSibling.classList.add("visible"),this.editing=null},hideAllPopups:function(){var e=document.querySelectorAll(".edit-box");for(var t in e)e.hasOwnProperty(t)&&document.querySelectorAll(".edit-box")[t].classList.remove("visible")},toggleCreating:function(){this.creating=!this.creating},createFolder:function(e){var t=this;console.log("attempting to create folder"),console.log(e.target),H.a.defaults.headers.common.Authorization="Bearer "+this.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=this.$store.getters.getCurrentCompany.id;var s={name:this.createName},a=this.$route.params.id;H.a.post("/folders",s).then(function(e){console.log(e),t.assignParentToFolder(e.data.folder.id,e.data.folder.name,a,0),t.createName=null,t.creating=!t.creating,console.log(t.folders)}).catch(function(e){if(console.log(e),"undefined"!=e&&void 0!==e.response.data.errors){var t=e.response.data.errors;for(var s in t)t.hasOwnProperty(s)&&(console.log(s+" -> "+t[s]),$('input[name="'+s+'"]').parent().addClass("input-error animated shake"),$('input[name="'+s+'"]').prev().text(t[s]));setTimeout(function(){$(".input-block").removeClass("input-error animated shake");var e=$(".fake-label");for(var t in e){var s=$(".fake-label").eq(t).data("initial");$(".fake-label").eq(t).text(s)}},3e3)}void 0!==e.response.data.message&&(document.getElementById("error").innerHTML=e.response.data.message)})},assignParentToFolder:function(e,t,s,a){var n=this;console.log("assigntparenttofolderstart"),H.a.defaults.headers.common.Authorization="Bearer "+this.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Accept="application/json",H.a.defaults.headers.common.Company=this.$store.getters.getCurrentCompany.id,H.a.patch("/folders/"+e,{name:t,generatePreviewToken:a,parentId:s}).then(function(e){console.log(e),n.asyncgetFolders()}).catch(function(e){void 0!==e&&console.log(e.response)})},deleteFolder:function(e,t){var s=this;e.preventDefault(),console.log("attempting to delete folder"),H.a.defaults.headers.common.Accept="application/json",H.a.defaults.headers.common.Authorization="Bearer "+this.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=this.$store.getters.getCurrentCompany.id;var a={confirmed:!0,_method:"delete"};console.log(a),H.a.post("/folders/"+t,a).then(function(e){console.log(e),s.asyncgetFolders(),console.log(s.folders)}).catch(function(e){"undefined"!=e.response&&console.log(e.response)})},editFolder:function(e,t){var s=this;e.preventDefault(),H.a.defaults.headers.common.Authorization="Bearer "+this.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Accept="application/json",H.a.defaults.headers.common.Company=this.$store.getters.getCurrentCompany.id;var a=null!=t.parentId?t.parentId:1;H.a.patch("/folders/"+t.id,{name:this.editName,generatePreviewToken:1,parentId:a}).then(function(e){console.log(e),s.asyncgetFolders(),s.createName=null,s.editName=null,s.editing=null,s.parentNames=[],s.asyncgetFolderbyID(s.$route.params.id)}).catch(function(e){void 0!==e&&console.log(e.response)})},testPromise:function(){new me.a(function(e,t){setTimeout(function(){return e(1)},1e3)}).then(function(e){return alert(e),2*e}).then(function(e){return alert(e),2*e}).then(function(e){return alert(e),2*e})},setEditing:function(e,t,s){event.preventDefault(),this.editing=s.id,this.editName=s.name,this.hideAllPopups()}}},Ve={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fullpage container-fluid"},[s("div",{staticClass:"row"},[s("sidebar",{on:{"company-changed":function(t){return e.methodThatForcesUpdate(t)}}}),e._v(" "),s("add-banner"),e._v(" "),e.loading?[s("Loading")]:e._e(),e._v(" "),e._m(0),e._v(" "),s("div",{staticClass:"banners container-fluid main-view"},[s("div",{staticClass:"col-lg-9 col-sm-12"},[s("router-link",{attrs:{to:{path:"/folders"}}},[s("span",{staticClass:"before"},[e._v("Folders ")])]),e._v(" "),e._l(e.parentNames,function(t,a){return[s("svg",{staticClass:"subset",staticStyle:{"enable-background":"new 0 0 800 800"},attrs:{version:"1.1",id:"Layer_1",fill:"#acb2bc",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 800 800","xml:space":"preserve"}},[s("path",{attrs:{id:"Shape",d:"M369.1,518.3L194.2,343.5c-8.5-8.5-12.8-19.7-12.8-30.9s4.3-22.4,12.8-30.9c17.1-17.1,44.8-17.1,61.8,0 L400,425.6l143.9-143.9c17.1-17.1,44.8-17.1,61.8,0c17.1,17.1,17.1,44.7,0,61.8L430.9,518.3C413.8,535.4,386.2,535.4,369.1,518.3z"}})]),e._v(" "),s("router-link",{attrs:{to:{path:"/folder/"+t.id}}},[s("span",{staticClass:"after"},[e._v(e._s(t.name))])])]})],2),e._v(" "),s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"header row"},[s("div",{staticClass:"left col-lg-5 col-md-4"},[s("button",{staticClass:"blue create-folder roundedd",on:{click:e.toggleCreating}},[e._v("Create folder")]),e._v(" "),s("button",{staticClass:"blue create roundedd",on:{click:e.showBannerOverlay}},[e._v("Create Banner")])]),e._v(" "),s("div",{staticClass:"right col-lg-7 col-md-8"},[s("div",{staticClass:"input-bubble search"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchValue,expression:"searchValue"}],attrs:{type:"text",placeholder:"Search by name or description"},domProps:{value:e.searchValue},on:{keyup:e.searchFolders,input:function(t){t.target.composing||(e.searchValue=t.target.value)}}})])])]),e._v(" "),s("div",{staticClass:"folders row"},[e.creating?[s("div",{staticClass:"col-lg-2 col-md-3 col-sm-6"},[s("div",{staticClass:"folder create-folder"},[s("div",{staticClass:"folder-name"},[s("form",{staticClass:"auth-form",attrs:{id:"addFolder"},on:{submit:function(t){return t.preventDefault(),e.createFolder(t)}}},[s("div",{staticClass:"input-block white nomarg lesspadd"},[s("span",{staticClass:"fake-label",attrs:{"data-initial":"Folder name"},on:{click:e.focusInput}},[e._v("Folder name")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.createName,expression:"createName"}],attrs:{type:"text",name:"name"},domProps:{value:e.createName},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||(e.createName=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"buttons"},[s("button",{staticClass:"left",on:{click:e.toggleCreating}},[e._v("CANCEL")]),e._v(" "),s("button",{staticClass:"right"},[e._v("CREATE")])])]),e._v(" "),s("span",{attrs:{id:"error"}})])])])]:e._e(),e._v(" "),e._l(e.folders,function(t,a){return[s("div",{staticClass:"col-lg-2 col-md-3 col-sm-6"},[s("div",{staticClass:"folder"},[s("svg",{staticClass:"taust",staticStyle:{"enable-background":"new 0 0 800 800"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 800 800","xml:space":"preserve"}},[s("path",{staticClass:"st0",attrs:{id:"Shape-Copy",d:"M304.7,196.1l47.7,47.7c13.6,13.6,30.6,20.4,47.7,20.4h272.4v340.5H127.6V196.1H304.7z M331.9,128H127.6c-37.5,0-68.1,30.6-68.1,68.1v408.6c0,37.5,30.6,68.1,68.1,68.1h544.8c37.5,0,68.1-30.6,68.1-68.1V264.2 c0-37.5-30.6-68.1-68.1-68.1H400L331.9,128z"}})]),e._v(" "),s("button",{staticClass:"edit",on:{click:function(t){return e.editPopup(t)}}}),e._v(" "),s("div",{staticClass:"edit-box"},[s("ul",[s("li",[s("a",{attrs:{href:"#"},on:{click:function(s){return e.setEditing(s,a,t)}}},[s("svg",{staticStyle:{"enable-background":"new 0 0 100 125"},attrs:{version:"1.1",fill:"#ededed",id:"",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 125","xml:space":"preserve"}},[s("title",[e._v("60 all")]),e._v(" "),s("g",[s("path",{attrs:{d:"M76.6,51.8v24.8H23.4V23.4h24.8V12.7H18.1c-3,0-5.4,2.4-5.4,5.4V82c0,3,2.4,5.4,5.4,5.4H82c3,0,5.4-2.4,5.4-5.4V51.8H76.6z "}}),e._v(" "),s("path",{attrs:{d:"M44,44.6l-4.2,11.1c-0.5,1.9,0.6,3.9,2.5,4.4c0.6,0.1,1.3,0.1,1.9,0L55.4,56c0.6-0.1,1.2-0.5,1.5-1l28.6-28.6 c1.4-1.4,2.3-2.9,0.8-4.2l-7.7-7.9c-1.4-1.4-3.7-1.4-5,0L45,43C44.5,43.4,44.2,44,44,44.6z"}})])]),e._v("\n                                                    Edit")])]),e._v(" "),s("li",[s("a",{attrs:{href:"#"},on:{click:function(s){return e.deleteFolder(s,t.id)}}},[s("svg",{staticStyle:{"enable-background":"new 0 0 100 125"},attrs:{version:"1.1",id:"",fill:"#e0e0e0",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 125","xml:space":"preserve"}},[s("title",[e._v("09")]),e._v(" "),s("path",{attrs:{d:"M22.8,28.6l0.1,45.2c0,7.2,5.8,13,13,13h28.3c7.2,0,13-5.8,13-13l0.1-45.2h7.4c1.7,0,3-1.3,3-3s-1.3-3-3-3H63.6v-2.5 c0-3.9-3.1-7-7-7H43.4c-3.9,0-7,3.1-7,7v2.5H15.3c-1.7,0-3,1.3-3,3s1.3,3,3,3H22.8z M53,69.8c0,1.7-1.3,3-3,3s-3-1.3-3-3V40.9 c0-1.7,1.3-3,3-3s3,1.3,3,3V69.8z M58,40.9c0-1.7,1.3-3,3-3s3,1.3,3,3v28.9c0,1.7-1.3,3-3,3s-3-1.3-3-3V40.9z M42.4,20.2 c0-0.6,0.4-1,1-1h13.2c0.6,0,1,0.4,1,1v2.5H42.4V20.2z M36,40.9c0-1.7,1.3-3,3-3s3,1.3,3,3v28.9c0,1.7-1.3,3-3,3s-3-1.3-3-3V40.9z"}})]),e._v("\n                                                    Delete ")])])])]),e._v(" "),s("div",{staticClass:"folder-bg"},[e.editing==t.id?[s("form",{staticClass:"auth-form oneline",attrs:{id:"editFolder"},on:{submit:function(s){return s.preventDefault(),e.editFolder(s,t)}}},[s("div",{staticClass:"input-block white nomarg lesspadd focused"},[s("span",{staticClass:"fake-label",attrs:{"data-initial":"Folder name"},on:{click:e.focusInput}},[e._v("Folder name")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.editName,expression:"editName"}],attrs:{id:"editfolderinput",type:"text",name:"editName"},domProps:{value:e.editName},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||(e.editName=t.target.value)}}})]),e._v(" "),e._m(1,!0)])]:[s("router-link",{attrs:{to:{path:"/folder/"+t.id}}},[s("span",{staticClass:"contents"},[e._v(e._s(t.name))]),e._v(" "),s("span",{staticClass:"date"},[e._v("Created at "),s("br"),e._v(e._s(e.humanDate(t.createdAt)))]),e._v(" "),s("span",{staticClass:"date"},[e._v("Updated at "),s("br"),e._v(e._s(e.humanDate(t.updatedAt)))])])]],2)])])]})],2)]),e._v(" "),s("div",{staticClass:"linebreak"}),e._v(" "),s("div",{staticClass:"recent-templates file-view"},[s("div",{staticClass:"header row"},[e._m(2),e._v(" "),s("div",{staticClass:"col-lg-3 col-sm-12"},[s("router-link",{attrs:{to:{path:"/create-banner"}}},[s("button",{staticClass:"right roundedd blue duplicate"},[e._v("Create Banner")])])],1),e._v(" "),e._m(3),e._v(" "),s("div",{staticClass:"right col-lg-8 col-md-6 col-sm-6"},[s("div",{staticClass:"input-bubble search"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchValue,expression:"searchValue"}],attrs:{type:"text",placeholder:"Search by name or description"},domProps:{value:e.searchValue},on:{keyup:e.searchFolders,input:function(t){t.target.composing||(e.searchValue=t.target.value)}}})]),e._v(" "),e._m(4),e._v(" "),e._m(5)])]),e._v(" "),s("div",{staticClass:"banner-slide row"},[e._l(e.banners,function(t,a){return[s("div",{staticClass:"col-lg-2 col-md-3 col-sm-6"},[s("router-link",{attrs:{to:{path:"/banners/edit-banner/"+t.id}}},[s("div",{class:e.returnAspectRatio(t.size.width,t.size.height)+" dimension-box"},["tower"==e.returnAspectRatio(t.size.width,t.size.height)?[s("svg",{staticStyle:{"enable-background":"new 0 0 40 40"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 40 40","xml:space":"preserve"}},[s("g",{staticClass:"st0",attrs:{id:"Page-1"}},[s("g",{attrs:{id:"image-gallery-copy-2"}},[s("path",{attrs:{id:"Shape",d:"M6.2,26.8V9.6H3.5C1.6,9.6,0,11.2,0,13.2v23.2c0,1.9,1.6,3.5,3.5,3.5h23.2c1.9,0,3.5-1.6,3.5-3.5v-2.5H13.2 C9.3,33.9,6.2,30.7,6.2,26.8z"}}),e._v(" "),s("path",{attrs:{d:"M36.5,0.1H13.2c-1.9,0-3.5,1.6-3.5,3.5v23.2c0,1.9,1.6,3.5,3.5,3.5h23.2c1.9,0,3.5-1.6,3.5-3.5V3.6 C40,1.6,38.4,0.1,36.5,0.1z M28.5,25.5h-6.8V4.7h6.8V25.5z"}})])])])]:"rectangle"==e.returnAspectRatio(t.size.width,t.size.height)?[s("svg",{staticStyle:{"enable-background":"new 0 0 40 40"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 40 40","xml:space":"preserve"}},[s("g",{staticClass:"st0",attrs:{id:"Page-1"}},[s("g",{attrs:{id:"image-gallery-copy-3"}},[s("path",{attrs:{id:"Shape",d:"M6.2,26.8V9.6H3.5C1.6,9.6,0,11.2,0,13.2v23.2c0,1.9,1.6,3.5,3.5,3.5h23.2c1.9,0,3.5-1.6,3.5-3.5v-2.5H13.2 C9.3,33.9,6.2,30.7,6.2,26.8z"}}),e._v(" "),s("path",{attrs:{d:"M36.5,0.1H13.2c-1.9,0-3.5,1.6-3.5,3.5v23.2c0,1.9,1.6,3.5,3.5,3.5h23.2c1.9,0,3.5-1.6,3.5-3.5V3.6 C40,1.6,38.4,0.1,36.5,0.1z M35.2,18.4H15v-6.4h20.1V18.4z"}})])])])]:"squaree"==e.returnAspectRatio(t.size.width,t.size.height)?[s("svg",{staticStyle:{"enable-background":"new 0 0 40 40"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 40 40","xml:space":"preserve"}},[s("g",{staticClass:"st0",attrs:{id:"Page-1"}},[s("g",{attrs:{id:"image-gallery-copy-4"}},[s("path",{attrs:{id:"Shape",d:"M6.2,26.8V9.6H3.5C1.6,9.6,0,11.2,0,13.2v23.2c0,1.9,1.6,3.5,3.5,3.5h23.2c1.9,0,3.5-1.6,3.5-3.5v-2.5H13.2 C9.3,33.9,6.2,30.7,6.2,26.8z"}}),e._v(" "),s("path",{attrs:{d:"M36.5,0.1H13.2c-1.9,0-3.5,1.6-3.5,3.5v23.2c0,1.9,1.6,3.5,3.5,3.5h23.2c1.9,0,3.5-1.6,3.5-3.5V3.6 C40,1.6,38.4,0.1,36.5,0.1z M30.5,20.4H19.7V10.1h10.8V20.4z"}})])])])]:e._e(),e._v(" "),s("span",[e._v(e._s(t.size.width)+"x"+e._s(t.size.height))])],2),e._v(" "),s("span",[e._v(e._s(t.name))])])],1)]})],2)])])],2)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"overlay Aligner"},[t("div",{staticClass:"form-wrapper Aligner-item"},[t("div",{staticClass:"input-block"},[t("span",{staticClass:"fake-label"},[this._v("Folder name")]),this._v(" "),t("input",{attrs:{type:"text",placeholder:"Skyscraper tempate"}})]),this._v(" "),t("div",{staticClass:"input-block"},[t("span",{staticClass:"fake-label"},[this._v("Folder Description")]),this._v(" "),t("textarea",{staticClass:"comment"})]),this._v(" "),t("button",{staticClass:"blue roundedd save"},[this._v("Save")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"buttons"},[t("button",{staticClass:"right"},[this._v("SAVE")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col-lg-9 col-sm-12"},[t("span",{staticClass:"before"},[this._v("Banners")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"left  col-lg-4 col-md-6 col-sm-6"},[s("div",{staticClass:"grey-dd"},[s("span",[e._v("Latest updated")]),e._v(" "),s("div",{staticClass:"hidden"},[s("ul",[s("li",[e._v("Most used")]),e._v(" "),s("li",[e._v("Most used")]),e._v(" "),s("li",[e._v("Most used")]),e._v(" "),s("li",[e._v("Most used")]),e._v(" "),s("li",[e._v("Most used")])])])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"input-bubble dropdown"},[s("span",[e._v(" Aspect ratio")]),e._v(" "),s("div",{staticClass:"hidden"},[s("ul",[s("li",[e._v("600x300")]),e._v(" "),s("li",[e._v("600x300")]),e._v(" "),s("li",[e._v("600x300")]),e._v(" "),s("li",[e._v("600x300")])])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"input-bubble dropdown"},[s("span",[e._v(" Size")]),e._v(" "),s("div",{staticClass:"hidden"},[s("ul",[s("li",[e._v("Size 1")]),e._v(" "),s("li",[e._v("Size 2")]),e._v(" "),s("li",[e._v("Size 3")]),e._v(" "),s("li",[e._v("Size 4")])])])])}]},He=a("VU/8")(Fe,Ve,!1,null,null,null).exports,Ee=a("Msij"),Ue=a.n(Ee),Me={props:{url:{type:String,required:!0},thumbUrl:{type:Function,default:function(){}},accept:{type:String,default:".png,.jpg"},headers:{type:Object,default:function(){return{}}},btnLabel:{type:String,default:"Select a file"},btnUploadingLabel:{type:String,default:"Uploading file"},maxSize:{type:Number,default:15728640},additionalData:{type:Object,default:function(){return{}}},requestType:{type:String,default:"POST"}},data:function(){return{progress:0,anexo:{}}},computed:{uploading:function(){return this.progress>0},progressStyle:function(){return{width:this.progress+"%",display:this.uploading?"block":"none"}},inputWrapperStyle:function(){return{opacity:this.uploading?"0.7":"1"}}},methods:{onChangeInputFile:function(e){var t=e.target.files||e.dataTransfer.files;if(t.length){var s=t[0];s.size>this.maxSize?this.$emit("error",{code:"max_size_exceded",message:"File max size exceded, upload a file smaller than "+this.maxSize}):this.upload(s)}},upload:function(t){var s=this;this.progress=.1;var a=new FormData;a.append("file",t),H.a.defaults.headers.common["Content-Type"]="application/x-www-form-urlencoded",H.a.defaults.headers.common.Accept="application/json",H.a.defaults.headers.common.Authorization="Bearer "+this.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=this.$store.getters.getCurrentCompany.id,console.log(H.a.defaults.headers.common),H.a.post("/files",a).then(function(t){console.log(t),s.anexo=t.data.file,s.onChangeAnexo(),s.$emit("success",e),s.progress=0,s.cleanInput()}).catch(function(e){console.log(e.response),s.$emit("error",e),s.progress=0,s.cleanInput()})},cleanInput:function(){var e=this.$refs.input;e&&(e.value="")},onProgress:function(e){this.progress=parseInt(100*e.loaded/e.total),this.$emit("progress",this.progress)},onChangeAnexo:function(){this.$emit("change",this.anexo)}}},De={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"file-upload"},[s("div",{staticClass:"input-wrapper",style:e.inputWrapperStyle},[s("input",{ref:"input",attrs:{id:"file-upload-input",type:"file",name:"file",accept:e.accept,multiple:!1,disabled:e.uploading},on:{change:e.onChangeInputFile}}),e._v(" "),s("label",{staticClass:"file-upload-label",attrs:{for:"file-upload-input"}},[s("span",{staticClass:"file-upload-icon",class:{"file-upload-icon-pulse":e.uploading}},[e._v(" ⇪")]),e._v(" "),s("div",[e._v(" "+e._s(e.uploading?e.btnUploadingLabel:e.btnLabel))]),e._v(" "),s("div",{staticClass:"file-upload-progress",style:e.progressStyle})])])])},staticRenderFns:[]};var Oe=a("VU/8")(Me,De,!1,function(e){a("/XRX")},null,null).exports,Re={name:"MyFileUpload",props:{label:{type:String,required:!0},showFiles:{type:Boolean,required:!0},selectFiles:{type:Boolean,required:!0}},mixins:[w],data:function(){return{success:{value:!1,message:null},error:"",additionalData:{doc_id:2},url:null,headers:{Accept:"application/json",Authorization:"Bearer "+this.$store.getters.getToken.accessToken,Company:this.$store.getters.getCurrentCompany.id},files:null,deleting:null,selectedFile:null}},created:function(){this.url=this.baseUrl+"/files",console.log(this.url),(this.showFiles||this.selectFiles)&&this.getFiles()},components:{FileUpload:Ue.a,ModifiedFileUpload:Oe},methods:{selectFile:function(e){this.selectedFile=e,console.log(this.selectedFile),this.$emit("fileselected",this.selectedFile.id)},thumbUrl:function(e){return e&&e.id||this.success?"http://vuejs.org/images/logo.png":""},onSucess:function(){this.error="",this.success.value=!0,this.success.message="File uploaded successfully!"},onChange:function(e){console.log(e)},onError:function(e){},setDeleting:function(e){this.deleting=e},removeDeleting:function(){this.deleting=null},deleteFile:function(e){var t=this;console.log("attempting to delete file"),H.a.defaults.headers.common.Accept="application/json",H.a.defaults.headers.common.Authorization="Bearer "+this.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=this.$store.getters.getCurrentCompany.id;var s={confirmed:!0,_method:"delete"};console.log(s),H.a.post("/files/"+e,s).then(function(e){console.log(e),t.getFiles(),console.log(t.files)}).catch(function(e){"undefined"!=e.response&&console.log(e.response)})},getFiles:function(){var e=this;return F()(B.a.mark(function t(){var s,a,n;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,H.a.defaults.headers.common.Accept="application/json",H.a.defaults.headers.common.Authorization="Bearer "+e.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=e.$store.getters.getCurrentCompany.id,s={take:6},a=e.serialize(s),t.next=8,H.a.get("/files"+a);case 8:n=t.sent,console.log(n.data),e.files=n.data.files,e.loading=!1;case 12:case"end":return t.stop()}},t,e)}))()},getFileById:function(e){var t=this;return F()(B.a.mark(function s(){var a;return B.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t.loading=!0,H.a.defaults.headers.common.Accept="application/json",H.a.defaults.headers.common.Authorization="Bearer "+t.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=t.$store.getters.getCurrentCompany.id,s.next=6,H.a.get("/files/"+e);case 6:a=s.sent,console.log(a.data),t.loading=!1;case 9:case"end":return s.stop()}},s,t)}))()}}},qe={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"input-block file-upload"},[s("span",{staticClass:"label",domProps:{textContent:e._s(e.label)}}),e._v(" "),1==e.success.value?s("span",{staticClass:"success"},[e._v(e._s(e.success.message))]):e._e(),e._v(" "),s("p",{staticClass:"red"},[e._v(" "+e._s(e.error))]),e._v(" "),s("modified-file-upload",{attrs:{url:e.url,"thumb-url":e.thumbUrl,"additional-data":e.additionalData},on:{change:e.onChange,success:e.onSucess,error:e.onError}}),e._v(" "),!0===e.selectFiles?[s("div",{staticClass:"thumbs select"},[e._l(e.files,function(t,a){return[s("div",{key:a,staticClass:"thumb-preview"},[s("div",{staticClass:"thumb-preview-item",class:[t==e.selectedFile?"selected":""],style:{"background-image":"url("+t.publicUrl+")"},on:{click:function(s){return e.selectFile(t)}}})])]})],2)]:!0===e.showFiles?[s("div",{staticClass:"thumbs"},[e._l(e.files,function(t,a){return[s("div",{key:a,staticClass:"thumb-preview"},[s("div",{staticClass:"thumb-preview-item",style:{"background-image":"url("+t.publicUrl+")"},on:{mouseleave:function(t){return e.removeDeleting()}}},[null!=e.deleting&&e.deleting.id==t.id?[s("div",{staticClass:"over delete-file"},[s("p",[e._v("Are you sure you want to delete this file?")]),e._v(" "),s("button",{on:{click:function(s){return e.deleteFile(t.id)}}},[e._v("YES")])])]:[s("div",{staticClass:"over edit-file"},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},on:{click:function(s){return e.setDeleting(t)}}},[s("path",{attrs:{d:"M3 6v18h18v-18h-18zm5 14c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm4-18v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.315c0 .901.73 2 1.631 2h5.712z"}})])])]],2)])]})],2)]:e._e()],2)])},staticRenderFns:[]},je=a("VU/8")(Re,qe,!1,null,null,null).exports,Ze={name:"Folders",components:{Sidebar:o,Loading:J,FileUpload:je},data:function(){return{loading:!0,msg:"Banners yo",banners:null,folders:null,allFolders:null,currentCompany:this.$store.getters.getCurrentCompany||null,currentAccessLevel:this.$store.getters.getCurrentAccessLevel||null,creating:!1,uploading:!1,createName:null,confirmedtrue:!1,editName:null,editing:[],searchValue:null,orderByOptions:{"Date Created":"createdAt",Name:"name","Date Updated":"updatedAt"},orderBy:"id",orderByType:"ASC",take:60,skip:0}},created:function(){var e=this;if(null==this.$store.getters.getCurrentCompany&&(this.$store.commit("setCurrentCompany",this.$store.getters.getUser.companies[0]),this.currentCompany=this.$store.getters.getUser.companies[0]),null==this.currentAccessLevel){var t=_.findIndex(this.$store.getters.getUser.companies,function(t){return t.id==e.$store.getters.getCurrentCompany.id});this.currentAccessLevel=this.$store.getters.getUser.companies[t].pivot.role,this.$store.commit("setCurrentAccessLevel",this.$store.getters.getUser.companies[t].pivot.role)}this.asyncgetFolders()},mixins:[w],methods:{updateFolders:function(e,t,s,a){console.log(e),console.log(t),console.log(s),console.log(a),this.asyncgetFolders(e,t,s,a)},methodThatForcesUpdate:function(e){this.currentCompany=e,this.asyncgetFolders()},searchFolders:function(){var e=this.searchValue.toLowerCase(),t=[];null!=e&&""!=e?(_.forEach(this.allFolders,function(s){s.name.toLowerCase().indexOf(e)>-1&&t.push(s)}),this.folders=t):this.folders=this.allFolders},asyncgetBannersDirect:function(){var e=this;return F()(B.a.mark(function t(){var s;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,H.a.defaults.headers.common.Authorization="Bearer "+e.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=e.$store.getters.getCurrentCompany.id,t.next=4,H.a.get("/banners");case 4:s=t.sent,console.log(s),e.banners=s.data.banners,e.loading=!1;case 8:case"end":return t.stop()}},t,e)}))()},asyncgetFolderbyID:function(e){var t=this;return F()(B.a.mark(function s(){return B.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t.loading=!0,H.a.defaults.headers.common.Accept="application/json",H.a.defaults.headers.common.Authorization="Bearer "+t.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=t.$store.getters.getCurrentCompany.id,s.next=4,H.a.get("/folders/"+e);case 4:s.sent,t.loading=!1;case 6:case"end":return s.stop()}},s,t)}))()},asyncgetFolders:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ASC",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"id";return F()(B.a.mark(function r(){var i,o,l,c,d,u,p;return B.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s.loading=!0,i=50,o=0,l=n,c=a,e&&ee()(e)&&(i=e),t&&ee()(t)&&(o=t),console.log("asyncfolders start"),H.a.defaults.headers.common.Authorization="Bearer "+s.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=s.$store.getters.getCurrentCompany.id,d={take:i,skip:o,orderByType:c,orderBy:l},u=s.serialize(d),r.next=13,H.a.get("/folders"+u);case 13:p=r.sent,console.log(p.data),s.folders=p.data.folders,s.allFolders=p.data.folders,s.hideAllPopups(),s.loading=!1;case 19:case"end":return r.stop()}},r,s)}))()},showBannerOverlay:function(){document.querySelector(".overlay.add-banner").classList.add("open","animated","slideInLeft"),setTimeout(function(){document.querySelector(".overlay.add-banner").classList.remove("animated","slideInLeft")},2e3)},showFolderOverlay:function(){document.querySelector(".overlay.add-folder").classList.add("open","animated","slideInLeft"),setTimeout(function(){document.querySelector(".overlay.add-banner").classList.remove("animated","slideInLeft")},2e3)},returnAspectRatio:function(e,t){return e==t?"squaree":e>t?"rectangle":"tower"},editPopup:function(e){e.target.nextElementSibling.classList.contains("visible")?this.hideAllPopups():e.target.nextElementSibling.classList.add("visible"),this.editing=null},hideAllPopups:function(){var e=document.querySelectorAll(".edit-box");for(var t in e)e.hasOwnProperty(t)&&document.querySelectorAll(".edit-box")[t].classList.remove("visible")},toggleCreating:function(){this.creating=!this.creating},toggleFileUpload:function(){this.uploading=!this.uploading},createFolder:function(e){var t=this;console.log("attempting to create folder"),console.log(e.target),H.a.defaults.headers.common.Authorization="Bearer "+this.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=this.$store.getters.getCurrentCompany.id;var s={name:this.createName};console.log(s),H.a.post("/folders",s).then(function(e){console.log(e),t.asyncgetFolders(),t.createName=null,t.creating=!t.creating,console.log(t.folders)}).catch(function(e){if(console.log(e.response),"undefined"!=e&&void 0!==e.response.data.errors){var t=e.response.data.errors;for(var s in t)t.hasOwnProperty(s)&&(console.log(s+" -> "+t[s]),$('input[name="'+s+'"]').parent().addClass("input-error animated shake"),$('input[name="'+s+'"]').prev().text(t[s]));setTimeout(function(){$(".input-block").removeClass("input-error animated shake");var e=$(".fake-label");for(var t in e){var s=$(".fake-label").eq(t).data("initial");$(".fake-label").eq(t).text(s)}},3e3)}void 0!==e.response.data.message&&(document.getElementById("error").innerHTML=e.response.data.message)})},deleteFolder:function(e,t){var s=this;e.preventDefault(),console.log("attempting to delete folder"),H.a.defaults.headers.common.Accept="application/json",H.a.defaults.headers.common.Authorization="Bearer "+this.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=this.$store.getters.getCurrentCompany.id;var a={confirmed:!0,_method:"delete"};console.log(a),H.a.post("/folders/"+t,a).then(function(e){console.log(e),s.asyncgetFolders(),console.log(s.folders)}).catch(function(e){"undefined"!=e.response&&console.log(e.response)})},editFolder:function(e,t){var s=this;e.preventDefault(),H.a.defaults.headers.common.Authorization="Bearer "+this.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Accept="application/json",H.a.defaults.headers.common.Company=this.$store.getters.getCurrentCompany.id;var a=null!=t.parentId?t.parentId:1;H.a.patch("/folders/"+t.id,{name:this.editName,generatePreviewToken:1,parentId:a}).then(function(e){console.log(e),s.asyncgetFolders(),s.createName=null,s.editName=null,s.editing=null}).catch(function(e){void 0!==e&&console.log(e.response)})},testPromise:function(){new me.a(function(e,t){setTimeout(function(){return e(1)},1e3)}).then(function(e){return alert(e),2*e}).then(function(e){return alert(e),2*e}).then(function(e){return alert(e),2*e})},setEditing:function(e,t,s){event.preventDefault(),this.editing=s.id,this.editName=s.name,this.hideAllPopups()}}},Ye={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fullpage container-fluid"},[s("div",{staticClass:"row"},[s("sidebar",{on:{"company-changed":function(t){return e.methodThatForcesUpdate(t)}}}),e._v(" "),e.loading?[s("Loading")]:e._e(),e._v(" "),s("div",{staticClass:"banners container-fluid main-view"},[s("h1",[e._v("All Folders")]),e._v(" "),s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"header row"},[s("div",{staticClass:"left col-lg-5 col-md-4"},[s("button",{staticClass:"blue create-folder roundedd",on:{click:e.toggleCreating}},[e._v("Create folder")]),e._v(" "),s("button",{staticClass:"blue create roundedd",on:{click:e.toggleFileUpload}},[e._v("Upload File")])]),e._v(" "),s("div",{staticClass:"right col-lg-7 col-md-8"},[s("div",{staticClass:"input-bubble search"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchValue,expression:"searchValue"}],attrs:{type:"text",placeholder:"Search by name or description"},domProps:{value:e.searchValue},on:{keyup:e.searchFolders,input:function(t){t.target.composing||(e.searchValue=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"input-bubble dropdown",on:{click:function(t){return e.toggleDropDown(t)}}},[s("span",[e._v("Order By")]),e._v(" "),s("div",{staticClass:"hidden"},[s("ul",e._l(e.orderByOptions,function(t,a){return s("li",{key:a,on:{click:function(s){return e.updateFolders(e.take,e.skip,e.orderByType,t)}}},[e._v(e._s(a))])}),0)])])])]),e._v(" "),e.uploading?[s("div",{staticClass:"folders row"},[s("div",{staticClass:"col-12"},[s("file-upload",{attrs:{label:"Upload here",showFiles:!0,selectFiles:!1}})],1)])]:e._e(),e._v(" "),s("div",{staticClass:"folders row"},[e.creating?[s("div",{staticClass:"col-lg-2 col-md-3 col-sm-6"},[s("div",{staticClass:"folder create-folder"},[s("div",{staticClass:"folder-name"},[s("form",{staticClass:"auth-form",attrs:{id:"addFolder"},on:{submit:function(t){return t.preventDefault(),e.createFolder(t)}}},[s("div",{staticClass:"input-block white nomarg lesspadd"},[s("span",{staticClass:"fake-label",attrs:{"data-initial":"Folder name"},on:{click:e.focusInput}},[e._v("Folder name")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.createName,expression:"createName"}],attrs:{type:"text",name:"name"},domProps:{value:e.createName},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||(e.createName=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"buttons"},[s("button",{staticClass:"left",on:{click:e.toggleCreating}},[e._v("CANCEL")]),e._v(" "),s("button",{staticClass:"right"},[e._v("CREATE")])])]),e._v(" "),s("span",{attrs:{id:"error"}})])])])]:e._e(),e._v(" "),e._l(e.folders,function(t,a){return[s("div",{staticClass:"col-lg-2 col-md-3 col-sm-6"},[s("div",{staticClass:"folder"},[s("svg",{staticClass:"taust",staticStyle:{"enable-background":"new 0 0 800 800"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 800 800","xml:space":"preserve"}},[s("path",{staticClass:"st0",attrs:{id:"Shape-Copy",d:"M304.7,196.1l47.7,47.7c13.6,13.6,30.6,20.4,47.7,20.4h272.4v340.5H127.6V196.1H304.7z M331.9,128H127.6c-37.5,0-68.1,30.6-68.1,68.1v408.6c0,37.5,30.6,68.1,68.1,68.1h544.8c37.5,0,68.1-30.6,68.1-68.1V264.2 c0-37.5-30.6-68.1-68.1-68.1H400L331.9,128z"}})]),e._v(" "),s("button",{staticClass:"edit",on:{click:function(t){return e.editPopup(t)}}}),e._v(" "),s("div",{staticClass:"edit-box"},[s("ul",[s("li",[s("a",{attrs:{href:"#"},on:{click:function(s){return e.setEditing(s,a,t)}}},[s("svg",{staticStyle:{"enable-background":"new 0 0 100 125"},attrs:{version:"1.1",fill:"#ededed",id:"",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 125","xml:space":"preserve"}},[s("title",[e._v("60 all")]),e._v(" "),s("g",[s("path",{attrs:{d:"M76.6,51.8v24.8H23.4V23.4h24.8V12.7H18.1c-3,0-5.4,2.4-5.4,5.4V82c0,3,2.4,5.4,5.4,5.4H82c3,0,5.4-2.4,5.4-5.4V51.8H76.6z "}}),e._v(" "),s("path",{attrs:{d:"M44,44.6l-4.2,11.1c-0.5,1.9,0.6,3.9,2.5,4.4c0.6,0.1,1.3,0.1,1.9,0L55.4,56c0.6-0.1,1.2-0.5,1.5-1l28.6-28.6 c1.4-1.4,2.3-2.9,0.8-4.2l-7.7-7.9c-1.4-1.4-3.7-1.4-5,0L45,43C44.5,43.4,44.2,44,44,44.6z"}})])]),e._v("\n                                                        Edit")])]),e._v(" "),s("li",[s("a",{attrs:{href:"#"},on:{click:function(s){return e.deleteFolder(s,t.id)}}},[s("svg",{staticStyle:{"enable-background":"new 0 0 100 125"},attrs:{version:"1.1",id:"",fill:"#e0e0e0",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 125","xml:space":"preserve"}},[s("title",[e._v("09")]),e._v(" "),s("path",{attrs:{d:"M22.8,28.6l0.1,45.2c0,7.2,5.8,13,13,13h28.3c7.2,0,13-5.8,13-13l0.1-45.2h7.4c1.7,0,3-1.3,3-3s-1.3-3-3-3H63.6v-2.5 c0-3.9-3.1-7-7-7H43.4c-3.9,0-7,3.1-7,7v2.5H15.3c-1.7,0-3,1.3-3,3s1.3,3,3,3H22.8z M53,69.8c0,1.7-1.3,3-3,3s-3-1.3-3-3V40.9 c0-1.7,1.3-3,3-3s3,1.3,3,3V69.8z M58,40.9c0-1.7,1.3-3,3-3s3,1.3,3,3v28.9c0,1.7-1.3,3-3,3s-3-1.3-3-3V40.9z M42.4,20.2 c0-0.6,0.4-1,1-1h13.2c0.6,0,1,0.4,1,1v2.5H42.4V20.2z M36,40.9c0-1.7,1.3-3,3-3s3,1.3,3,3v28.9c0,1.7-1.3,3-3,3s-3-1.3-3-3V40.9z"}})]),e._v("\n                                                        Delete ")])])])]),e._v(" "),s("div",{staticClass:"folder-bg"},[e.editing==t.id?[s("form",{staticClass:"auth-form oneline",attrs:{id:"editFolder"},on:{submit:function(s){return s.preventDefault(),e.editFolder(s,t)}}},[s("div",{staticClass:"input-block white nomarg lesspadd focused"},[s("span",{staticClass:"fake-label",attrs:{"data-initial":"Folder name"},on:{click:e.focusInput}},[e._v("Folder name")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.editName,expression:"editName"}],attrs:{id:"editfolderinput",type:"text",name:"editName"},domProps:{value:e.editName},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||(e.editName=t.target.value)}}})]),e._v(" "),e._m(0,!0)])]:[s("router-link",{attrs:{to:{path:"/folder/"+t.id}}},[s("span",{staticClass:"contents"},[e._v(e._s(t.name))]),e._v(" "),s("span",{staticClass:"date"},[e._v("Created at "),s("br"),e._v(e._s(e.humanDate(t.createdAt)))]),e._v(" "),s("span",{staticClass:"date"},[e._v("Updated at "),s("br"),e._v(e._s(e.humanDate(t.updatedAt)))])])]],2)])])]})],2)],2)])],2)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"buttons"},[t("button",{staticClass:"right"},[this._v("SAVE")])])}]},Ge=a("VU/8")(Ze,Ye,!1,null,null,null).exports,Xe={name:"My Account",components:{Sidebar:o},data:function(){return{msg:"My Account",firstName:this.$store.getters.getUser.firstName,lastName:this.$store.getters.getUser.lastName,email:this.$store.getters.getUser.email,users:[],user:this.$store.getters.getUser,currentCompany:this.$store.getters.getCurrentCompany||null}},created:function(){null==this.currentCompany&&(this.$store.commit("setCurrentCompany",this.$store.getters.getUser.companies[0]),this.currentCompany=this.$store.getters.getUser.companies[0]),this.name=this.currentCompany.name,this.registrationCode=this.currentCompany.registrationCode,this.vat_number=this.currentCompany.vatNumber,this.country=this.currentCompany.country,this.city=this.currentCompany.city,this.address=this.currentCompany.address,this.getUsers(),console.log(this.currentCompany),console.log(this.user)},mixins:[w],methods:{methodThatForcesUpdate:function(e){this.setCurrentCompany(e.id)},setCurrentCompany:function(e){var t=_.findIndex(this.$store.getters.getUser.companies,function(t){return t.id==e});console.log(t),this.$store.commit("setCurrentCompany",this.$store.getters.getUser.companies[t]),this.currentCompany=this.$store.getters.getUser.companies[t]},getUsers:function(){var e=this;return F()(B.a.mark(function t(){var s;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==typeof e.currentCompany){t.next=7;break}return H.a.defaults.headers.common.Authorization="Bearer "+e.$store.getters.getToken.accessToken,t.next=4,H.a.get("/companies/"+e.currentCompany.id);case 4:s=t.sent,e.users=s.data.company.users,console.log(e.users);case 7:case"end":return t.stop()}},t,e)}))()}}},We={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fullpage container-fluid"},[s("div",{staticClass:"row"},[s("sidebar",{on:{"company-changed":function(t){return e.methodThatForcesUpdate(t)}}}),e._v(" "),s("div",{staticClass:"edit-company main-view container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-5 col-md-12 edit-form"},[s("h1",[e._v("My account")]),e._v(" "),s("div",{staticClass:"company-form"},[s("div",{staticClass:"input-block focused"},[s("span",{staticClass:"fake-label",on:{click:e.focusInput}},[e._v("First Name")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.firstName,expression:"firstName"}],attrs:{name:"firstName",type:"text"},domProps:{value:e.firstName},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||(e.firstName=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"input-block focused"},[s("span",{staticClass:"fake-label",on:{click:e.focusInput}},[e._v("Last Name")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.lastName,expression:"lastName"}],attrs:{name:"lastName",type:"text"},domProps:{value:e.lastName},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||(e.lastName=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"input-block focused"},[s("span",{staticClass:"fake-label",on:{click:e.focusInput}},[e._v("Email")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{name:"email",type:"text"},domProps:{value:e.email},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||(e.email=t.target.value)}}})])]),e._v(" "),s("button",{staticClass:"blue save roundedd"},[e._v("Save")])]),e._v(" "),s("div",{staticClass:"col-lg-7 col-md-12 users"},[e._m(0),e._v(" "),e._l(e.users,function(t){return s("div",{staticClass:"user row"},[e._m(1,!0),e._v(" "),s("div",{staticClass:"col-lg-5"},[s("span",{staticClass:"bold"},[e._v(e._s(t.firstName)+" "+e._s(t.lastName))]),e._v(" "),s("span",{staticClass:"email"},[e._v(e._s(t.email))]),e._v(" "),s("span",{staticClass:"lastseen"},[e._v("Last seen "),s("span",{staticClass:"date"},[e._v(" "+e._s(e.humanDate(t.lastSeenAt)))])])]),e._v(" "),s("div",{staticClass:"col-lg-3"},[s("div",{staticClass:"input-bubble dropdown",on:{click:e.toggleDropDown}},[s("span",[e._v(" "+e._s(e.returnRole(t.pivot.role)))]),e._v(" "),e._m(2,!0)])]),e._v(" "),s("div",{staticClass:"col-lg-2 status"},[s("div",{staticClass:"grey-dd"},[s("svg",{staticClass:"icon",staticStyle:{"enable-background":"new 0 0 100 125"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 125","xml:space":"preserve"}},[s("title",[e._v("setng cog")]),e._v(" "),s("path",{attrs:{d:"M98.7,38.7c-0.1-0.3-0.3-0.6-0.5-0.9c-1.8-2.3-4.6-3.6-7.5-3.5h-0.5c-1.7,0-3.2-1-4-2.5c-0.1,0-0.1,0-0.1-0.1c0,0,0,0,0,0 c-0.5-0.9-1-1.7-1.5-2.6c-0.1,0-0.1-0.1-0.1-0.1c-0.9-1.5-0.9-3.3-0.1-4.8c0.1-0.1,0.2-0.2,0.2-0.4c1.5-2.6,1.8-5.7,0.8-8.6 c-0.1-0.3-0.3-0.7-0.5-0.9c-1.7-1.6-3.5-3.1-5.4-4.5c-0.2-0.1-0.5-0.2-0.9-0.4c-2.9-0.6-6,0.2-8.2,2.2c-0.1,0-0.3,0.1-0.4,0.2 c-0.8,0.7-1.8,1-2.8,1c-0.6,0-1.2-0.1-1.8-0.4c-1-0.4-1.9-0.7-2.9-1c-1.6-0.6-2.8-2-3.1-3.6c0-0.2-0.1-0.3-0.1-0.5 c-0.4-3-2.2-5.6-4.9-7c-0.3-0.2-0.6-0.2-0.9-0.2c-2.3-0.1-4.6-0.1-6.9,0c-0.3,0-0.6,0.1-0.9,0.2c-2.7,1.5-4.5,4.1-4.9,7.1 c-0.1,0.1-0.2,0.2-0.1,0.4c-0.3,1.7-1.4,3.1-3.1,3.6c-0.9,0.2-1.9,0.6-2.9,1c-0.6,0.1-1.2,0.2-1.8,0.2c-1,0-2-0.4-2.8-1 c-0.1-0.1-0.2-0.1-0.4-0.3c-2.2-2-5.3-2.8-8.2-2.2c-0.3,0-0.7,0.1-0.9,0.4c-1.9,1.3-3.7,2.8-5.4,4.5c-0.2,0.3-0.4,0.6-0.5,0.9 c-1.1,2.8-0.8,6,0.8,8.6c0.1,0.1,0.2,0.3,0.2,0.4c0.8,1.5,0.7,3.3-0.1,4.8c-0.1,0-0.1,0-0.1,0.1c0,0,0,0,0,0c-0.5,0.8-1,1.7-1.5,2.6 c-0.1,0-0.1,0-0.1,0.1c0,0,0,0,0,0c-0.8,1.5-2.3,2.5-4,2.5H9.3c-2.9-0.1-5.7,1.2-7.5,3.5c-0.2,0.3-0.4,0.6-0.5,0.9 c-0.6,2.4-1,4.8-1.3,7.3c0,0.3,0,0.7,0.1,1c0.9,2.8,3.1,4.9,5.9,5.9c0.2,0,0.3,0.1,0.5,0.1c1.6,0.6,2.7,2,2.9,3.6v0.1 c0.1,1,0.3,2,0.5,3v0.1c0.3,1.7-0.3,3.4-1.5,4.5c-0.1,0-0.3,0.1-0.4,0.2c-2.2,1.8-3.5,4.5-3.6,7.4c0,0.3,0.1,0.7,0.2,1 c1.1,2.3,2.4,4.5,3.8,6.6C8.7,80,9,80.3,9.3,80.4c2.5,1.4,5.4,1.6,8,0.5c0.2,0,0.4,0,0.5-0.1c0.5-0.2,1-0.3,1.5-0.2 c0.6,0,1.1,0.1,1.6,0.3c0.6,0.2,1.1,0.5,1.5,0.9l2.3,2l0.1,0.1c1.3,1.1,1.9,2.7,1.7,4.4c-0.1,0.2-0.1,0.3-0.1,0.5 c-0.6,2.8,0.1,5.7,1.8,7.9c0.2,0.3,0.6,0.5,0.9,0.6c2.3,1.2,4.8,2.1,7.3,2.7c0.4,0.1,0.8,0.1,1.2,0c2.7-0.6,5.1-2.3,6.4-4.8 c0.1-0.1,0.2-0.3,0.2-0.4c0.8-1.5,2.4-2.5,4.1-2.3h3.2c1.7,0,3.3,0.8,4.1,2.3c0.1,0.1,0.2,0.3,0.2,0.4c1.3,2.5,3.6,4.2,6.4,4.8h0.5 c0.1,0,0.4,0,0.2-0.3c2.5-0.8,4.9-1.7,7.3-2.7c0.3-0.1,0.7-0.4,0.9-0.6c1.4-1.6,2.1-3.7,2.1-5.8c0-0.6-0.1-1.2-0.2-1.8 c0-0.3,0-0.5-0.1-0.8c-0.2-1.6,0.5-3.3,1.8-4.3c-0.1-0.1-0.1-0.1,0-0.2s0.1-0.1,0.2,0c0.8-0.6,1.6-1.3,2.3-2h0.1 c0.8-0.8,1.9-1.2,3.1-1.2c0.4,0,0.7,0,1.1,0.1c0.1,0,0.3,0.1,0.4,0.1c0.2,0,0.3,0.1,0.5,0.1c0.5,0.2,1.1,0.4,1.7,0.5 c0.6,0.1,1.2,0.2,1.8,0.2c1.6,0,3.2-0.4,4.6-1.2l0.8-0.8c1.5-2.1,2.8-4.3,3.8-6.6c0.2-0.3,0.2-0.7,0.2-1c-0.1-2.9-1.4-5.6-3.6-7.4 c-0.1-0.1-0.2-0.2-0.4-0.4c-1.2-1-1.8-2.5-1.5-4v-0.1c0.2-1,0.4-2,0.5-3v-0.1c0.5-3,2.7-3.7,2.9-3.7c0.2,0,0.4,0,0.6-0.2 c2.7-0.9,4.9-3.1,5.8-5.8c0.1-0.3,0.2-0.7,0.1-1C99.8,43.5,99.3,41.1,98.7,38.7z M50,71.1c-11.3,0.1-20.6-9-20.7-20.4 c-0.1-11.3,9-20.6,20.4-20.7c11.3-0.1,20.6,9,20.7,20.4c0,0,0,0.1,0,0.1c0.1,11.3-8.9,20.5-20.2,20.6C50.1,71.1,50.1,71.1,50,71.1z"}})]),e._v(" "),s("div",{staticClass:"edit-box"},[s("ul",[s("li",[s("a",{attrs:{href:"#"}},[s("svg",{staticStyle:{"enable-background":"new 0 0 100 125"},attrs:{version:"1.1",fill:"#ededed",id:"",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 125","xml:space":"preserve"}},[s("title",[e._v("60 all")]),e._v(" "),s("g",[s("path",{attrs:{d:"M76.6,51.8v24.8H23.4V23.4h24.8V12.7H18.1c-3,0-5.4,2.4-5.4,5.4V82c0,3,2.4,5.4,5.4,5.4H82c3,0,5.4-2.4,5.4-5.4V51.8H76.6z "}}),e._v(" "),s("path",{attrs:{d:"M44,44.6l-4.2,11.1c-0.5,1.9,0.6,3.9,2.5,4.4c0.6,0.1,1.3,0.1,1.9,0L55.4,56c0.6-0.1,1.2-0.5,1.5-1l28.6-28.6 c1.4-1.4,2.3-2.9,0.8-4.2l-7.7-7.9c-1.4-1.4-3.7-1.4-5,0L45,43C44.5,43.4,44.2,44,44,44.6z"}})])]),e._v("\n                                                    Edit")])]),e._v(" "),s("li",[s("a",{attrs:{href:"#"}},[s("svg",{staticStyle:{"enable-background":"new 0 0 100 125"},attrs:{version:"1.1",id:"",fill:"#ededed",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 125","xml:space":"preserve"}},[s("title",[e._v("Duplicate Solid")]),e._v(" "),s("desc",[e._v("Created with Sketch.")]),e._v(" "),s("g",[s("g",[s("path",{attrs:{d:"M45.5,14h33H86v7.5v33V62h-8v8h8c4.4,0,8-3.6,8-8v-7.5v-33V14c0-4.4-3.6-8-8-8h-7.5h-33H38c-4.4,0-8,3.6-8,8v8h8v-8H45.5 L45.5,14L45.5,14z M6,38c0-4.4,3.6-8,8-8h48c4.4,0,8,3.6,8,8v48c0,4.4-3.6,8-8,8H14c-4.4,0-8-3.6-8-8V38L6,38L6,38z"}})])])]),e._v("\n                                                    Duplicate")])]),e._v(" "),s("li",[s("a",{attrs:{href:"#"}},[s("svg",{staticStyle:{"enable-background":"new 0 0 100 125"},attrs:{version:"1.1",id:"",fill:"#e0e0e0",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 125","xml:space":"preserve"}},[s("title",[e._v("09")]),e._v(" "),s("path",{attrs:{d:"M22.8,28.6l0.1,45.2c0,7.2,5.8,13,13,13h28.3c7.2,0,13-5.8,13-13l0.1-45.2h7.4c1.7,0,3-1.3,3-3s-1.3-3-3-3H63.6v-2.5 c0-3.9-3.1-7-7-7H43.4c-3.9,0-7,3.1-7,7v2.5H15.3c-1.7,0-3,1.3-3,3s1.3,3,3,3H22.8z M53,69.8c0,1.7-1.3,3-3,3s-3-1.3-3-3V40.9 c0-1.7,1.3-3,3-3s3,1.3,3,3V69.8z M58,40.9c0-1.7,1.3-3,3-3s3,1.3,3,3v28.9c0,1.7-1.3,3-3,3s-3-1.3-3-3V40.9z M42.4,20.2 c0-0.6,0.4-1,1-1h13.2c0.6,0,1,0.4,1,1v2.5H42.4V20.2z M36,40.9c0-1.7,1.3-3,3-3s3,1.3,3,3v28.9c0,1.7-1.3,3-3,3s-3-1.3-3-3V40.9z"}})]),e._v("\n                                                    Delete")])])])])])])])})],2)])])],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"row top"},[t("div",{staticClass:"col-lg-6 left"},[t("h1",[this._v("Users")])]),this._v(" "),t("div",{staticClass:"col-lg-6 right"},[t("button",{staticClass:"add-user blue roundedd"},[this._v("Add user")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col-lg-2 status"},[t("div",{staticClass:"round-wrapper Aligner"},[t("span",{staticClass:"round"},[this._v("MS")])]),this._v(" "),t("span",{staticClass:"indicator confirmed"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"hidden"},[t("ul",[t("li",[this._v("User")]),this._v(" "),t("li",[this._v("Designer")]),this._v(" "),t("li",[this._v("Developer")])])])}]},Qe=a("VU/8")(Xe,We,!1,null,null,null).exports,Je={name:"EditUserModal",props:["firstName","lastName","password","passwordConfirmation"],data:function(){return{msg:"Edit user"}},mixins:[w],created:function(){},methods:{editUser:function(){H.a.defaults.headers.common.Authorization="Bearer "+this.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Accept="application/json",H.a.patch("/auth/user",{firstName:this.firstName,lastName:this.lastName,confirmed:1,email:this.$store.getters.getUser.email}).then(function(e){if(console.log(e),void 0!=N()(e.data.token)){var t=new Date;t.setTime(token.expiresIn),this.$cookie.set("accessToken",T()(e.data.token),t.toUTCString()),this.$cookie.set("user",T()(e.data.user),t.toUTCString()),this.$store.commit("retrieveToken",e.data.token),this.$store.commit("retrieveUser",e.data.token)}}).catch(function(e){console.log(e.response)})}}},Ke={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"overlay edit-user Aligner",attrs:{id:"edit-user-modal"},on:{click:e.hidePopup}},[s("div",{staticClass:"popup Aligner-item"},[s("div",{staticClass:"popup-header"},[s("h3",[e._v(e._s(e.msg))])]),e._v(" "),s("form",{staticClass:"auth-form",on:{submit:function(t){return t.preventDefault(),e.editUser(t)}}},[s("div",{staticClass:"input-block"},[s("span",{staticClass:"fake-label",attrs:{"data-initial":"First name"},on:{click:e.focusInput}},[e._v("First name")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.firstName,expression:"firstName"}],attrs:{type:"text",name:"name"},domProps:{value:e.firstName},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||(e.firstName=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"input-block"},[s("span",{staticClass:"fake-label",attrs:{"data-initial":"Last name"},on:{click:e.focusInput}},[e._v("Last name")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.lastName,expression:"lastName"}],attrs:{type:"text",name:"name"},domProps:{value:e.lastName},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||(e.lastName=t.target.value)}}})]),e._v(" "),s("span",{attrs:{id:"error"}}),e._v(" "),s("button",{attrs:{type:"submit"}},[e._v("Save")])])])])},staticRenderFns:[]};var et=a("VU/8")(Je,Ke,!1,function(e){a("uOat")},"data-v-568ace38",null).exports,tt={name:"AddUserModal",data:function(){return{msg:"Create a User",currentCompany:this.$store.getters.getCurrentCompany||null,currentAccessLevel:this.$store.getters.getCurrentAccessLevel||null,accessLevels:[{value:"admin",name:"Administrator"},{value:"developer",name:"Developer"},{value:"designer",name:"Designer"}],availableCompanies:[],selectedCompanyId:null,selectedCompany:{name:null,registrationCode:12345678,vat_number:123456789,country:"Eesti",city:"Tallinn",address:"Aadress",email:"test@test.ee",users:[]},responseText:"",respType:"error",selectedAccessLevel:null,email:null}},components:{dropDown:Be},mixins:[w],created:function(){var e=this;if(null==this.currentCompany&&(this.$store.commit("setCurrentCompany",this.$store.getters.getUser.companies[0]),this.currentCompany=this.$store.getters.getUser.companies[0]),null==this.currentAccessLevel){var t=_.findIndex(this.$store.getters.getUser.companies,function(t){return t.id==e.$store.getters.getCurrentCompany.id});this.currentAccessLevel=this.$store.getters.getUser.companies[t].pivot.role,this.$store.commit("setCurrentAccessLevel",this.$store.getters.getUser.companies[t].pivot.role)}this.setAvailableCompanies()},methods:{selectCompany:function(e){this.$store.getters.getUser.companies;var t=_.find(this.availableCompanies,function(t){return t.value==e});console.log(t),this.selectedCompanyId=t.value,this.selectedCompany.name=null==t.name?this.selectedCompany.name:t.name,this.selectedCompany.registrationCode=null==t.registrationCode?this.selectedCompany.registrationCode:t.registrationCode,this.selectedCompany.vat_number=null==t.vatNumber?this.selectedCompany.vat_number:t.vatNumber,this.selectedCompany.country=null==t.country?this.selectedCompany.country:t.country,this.selectedCompany.city=null==t.city?this.selectedCompany.city:t.city,this.selectedCompany.address=null==t.address?this.selectedCompany.address:t.address,this.selectedCompany.email=null==t.email?this.selectedCompany.email:t.email,console.log(this.selectedCompany)},selectAccessLevel:function(e){this.selectedAccessLevel=e,this.selectedCompany.users.push({email:this.email,role:this.selectedAccessLevel})},setAvailableCompanies:function(){var e=this,t=this.$store.getters.getUser.companies;console.log(t),_.forEach(t,function(t,s){"admin"==t.pivot.role&&e.availableCompanies.push({value:t.id,name:t.name})})},createUser:function(){var e=this;return F()(B.a.mark(function t(){var s;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:null!=typeof e.currentCompany&&(console.log(e.selectedCompany),console.log(e.body),H.a.defaults.headers.common.Authorization="Bearer "+e.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Accept="application/json",H.a.defaults.headers.common["Content-Type"]="application/json",H.a.defaults.headers.common.Company=e.currentCompany.id,s="?",_.forEach(e.selectedCompany,function(e,t){s+="vat_number"==t?t+"=testtestt&":"email"==t?t+"=juhan.soone@havas.ee&":null==e&&"vat_number"!=t?t+"=testtest&":t+"="+e+"&"}),s=s.substring(0,s.length-1),console.log(e.selectedCompany),console.log(e.selectedCompanyId),H.a.patch("/companies/"+e.selectedCompanyId,e.selectedCompany).then(function(e){console.log(e),this.hidePopup()}).catch(function(e){if(console.log(e.response),console.log(e.response),void 0!==e.response.data.message&&(document.getElementById("error").innerHTML=e.response.data.message),void 0!==e.response.data.errors){var t=e.response.data.errors;for(var s in t)t.hasOwnProperty(s)&&(console.log(s+" -> "+t[s]),document.querySelector('#addUser input[name="'+s+'"]').parentNode.classList.add("input-error","animated","shake"),document.querySelector('#addUser input[name="'+s+'"]').parentNode.children[0].innerHTML=t[s]);setTimeout(function(){for(var s in t)t.hasOwnProperty(s)&&(console.log(document.querySelector('#addUser input[name="'+s+'"]').parentNode),document.querySelector('#addUser input[name="'+s+'"]').parentNode.classList.remove("input-error","animated","shake"),document.querySelector('#addUser input[name="'+s+'"]').parentNode.children[0].innerHTML=document.querySelector('input[name="'+s+'"]').parentNode.children[0].dataset.initial);void 0!==e.response.data.message&&(document.getElementById("error").innerHTML="")},5e3)}void 0!==e.response.data.message&&(document.getElementById("error").innerHTML=e.response.data.message)}));case 1:case"end":return t.stop()}},t,e)}))()}}},st={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"overlay add-folder Aligner",attrs:{id:"add-user-overlay"},on:{click:e.hidePopup}},[s("div",{staticClass:"popup Aligner-item"},[s("div",{staticClass:"popup-header"},[s("h3",[e._v(e._s(e.msg))])]),e._v(" "),s("form",{staticClass:"auth-form",attrs:{id:"addUser"},on:{submit:function(t){return t.preventDefault(),e.createUser()}}},[s("dropDown",{attrs:{defaultValue:"Select user company",name:"User company",optionsArray:e.availableCompanies},on:{"element-selected":function(t){return e.selectCompany(t)}}}),e._v(" "),s("div",{staticClass:"input-block"},[s("span",{staticClass:"fake-label",attrs:{"data-initial":"User email"},on:{click:e.focusInput}},[e._v("User email")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text",name:"email"},domProps:{value:e.email},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),s("dropDown",{attrs:{defaultValue:"Select user access level",name:"User access level",optionsArray:e.accessLevels},on:{"element-selected":function(t){return e.selectAccessLevel(t)}}}),e._v(" "),s("span",{attrs:{id:"error"}}),e._v(" "),s("span",{attrs:{id:e.respType}},[e._v(e._s(e.responseText))]),e._v(" "),s("button",{attrs:{type:"submit"}},[e._v("Create User")])],1)])])},staticRenderFns:[]};var at={name:"DeleteUserModal",props:["firstName","lastName"],data:function(){return{msg:"Delete user",confirmed:!1}},mixins:[w],created:function(){},methods:{deleteUser:function(e){H.a.defaults.headers.common.Accept="application/json",H.a.defaults.headers.common.Authorization="Bearer "+this.$store.getters.getToken.accessToken,H.a.defaults.headers.common["Content-Type"]="application/x-www-form-urlencoded";var t={confirmed:this.confirmedtrue,email:this.$store.getters.getUser.email,password:this.password,_method:"delete"};console.log(t),H.a.post("/auth/user",t).then(function(e){console.log(e),this.$cookie.delete("accessToken"),this.$cookie.delete("user"),this.$store.commit("retrieveToken",null),this.$store.commit("retrieveUser",null),this.$router.push({path:"/login"})}).catch(function(e){console.log(e.response)})},showDelete:function(e){e.preventDefault(),this.confirmed=!0,document.querySelector("button#delete").style.display="block"},dissmissDelete:function(e){console.log("animatecss"),this.animateCss("#delete-user-modal","slideOutLeft")}}},nt={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"overlay delete-user Aligner",attrs:{id:"delete-user-modal"},on:{click:e.hidePopup}},[s("div",{staticClass:"popup Aligner-item"},[s("div",{staticClass:"popup-header"},[s("h3",[e._v(e._s(e.msg))])]),e._v(" "),s("form",{staticClass:"auth-form",on:{submit:function(t){return t.preventDefault(),e.deleteUser(t)}}},[s("span",{staticClass:"error-big"},[e._v("Delete user "+e._s(e.firstName)+" "+e._s(e.lastName)+" ?")]),e._v(" "),s("div",{staticClass:"danger-popup"},[s("span",[e._v("Are you sure?")]),e._v(" "),s("div",{staticClass:"buttons"},[s("a",{staticClass:"yes",attrs:{href:"#"},on:{click:e.showDelete}},[e._v("YES")]),e._v(" "),s("a",{staticClass:"no",attrs:{href:"#"},on:{click:e.dissmissDelete}},[e._v("NO")])])]),e._v(" "),s("span",{attrs:{id:"error"}}),e._v(" "),s("button",{staticStyle:{display:"none"},attrs:{id:"delete",type:"submit"}},[e._v("DELETE")])])])])},staticRenderFns:[]};var rt={name:"EditCompany",components:{Sidebar:o,AddUser:a("VU/8")(tt,st,!1,function(e){a("+2Tv")},"data-v-1a466cea",null).exports,editUser:et,DeleteUser:a("VU/8")(at,nt,!1,function(e){a("Q/mB")},"data-v-3dee5d40",null).exports},data:function(){return{msg:"Edit Company",name:"",registrationCode:"",vat_number:"",country:"",city:"",address:"",users:null,currentUser:this.$store.getters.getUser,currentCompany:this.$store.getters.getCurrentCompany||null,currentAccessLevel:this.$store.getters.getCurrentAccessLevel||null}},created:function(){var e=this;if(null==this.currentCompany&&(this.$store.commit("setCurrentCompany",this.$store.getters.getUser.companies[0]),this.currentCompany=this.$store.getters.getUser.companies[0]),null==this.currentAccessLevel){var t=_.findIndex(this.$store.getters.getUser.companies,function(t){return t.id==e.$store.getters.getCurrentCompany.id});this.currentAccessLevel=this.$store.getters.getUser.companies[t].pivot.role,this.$store.commit("setCurrentAccessLevel",this.$store.getters.getUser.companies[t].pivot.role)}this.name=this.currentCompany.name,this.registrationCode=this.currentCompany.registrationCode,this.vat_number=this.currentCompany.vatNumber,this.country=this.currentCompany.country,this.city=this.currentCompany.city,this.address=this.currentCompany.address,this.getUsers()},mixins:[w],methods:{methodThatForcesUpdate:function(e){this.setCurrentCompany(e.id)},setCurrentCompany:function(e){var t=_.findIndex(this.$store.getters.getUser.companies,function(t){return t.id==e});console.log(t),this.$store.commit("setCurrentCompany",this.$store.getters.getUser.companies[t]),this.currentCompany=this.$store.getters.getUser.companies[t]},getUsers:function(){var e=this;return F()(B.a.mark(function t(){var s;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==typeof e.currentCompany){t.next=8;break}return H.a.defaults.headers.common.Authorization="Bearer "+e.$store.getters.getToken.accessToken,t.next=4,H.a.get("/companies/"+e.currentCompany.id);case 4:s=t.sent,e.users=s.data.company.users,console.log(e.users),console.log(e.currentCompany.id);case 8:case"end":return t.stop()}},t,e)}))()},showOverlay:function(){document.querySelector(".overlay").classList.add("open","animated","slideInRight")},editUser:function(e){e.preventDefault(),document.querySelector(".edit-user.overlay").classList.add("open","animated","slideInRight"),this.focusEveryElementOnce($(".edit-user.overlay"))},openDeleteUser:function(e){e.preventDefault(),document.querySelector(".delete-user.overlay").classList.add("open","animated","slideInRight"),this.focusEveryElementOnce($(".delete-user.overlay"))}}},it={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fullpage container-fluid"},[s("div",{staticClass:"row"},[s("sidebar",{on:{"company-changed":function(t){return e.methodThatForcesUpdate(t)}}}),e._v(" "),s("add-user"),e._v(" "),s("editUser",{attrs:{firstName:e.currentUser.firstName,lastName:e.currentUser.lastName}}),e._v(" "),s("DeleteUser",{attrs:{firstName:e.currentUser.firstName,lastName:e.currentUser.lastName}}),e._v(" "),s("div",{staticClass:"edit-company main-view container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-5 col-md-12 edit-form"},[s("h1",[e._v("Edit Company")]),e._v(" "),s("div",{staticClass:"company-form"},[s("div",{staticClass:"input-block focused"},[s("span",{staticClass:"fake-label",on:{click:e.focusInput}},[e._v("Name")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{name:"name",type:"text"},domProps:{value:e.name},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"input-block focused"},[s("span",{staticClass:"fake-label",on:{click:e.focusInput}},[e._v("Registration code")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.registrationCode,expression:"registrationCode"}],attrs:{name:"registrationCode",type:"text"},domProps:{value:e.registrationCode},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||(e.registrationCode=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"input-block focused"},[s("span",{staticClass:"fake-label",on:{click:e.focusInput}},[e._v("VAT Code")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.vat_number,expression:"vat_number"}],attrs:{name:"vat_number",type:"text"},domProps:{value:e.vat_number},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||(e.vat_number=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"input-block focused"},[s("span",{staticClass:"fake-label",on:{click:e.focusInput}},[e._v("Country")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.country,expression:"country"}],attrs:{name:"country",type:"text"},domProps:{value:e.country},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||(e.country=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"input-block focused"},[s("span",{staticClass:"fake-label",on:{click:e.focusInput}},[e._v("City")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.city,expression:"city"}],attrs:{name:"city",type:"text"},domProps:{value:e.city},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||(e.city=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"input-block focused"},[s("span",{staticClass:"fake-label",on:{click:e.focusInput}},[e._v("Street Address")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"address"}],attrs:{name:"address",type:"text"},domProps:{value:e.address},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||(e.address=t.target.value)}}})])]),e._v(" "),s("button",{staticClass:"blue save roundedd"},[e._v("Save")])]),e._v(" "),s("div",{staticClass:"col-lg-7 col-md-12 users"},[s("div",{staticClass:"row top"},[e._m(0),e._v(" "),s("div",{staticClass:"col-lg-6 right"},[s("button",{staticClass:"add-user blue roundedd",on:{click:e.showOverlay}},[e._v("Add user")])])]),e._v(" "),e._l(e.users,function(t,a,n){return[s("div",{staticClass:"user row"},[s("div",{staticClass:"col-lg-2 status"},[s("div",{staticClass:"round-wrapper Aligner"},[s("span",{staticClass:"round"},[s("span",[e._v(e._s(t.firstName.substring(0,1))+e._s(t.lastName.substring(0,1)))])])]),e._v(" "),s("span",{staticClass:"indicator confirmed"})]),e._v(" "),s("div",{staticClass:"col-lg-5"},[s("span",{staticClass:"bold"},[e._v(e._s(t.firstName)+" "+e._s(t.lastName))]),e._v(" "),s("span",{staticClass:"email"},[e._v(e._s(t.email))]),e._v(" "),s("span",{staticClass:"lastseen"},[e._v("Last seen "),s("span",{staticClass:"date"},[e._v(" "+e._s(e.humanDate(t.lastSeenAt)))])])]),e._v(" "),s("div",{staticClass:"col-lg-3"},[s("div",{staticClass:"input-bubble dropdown actually-not"},[s("span",[e._v(" "+e._s(e.returnRole(t.pivot.role)))])])]),e._v(" "),s("div",{staticClass:"col-lg-2 status"},[t.id==e.currentUser.id?[s("div",{staticClass:"grey-dd"},[s("svg",{staticClass:"icon",staticStyle:{"enable-background":"new 0 0 100 125"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 125","xml:space":"preserve"},on:{click:e.editPopup}},[s("title",[e._v("setng cog")]),e._v(" "),s("path",{attrs:{d:"M98.7,38.7c-0.1-0.3-0.3-0.6-0.5-0.9c-1.8-2.3-4.6-3.6-7.5-3.5h-0.5c-1.7,0-3.2-1-4-2.5c-0.1,0-0.1,0-0.1-0.1c0,0,0,0,0,0 c-0.5-0.9-1-1.7-1.5-2.6c-0.1,0-0.1-0.1-0.1-0.1c-0.9-1.5-0.9-3.3-0.1-4.8c0.1-0.1,0.2-0.2,0.2-0.4c1.5-2.6,1.8-5.7,0.8-8.6 c-0.1-0.3-0.3-0.7-0.5-0.9c-1.7-1.6-3.5-3.1-5.4-4.5c-0.2-0.1-0.5-0.2-0.9-0.4c-2.9-0.6-6,0.2-8.2,2.2c-0.1,0-0.3,0.1-0.4,0.2 c-0.8,0.7-1.8,1-2.8,1c-0.6,0-1.2-0.1-1.8-0.4c-1-0.4-1.9-0.7-2.9-1c-1.6-0.6-2.8-2-3.1-3.6c0-0.2-0.1-0.3-0.1-0.5 c-0.4-3-2.2-5.6-4.9-7c-0.3-0.2-0.6-0.2-0.9-0.2c-2.3-0.1-4.6-0.1-6.9,0c-0.3,0-0.6,0.1-0.9,0.2c-2.7,1.5-4.5,4.1-4.9,7.1 c-0.1,0.1-0.2,0.2-0.1,0.4c-0.3,1.7-1.4,3.1-3.1,3.6c-0.9,0.2-1.9,0.6-2.9,1c-0.6,0.1-1.2,0.2-1.8,0.2c-1,0-2-0.4-2.8-1 c-0.1-0.1-0.2-0.1-0.4-0.3c-2.2-2-5.3-2.8-8.2-2.2c-0.3,0-0.7,0.1-0.9,0.4c-1.9,1.3-3.7,2.8-5.4,4.5c-0.2,0.3-0.4,0.6-0.5,0.9 c-1.1,2.8-0.8,6,0.8,8.6c0.1,0.1,0.2,0.3,0.2,0.4c0.8,1.5,0.7,3.3-0.1,4.8c-0.1,0-0.1,0-0.1,0.1c0,0,0,0,0,0c-0.5,0.8-1,1.7-1.5,2.6 c-0.1,0-0.1,0-0.1,0.1c0,0,0,0,0,0c-0.8,1.5-2.3,2.5-4,2.5H9.3c-2.9-0.1-5.7,1.2-7.5,3.5c-0.2,0.3-0.4,0.6-0.5,0.9 c-0.6,2.4-1,4.8-1.3,7.3c0,0.3,0,0.7,0.1,1c0.9,2.8,3.1,4.9,5.9,5.9c0.2,0,0.3,0.1,0.5,0.1c1.6,0.6,2.7,2,2.9,3.6v0.1 c0.1,1,0.3,2,0.5,3v0.1c0.3,1.7-0.3,3.4-1.5,4.5c-0.1,0-0.3,0.1-0.4,0.2c-2.2,1.8-3.5,4.5-3.6,7.4c0,0.3,0.1,0.7,0.2,1 c1.1,2.3,2.4,4.5,3.8,6.6C8.7,80,9,80.3,9.3,80.4c2.5,1.4,5.4,1.6,8,0.5c0.2,0,0.4,0,0.5-0.1c0.5-0.2,1-0.3,1.5-0.2 c0.6,0,1.1,0.1,1.6,0.3c0.6,0.2,1.1,0.5,1.5,0.9l2.3,2l0.1,0.1c1.3,1.1,1.9,2.7,1.7,4.4c-0.1,0.2-0.1,0.3-0.1,0.5 c-0.6,2.8,0.1,5.7,1.8,7.9c0.2,0.3,0.6,0.5,0.9,0.6c2.3,1.2,4.8,2.1,7.3,2.7c0.4,0.1,0.8,0.1,1.2,0c2.7-0.6,5.1-2.3,6.4-4.8 c0.1-0.1,0.2-0.3,0.2-0.4c0.8-1.5,2.4-2.5,4.1-2.3h3.2c1.7,0,3.3,0.8,4.1,2.3c0.1,0.1,0.2,0.3,0.2,0.4c1.3,2.5,3.6,4.2,6.4,4.8h0.5 c0.1,0,0.4,0,0.2-0.3c2.5-0.8,4.9-1.7,7.3-2.7c0.3-0.1,0.7-0.4,0.9-0.6c1.4-1.6,2.1-3.7,2.1-5.8c0-0.6-0.1-1.2-0.2-1.8 c0-0.3,0-0.5-0.1-0.8c-0.2-1.6,0.5-3.3,1.8-4.3c-0.1-0.1-0.1-0.1,0-0.2s0.1-0.1,0.2,0c0.8-0.6,1.6-1.3,2.3-2h0.1 c0.8-0.8,1.9-1.2,3.1-1.2c0.4,0,0.7,0,1.1,0.1c0.1,0,0.3,0.1,0.4,0.1c0.2,0,0.3,0.1,0.5,0.1c0.5,0.2,1.1,0.4,1.7,0.5 c0.6,0.1,1.2,0.2,1.8,0.2c1.6,0,3.2-0.4,4.6-1.2l0.8-0.8c1.5-2.1,2.8-4.3,3.8-6.6c0.2-0.3,0.2-0.7,0.2-1c-0.1-2.9-1.4-5.6-3.6-7.4 c-0.1-0.1-0.2-0.2-0.4-0.4c-1.2-1-1.8-2.5-1.5-4v-0.1c0.2-1,0.4-2,0.5-3v-0.1c0.5-3,2.7-3.7,2.9-3.7c0.2,0,0.4,0,0.6-0.2 c2.7-0.9,4.9-3.1,5.8-5.8c0.1-0.3,0.2-0.7,0.1-1C99.8,43.5,99.3,41.1,98.7,38.7z M50,71.1c-11.3,0.1-20.6-9-20.7-20.4 c-0.1-11.3,9-20.6,20.4-20.7c11.3-0.1,20.6,9,20.7,20.4c0,0,0,0.1,0,0.1c0.1,11.3-8.9,20.5-20.2,20.6C50.1,71.1,50.1,71.1,50,71.1z"}})]),e._v(" "),s("div",{staticClass:"edit-box"},[s("ul",[s("li",[s("a",{attrs:{href:"#"},on:{click:e.editUser}},[s("svg",{staticStyle:{"enable-background":"new 0 0 100 125"},attrs:{version:"1.1",fill:"#ededed",id:"",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 125","xml:space":"preserve"}},[s("title",[e._v("60 all")]),e._v(" "),s("g",[s("path",{attrs:{d:"M76.6,51.8v24.8H23.4V23.4h24.8V12.7H18.1c-3,0-5.4,2.4-5.4,5.4V82c0,3,2.4,5.4,5.4,5.4H82c3,0,5.4-2.4,5.4-5.4V51.8H76.6z "}}),e._v(" "),s("path",{attrs:{d:"M44,44.6l-4.2,11.1c-0.5,1.9,0.6,3.9,2.5,4.4c0.6,0.1,1.3,0.1,1.9,0L55.4,56c0.6-0.1,1.2-0.5,1.5-1l28.6-28.6 c1.4-1.4,2.3-2.9,0.8-4.2l-7.7-7.9c-1.4-1.4-3.7-1.4-5,0L45,43C44.5,43.4,44.2,44,44,44.6z"}})])]),e._v("\n                                                    Edit")])]),e._v(" "),t.id==e.currentUser.id?[s("li",[s("a",{attrs:{href:"#"},on:{click:e.openDeleteUser}},[s("svg",{staticStyle:{"enable-background":"new 0 0 100 125"},attrs:{version:"1.1",id:"",fill:"#e0e0e0",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 125","xml:space":"preserve"}},[s("title",[e._v("09")]),e._v(" "),s("path",{attrs:{d:"M22.8,28.6l0.1,45.2c0,7.2,5.8,13,13,13h28.3c7.2,0,13-5.8,13-13l0.1-45.2h7.4c1.7,0,3-1.3,3-3s-1.3-3-3-3H63.6v-2.5 c0-3.9-3.1-7-7-7H43.4c-3.9,0-7,3.1-7,7v2.5H15.3c-1.7,0-3,1.3-3,3s1.3,3,3,3H22.8z M53,69.8c0,1.7-1.3,3-3,3s-3-1.3-3-3V40.9 c0-1.7,1.3-3,3-3s3,1.3,3,3V69.8z M58,40.9c0-1.7,1.3-3,3-3s3,1.3,3,3v28.9c0,1.7-1.3,3-3,3s-3-1.3-3-3V40.9z M42.4,20.2 c0-0.6,0.4-1,1-1h13.2c0.6,0,1,0.4,1,1v2.5H42.4V20.2z M36,40.9c0-1.7,1.3-3,3-3s3,1.3,3,3v28.9c0,1.7-1.3,3-3,3s-3-1.3-3-3V40.9z"}})]),e._v("\n                                                    Delete")])])]:e._e()],2)])])]:e._e()],2)])]})],2)])])],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col-lg-6 left"},[t("h1",[this._v("Users")])])}]},ot=a("VU/8")(rt,it,!1,null,null,null).exports,lt={name:"AddTemplate",components:{Sidebar:o,editor:a("o4sT")},data:function(){return{msg:"AddTemplate",name:"",description:"",html:"<!DOCTYPE html>"}},created:function(){null==this.$store.getters.getCurrentCompany&&this.$store.commit("setCurrentCompany",this.$store.getters.getUser.companies[0].id)},methods:{highLightParent:function(e){e.target.parentNode.classList.remove("input-error"),e.target.parentNode.classList.add("highlighted"),e.stopPropagation()},unHighLightParent:function(e){e.target.parentNode.classList.remove("highlighted")},editorInit:function(){a("R3yc"),a("hCU/"),a("h636"),a("nP34"),a("30rK"),a("A/fa")},createTemplate:function(){H.a.defaults.headers.common.Authorization="Bearer "+this.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=this.$store.getters.getCurrentCompany.id;H.a.post("/templates",{name:this.name,description:this.description,html:this.html}).then(function(e){console.log(e.data),void 0!==e.data.messages&&(document.getElementById("success").innerHTML=e.data.messages[0].message)}).catch(function(e){if(console.log(e.response),422==e.response.status&&void 0!==e.response.data.errors){void 0!==e.response.data.message&&(document.getElementById("error").innerHTML=e.response.data.message);var t=e.response.data.errors;for(var s in t)t.hasOwnProperty(s)&&(console.log(s+" -> "+t[s]),document.querySelector('input[name="'+s+'"]').parentNode.classList.add("input-error","animated","shake"),document.querySelector('input[name="'+s+'"]').parentNode.children[0].innerHTML=t[s]);setTimeout(function(){for(var s in document.querySelector(".input-block").classList.remove("input-error","animated","shake"),document.querySelector(".editor-wrapper").classList.remove("input-error","animated","shake"),t)t.hasOwnProperty(s)&&(document.querySelector('input[name="'+s+'"]').parentNode.classList.remove("input-error","animated","shake"),document.querySelector('input[name="'+s+'"]').parentNode.children[0].innerHTML=document.querySelector('input[name="'+s+'"]').parentNode.children[0].dataset.initial);void 0!==e.response.data.message&&(document.getElementById("error").innerHTML="")},1e4)}})}}},ct={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fullpage container-fluid"},[s("div",{staticClass:"row"},[s("sidebar"),e._v(" "),s("div",{staticClass:"add-template main-view container-fluid"},[e._m(0),e._v(" "),s("div",{staticClass:"row template-form"},[s("div",{staticClass:"col-lg-6 col-md-12 "},[s("div",{staticClass:"form-wrapper"},[s("div",{staticClass:"input-block"},[s("span",{staticClass:"fake-label",attrs:{"data-initial":"Template name"},on:{click:e.focusInput}},[e._v("Template name")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{name:"name",type:"text"},domProps:{value:e.name},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"input-block"},[s("span",{staticClass:"fake-label",attrs:{"data-initial":"Description"},on:{click:e.focusInput}},[e._v("Description")]),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],staticClass:"comment",attrs:{name:"description"},domProps:{value:e.description},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||(e.description=t.target.value)}}})])])]),e._v(" "),s("div",{staticClass:"col-lg-6 col-md-12"},[s("div",{staticClass:"editor-wrapper"},[s("span",{staticClass:"fake-label error",attrs:{"data-initial":""}}),e._v(" "),s("input",{attrs:{type:"hidden",name:"html"}}),e._v(" "),s("editor",{attrs:{id:"editor",lang:"html",theme:"dreamweaver"},on:{init:e.editorInit},model:{value:e.html,callback:function(t){e.html=t},expression:"html"}})],1)])]),e._v(" "),s("button",{staticClass:"blue save roundedd",on:{click:e.createTemplate}},[e._v("Save")]),e._v(" "),s("span",{attrs:{id:"error"}}),e._v(" "),s("span",{attrs:{id:"success"}}),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),e._m(3),e._v(" "),e._m(4)])],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header"},[t("h1",[this._v("Add template")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header row"},[t("div",{staticClass:"col-lg-4 col-md-6"},[t("h1",[this._v("Form Preview")])]),this._v(" "),t("div",{staticClass:"col-lg-8 col-md-6 right"},[t("button",{staticClass:"viewwhite roundedd"},[this._v("View gallery")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row template-form"},[s("div",{staticClass:"col-lg-6 col-md-12 "},[s("div",{staticClass:"form-wrapper"},[s("div",{staticClass:"input-block"},[s("input",{attrs:{type:"text",placeholder:"Background image"}})]),e._v(" "),s("div",{staticClass:"input-block"},[s("input",{attrs:{type:"text",placeholder:"Button text"}})]),e._v(" "),s("div",{staticClass:"input-block select"},[s("span",[e._v("Button colour")]),e._v(" "),s("div",{staticClass:"options"},[s("ul",[s("li",[e._v("Color 1")]),e._v(" "),s("li",[e._v("Color 2")]),e._v(" "),s("li",[e._v("Color 3")]),e._v(" "),s("li",[e._v("Color 4")])])])]),e._v(" "),s("div",{staticClass:"input-block select"},[s("span",[e._v("Button animation")]),e._v(" "),s("div",{staticClass:"options"},[s("ul",[s("li",[e._v("Animation 1")]),e._v(" "),s("li",[e._v("Animation 2")]),e._v(" "),s("li",[e._v("Animation 3")]),e._v(" "),s("li",[e._v("Animation 4")])])])])])]),e._v(" "),s("div",{staticClass:"col-lg-6 col-md-12"},[s("div",{staticClass:"editor-wrapper"},[s("div",{staticClass:"file-upload"},[s("form",{staticClass:"box",attrs:{method:"post",action:"http://localhost:8888/test/return.php",enctype:"multipart/form-data"}},[s("div",{staticClass:"box__input"},[s("input",{staticClass:"box__file",attrs:{type:"file",name:"files[]",id:"file","data-multiple-caption":"{count} files selected",multiple:""}}),e._v(" "),s("label",{attrs:{for:"file"}},[s("span",{staticClass:"box__dragndrop"},[e._v(" Drop files here")])]),e._v(" "),s("button",{staticClass:"box__button",attrs:{type:"submit"}},[e._v("Upload")])]),e._v(" "),s("div",{staticClass:"box__uploading"},[e._v("Uploading…")]),e._v(" "),s("div",{staticClass:"box__success"},[e._v("Done!")]),e._v(" "),s("div",{staticClass:"box__error"},[e._v("Error! "),s("span"),e._v(".")])])])]),e._v(" "),s("div",{staticClass:"uploaded-files"})])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header"},[t("h1",[this._v("Banner Preview")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"html-preview"},[t("iframe",{staticClass:"template-preview",attrs:{src:"https://steven.punkdigital.ee/whiskas/et/html/"}})])}]},dt=a("VU/8")(lt,ct,!1,null,null,null).exports,ut={name:"EditBanner",components:{Sidebar:o,Loading:J,editor:a("o4sT"),ColorPicker:ze,dropDown:Be,FileUpload:je},data:function(){return{loading:!0,msg:"Edit banner",templates:null,sizes:["test"],name:null,description:null,customhtml:"<!DOCTYPE html>",customStyles:[{element:{name:"Element",values:["div","span","#element",".class"]},rule:{name:"Rule",values:["top","margin","left","right"]},value:"Value"}],banner:{name:"loading"},currentTemplate:null,customStylesVisible:!1,templateHtmlOverwrite:!1,field_values:{},file:null,renderedHtml:null,thumbnails:[]}},mixins:[w],created:function(){null==this.$store.getters.getCurrentCompany&&this.$store.commit("setCurrentCompany",this.$store.getters.getUser.companies[0]),this.getBanner(),this.getTemplates(),this.getSizes()},mounted:function(){this.checkIfAutofilled()},methods:{submitForm:function(e){console.log(e.target),console.log(this.file)},getFieldOptions:function(e){var t=this.currentTemplate.fields[e].options,s=[];return _.forEach(t.split("|"),function(e){s.push({value:e,name:e})}),s},setField:function(e,t){this.field_values[t].value=e,console.log(this.field_values[t].value),console.log(this.field_values[t])},onInput:function(){console.log(this.color)},editorInit:function(){a("R3yc"),a("hCU/"),a("h636"),a("nP34"),a("30rK"),a("A/fa")},getBanner:function(){var e=this;return F()(B.a.mark(function t(){var s;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,H.a.defaults.headers.common.Authorization="Bearer "+e.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=e.$store.getters.getCurrentCompany.id,t.next=5,H.a.get("/banners/"+e.$route.params.bannerid);case 5:s=t.sent,console.log(s.data),e.banner=s.data.banner,e.name=s.data.banner.name,e.description=s.data.banner.description,e.fieldValues=s.data.banner.fieldValues,e.currentTemplate=s.data.banner.template,e.sizes=s.data.banner.template.sizes,_.forEach(e.currentTemplate.fields,function(e){e.value=e.default}),e.setFieldValues(),e.getBannerPreview(),e.loading=!1;case 17:case"end":return t.stop()}},t,e)}))()},getFileThumbnail:function(e){var t=this;return F()(B.a.mark(function s(){var a;return B.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t.loading=!0,H.a.defaults.headers.common.Accept="application/json",H.a.defaults.headers.common.Authorization="Bearer "+t.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=t.$store.getters.getCurrentCompany.id,s.next=6,H.a.get("/files/"+e);case 6:a=s.sent,console.log(a.data),t.loading=!1;case 9:case"end":return s.stop()}},s,t)}))()},setFieldValues:function(){var e=this;this.field_values=this.currentTemplate.fields,_.forEach(this.field_values,function(t){"file"==t.type&&e.getFileThumbnail(t.default),t.value=t.default}),console.log(this.field_values)},getTemplates:function(){var e=this;return F()(B.a.mark(function t(){var s;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,H.a.defaults.headers.common.Authorization="Bearer "+e.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=e.$store.getters.getCurrentCompany.id,t.next=5,H.a.get("/templates");case 5:s=t.sent,console.log(s.data),e.templates=s.data.templates,e.loading=!1;case 9:case"end":return t.stop()}},t,e)}))()},getSizes:function(){var e=this;return F()(B.a.mark(function t(){var s;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,H.a.defaults.headers.common.Authorization="Bearer "+e.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=e.$store.getters.getCurrentCompany.id,t.next=5,H.a.get("/sizes");case 5:s=t.sent,console.log(s.data),e.sizes=s.data,e.loading=!1;case 9:case"end":return t.stop()}},t,e)}))()},getBannerPreview:function(){var e=this;return F()(B.a.mark(function t(){var s;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,H.a.defaults.baseURL="https://stage.api.banners.ee/",H.a.defaults.headers.common.Accept="text/html",t.next=5,H.a.get("/serve/banner/"+e.banner.token);case 5:s=t.sent,console.log(s),e.renderedHtml=s.data,H.a.defaults.baseURL="https://stage.api.banners.ee/v1",e.loading=!1;case 10:case"end":return t.stop()}},t,e)}))()},sliderToggle:function(e,t){"styles"==t?this.customStylesVisible=!this.customStylesVisible:this.templateHtmlOverwrite=!this.templateHtmlOverwrite,e.target.value>50?e.target.value=1:e.target.value=100},addStyleRow:function(){this.customStyles.push({element:{name:"Element",values:["div","span","#element",".class"]},rule:{name:"Rule",values:["top","margin","left","right"]},value:"Value"})},removeStyleRow:function(e){this.customStyles.splice(e,1)},selectTemplate:function(e,t){console.log(t),this.getTemplateById(t),jQuery(e.target).parent().parent().prev().text($(e.target).text()),jQuery(e.target).parent().parent().slideUp()},getTemplateById:function(e){var t=this;return F()(B.a.mark(function s(){var a;return B.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t.sizes=[],t.loading=!0,H.a.defaults.headers.common.Authorization="Bearer "+t.$store.getters.getToken.accessToken,H.a.defaults.headers.common.Company=t.$store.getters.getCurrentCompany.id,s.next=6,H.a.get("/templates/"+e);case 6:a=s.sent,console.log(a.data),t.currentTemplate=a.data.template,_.forEach(t.currentTemplate.fields,function(e){e.value=e.default}),console.log(t.currentTemplate),t.sizes=a.data.template.sizes,t.loading=!1;case 13:case"end":return s.stop()}},s,t)}))()}}},pt={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fullpage container-fluid"},[s("div",{staticClass:"row"},[s("sidebar"),e._v(" "),e.loading?[s("Loading")]:[s("div",{staticClass:"edit-banner main-view container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-9 col-sm-12"},[s("span",{staticClass:"before"},[e._v("Edit Banner ")]),e._v(" "),s("svg",{staticClass:"subset",staticStyle:{"enable-background":"new 0 0 800 800"},attrs:{version:"1.1",id:"Layer_1",fill:"#acb2bc",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 800 800","xml:space":"preserve"}},[s("path",{attrs:{id:"Shape",d:"M369.1,518.3L194.2,343.5c-8.5-8.5-12.8-19.7-12.8-30.9s4.3-22.4,12.8-30.9c17.1-17.1,44.8-17.1,61.8,0 L400,425.6l143.9-143.9c17.1-17.1,44.8-17.1,61.8,0c17.1,17.1,17.1,44.7,0,61.8L430.9,518.3C413.8,535.4,386.2,535.4,369.1,518.3z"}})]),e._v(" "),s("span",{staticClass:"after"},[e._v(e._s(e.banner.name))])]),e._v(" "),e._m(0)]),e._v(" "),s("div",{staticClass:"row contentrow"},[s("div",{staticClass:"col-lg-8"},[s("div",{staticClass:"big-dd"},[s("span",{on:{click:e.dropdownToggle}},[e._v(" "+e._s(e.currentTemplate.name)+" ")]),e._v(" "),s("div",{staticClass:"dropdown"},[s("ul",e._l(e.templates,function(t){return s("li",{key:t.id,on:{click:function(s){return e.selectTemplate(s,t.id)}}},[e._v(e._s(t.name))])}),0)])])]),e._v(" "),s("div",{staticClass:"col-lg-4"},[s("div",{staticClass:"big-dd"},[void 0!==e.sizes&&e.sizes.length>0?[s("span",{on:{click:e.dropdownToggle}},[e._v(" "+e._s(e.sizes[0].width)+"x"+e._s(e.sizes[0].height)+" ")]),e._v(" "),s("div",{staticClass:"dropdown"},[s("ul",e._l(e.sizes,function(t,a){return s("li",{key:a,on:{click:e.dropDownElementClicked}},[e._v(e._s(t.width)+"x"+e._s(t.height))])}),0)])]:[s("span",[e._v("This template has no sizes")])]],2)])]),e._v(" "),s("div",{staticClass:"row contentrow bigger-wrapper"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"row nomarg"},[s("div",{staticClass:"col-lg-6 col-md-12 nopad"},[s("div",{staticClass:"form-wrapper"},[s("div",{staticClass:"input-block focused"},[s("span",{staticClass:"fake-label",on:{click:e.focusInput}},[e._v("Banner name")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{name:"name",type:"text"},domProps:{value:e.name},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,change:e.changed,input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"input-block focused"},[s("span",{staticClass:"fake-label",on:{click:e.focusInput}},[e._v("Banner Description")]),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],staticClass:"comment",attrs:{name:"description"},domProps:{value:e.description},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,change:e.changed,input:function(t){t.target.composing||(e.description=t.target.value)}}})])])]),e._v(" "),s("div",{staticClass:"col-lg-6 col-md-12 nopad"},[s("div",{staticClass:"form-wrapper"},[e._l(e.field_values,function(t,a){return["select"==t.type?[s("dropDown",{attrs:{defaultValue:t.value,name:a,optionsArray:e.getFieldOptions(a)},on:{"element-selected":function(t){return e.setField(t,a)}}})]:"input"==t.type?[s("div",{staticClass:"input-block",class:[t.default.length>0?"focused":""]},[s("span",{staticClass:"fake-label",attrs:{"data-initial":a},on:{click:e.focusInput}},[e._v(e._s(t.name))]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],attrs:{type:"text"},domProps:{value:t.value},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(s){s.target.composing||e.$set(t,"value",s.target.value)}}})])]:"file"==t.type?[s("file-upload",{attrs:{label:t.name,showFiles:!1,selectFiles:!0},on:{fileselected:function(t){return e.setField(t,a)}}})]:"color"==t.type?[s("div",{staticClass:"input-block color",class:[t.default.length>0?"focused":""]},[s("span",{staticClass:"fake-label",attrs:{"data-initial":a},on:{click:e.focusInput}},[e._v(e._s(t.name))]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],attrs:{type:"text"},domProps:{value:t.value},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(s){s.target.composing||e.$set(t,"value",s.target.value)}}}),e._v(" "),s("color-picker",{attrs:{inputHex:t.value},on:{"color-selected":function(t){return e.setField(t,a)}}})],1)]:e._e()]})],2)]),e._v(" "),s("div",{staticClass:"col-lg-6 col-md-12 nopad"},[s("div",{staticClass:"slider-wrapper"},[s("div",{staticClass:"slidecontainer"},[s("input",{staticClass:"styles slider",class:[1==e.customStylesVisible?"on":""],attrs:{type:"range",min:"1",max:"100",value:"1",id:"myRange",draggable:"false"},on:{click:function(t){return e.sliderToggle(t,"styles")}}}),e._v(" "),s("span",[e._v("Manual styles mode")])])])]),e._v(" "),s("div",{staticClass:"col-lg-6 col-md-12 nopad"},[s("div",{staticClass:"slider-wrapper"},[s("div",{staticClass:"slidecontainer"},[s("input",{staticClass:"slider html",class:[1==e.templateHtmlOverwrite?"on":""],attrs:{type:"range",min:"1",max:"100",value:"1",id:"myRange2",draggable:"false"},on:{click:function(t){return e.sliderToggle(t,"html")}}}),e._v(" "),s("span",[e._v("Template HTML overwrite")])])])])])])]),e._v(" "),e.customStylesVisible?[s("div",{staticClass:"container-fluid manual-styles"},[e._m(1),e._v(" "),s("div",{staticClass:"row contentrow bigger-wrapper customcss"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"row nomarg manual"},[s("div",{staticClass:"container-fluid",attrs:{id:"cssInputs","data-numberofrows":"1"}},e._l(e.customStyles,function(t,a){return s("div",{staticClass:"row key"},[s("div",{staticClass:"col-lg-4 col-md-12"},[s("div",{staticClass:"input-block select"},[s("span",{staticClass:"fake-label",on:{click:e.focusInput}},[e._v(e._s(t.element.name))]),e._v(" "),s("span",[e._v(e._s(t.element.name))]),e._v(" "),s("div",{staticClass:"options"},[s("ul",e._l(t.element.values,function(t){return s("li",[e._v(e._s(t))])}),0)])])]),e._v(" "),s("div",{staticClass:"col-lg-4 col-md-12"},[s("div",{staticClass:"input-block select"},[s("span",{staticClass:"fake-label",on:{click:e.focusInput}},[e._v(e._s(t.rule.name))]),e._v(" "),s("span",[e._v(e._s(t.rule.name))]),e._v(" "),s("div",{staticClass:"options"},[s("ul",e._l(t.rule.values,function(t){return s("li",[e._v(e._s(t))])}),0)])])]),e._v(" "),s("div",{staticClass:"col-lg-4 col-md-12"},[s("div",{staticClass:"input-block focused"},[s("span",{staticClass:"fake-label",on:{click:e.focusInput}},[e._v(e._s(e.customStyles[a].value))]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.customStyles[a].value,expression:"customStyles[key].value"}],attrs:{type:"text"},domProps:{value:e.customStyles[a].value},on:{focusin:e.highLightParent,focusout:e.unHighLightParent,input:function(t){t.target.composing||e.$set(e.customStyles[a],"value",t.target.value)}}})]),e._v(" "),s("svg",{staticClass:"trash",staticStyle:{"enable-background":"new 0 0 100 125"},attrs:{version:"1.1",id:"Layer_1",fill:"#e0e0e0",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 125","xml:space":"preserve"},on:{click:function(t){return e.removeStyleRow(a)}}},[s("title",[e._v("09")]),e._v(" "),s("path",{attrs:{d:"M22.8,28.6l0.1,45.2c0,7.2,5.8,13,13,13h28.3c7.2,0,13-5.8,13-13l0.1-45.2h7.4c1.7,0,3-1.3,3-3s-1.3-3-3-3H63.6v-2.5 c0-3.9-3.1-7-7-7H43.4c-3.9,0-7,3.1-7,7v2.5H15.3c-1.7,0-3,1.3-3,3s1.3,3,3,3H22.8z M53,69.8c0,1.7-1.3,3-3,3s-3-1.3-3-3V40.9 c0-1.7,1.3-3,3-3s3,1.3,3,3V69.8z M58,40.9c0-1.7,1.3-3,3-3s3,1.3,3,3v28.9c0,1.7-1.3,3-3,3s-3-1.3-3-3V40.9z M42.4,20.2 c0-0.6,0.4-1,1-1h13.2c0.6,0,1,0.4,1,1v2.5H42.4V20.2z M36,40.9c0-1.7,1.3-3,3-3s3,1.3,3,3v28.9c0,1.7-1.3,3-3,3s-3-1.3-3-3V40.9z"}})])])])}),0),e._v(" "),s("div",{staticClass:"col-12"},[s("button",{staticClass:"create blue roundedd",on:{click:e.addStyleRow}},[e._v(" Add style")])])])])])])]:e._e(),e._v(" "),e.templateHtmlOverwrite?[s("div",{staticClass:"container-fluid manual-styles"},[e._m(2),e._v(" "),s("div",{staticClass:"row contentrow bigger-wrapper templatehtmloverride"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"editor-wrapper"},[s("editor",{attrs:{id:"editor",lang:"html",theme:"dreamweaver"},on:{init:e.editorInit},model:{value:e.currentTemplate.html,callback:function(t){e.$set(e.currentTemplate,"html",t)},expression:"currentTemplate.html"}})],1)])])])]:e._e(),e._v(" "),e._m(3),e._v(" "),s("div",{staticClass:"row contentrow bigger-wrapper"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"row nomarg html-preview"},[s("div",{attrs:{id:"bannerpreview"},domProps:{innerHTML:e._s(e.renderedHtml)}})])])])],2)]],2)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col-lg-3 col-sm-12 right"},[t("button",{staticClass:"right roundedd blue duplicate"},[this._v("Copy Banner")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-12"},[t("span",{staticClass:"before"},[this._v("Add manual styles ")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-12"},[t("span",{staticClass:"before"},[this._v("Template HTML")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-12"},[t("span",{staticClass:"before"},[this._v("Banner preview")])])])}]},mt=a("VU/8")(ut,pt,!1,null,null,null).exports,vt=(a("M97j"),{name:"app",components:{ColorPicker:ke.a},data:function(){return{msg:"Welcome to Your Vue.js App",hue:50,saturation:100,luminosity:50,alpha:1,step:5,useScroll:!0,variant:"collapsible",disabled:!1}},methods:{onInput:function(e){this.hue=e},onChange:function(e){console.log("Color picker was dismissed",e)}}}),ht={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("color-picker",{attrs:{hue:e.hue,saturation:e.saturation,luminosity:e.luminosity,alpha:e.alpha,"mouse-scroll":e.useScroll,step:e.step,variant:e.step},on:{input:e.onInput,change:e.onChange}}),e._v(" "),s("h1",[e._v(e._s(e.msg))]),e._v(" "),s("pre",[e._v(e._s({hue:e.hue,saturation:e.saturation,luminosity:e.luminosity,alpha:e.alpha}))])],1)},staticRenderFns:[]};var gt=a("VU/8")(vt,ht,!1,function(e){a("F4ar")},null,null).exports;n.default.use(u.a);var ft,_t=new u.a({routes:[{path:"/",name:"LoginBase",component:b,meta:{requiresVisitor:!0}},{path:"/login",name:"Login",component:b,meta:{requiresVisitor:!0}},{path:"/logout",name:"Logout",component:S,meta:{requiresVisitor:!1}},{path:"/invitation/:token",name:"Register",component:O,meta:{requiresVisitor:!1}},{path:"/invitation",redirect:"/login"},{path:"/reminder",name:"Reminder",component:j,meta:{requiresVisitor:!0}},{path:"/password/:token",name:"NewPassword",component:G,meta:{requiresVisitor:!0}},{path:"/newpassword/",redirect:"/login"},{path:"/dashboard",name:"Dashboard",component:ie,meta:{requiresAuth:!0}},{path:"/my-account",name:"MyAccount",component:Qe,meta:{requiresAuth:!0}},{path:"/folders",name:"Folders",component:Ge,meta:{requiresAuth:!0}},{path:"/folder/:id",name:"Folder",component:He,meta:{requiresAuth:!0}},{path:"/banners",name:"Banners",component:ue,meta:{requiresAuth:!0}},{path:"/banners/:id",name:"BannerFolder",component:ge,meta:{requiresAuth:!0}},{path:"/add-template",name:"AddTemplate",component:dt,meta:{requiresAuth:!0}},{path:"/templates",name:"Templates",component:Ce,meta:{requiresAuth:!0}},{path:"/templates/:id",name:"BannersByTemplate",component:xe,meta:{requiresAuth:!0}},{path:"/template/:id",name:"SingleTemplate",component:Pe,meta:{requiresAuth:!0}},{path:"/edit-company",name:"EditCompany",component:ot,meta:{requiresAuth:!0}},{path:"/banners/edit-banner/:bannerid",name:"EditBanner",component:mt,meta:{requiresAuth:!0}},{path:"/colorpicker",name:"ColorPicker",component:ze,meta:{requiresAuth:!0}},{path:"/advanced",name:"Advanced",component:gt,meta:{requiresAuth:!0}},{path:"/fileupload",name:"MyFileUpload",component:je,meta:{requiresAuth:!0}}]}),Ct=a("NYxO");n.default.use(Ct.a),n.default.use(U.a),H.a.defaults.baseURL="https://stage.api.banners.ee/v1";var wt=new Ct.a.Store({state:{token:JSON.parse(U.a.get("accessToken"))||null,user:JSON.parse(U.a.get("user"))||null,currentCompany:JSON.parse(U.a.get("currentCompany"))||null,currentAccessLevel:null},getters:{loggedIn:function(e){return null!==e.token},getToken:function(e){return e.token},getUser:function(e){return e.user},getCurrentCompany:function(e){return e.currentCompany},getCurrentAccessLevel:function(e){return e.currentAccessLevel}},mutations:{retrieveToken:function(e,t){e.token=t},retrieveUser:function(e,t){e.user=t},retrieveBanners:function(e,t){e.banners=t},destroyToken:function(e){e.token=null},setCurrentCompany:function(e,t){e.currentCompany=t,U.a.set("currentCompany",T()(t))},setCurrentAccessLevel:function(e,t){e.currentAccessLevel=t}},actions:(ft={retrieveToken:function(e,t){return new me.a(function(s,a){H.a.post("/auth/login",t).then(function(t){var a=new Date;a.setTime(t.data.expiresIn),console.log(t),U.a.set("accessToken",T()(t.data.token),a.toUTCString()),U.a.set("user",T()(t.data.user),a.toUTCString()),U.a.set("currentCompany",T()(t.data.user.companies[0]),a.toUTCString()),e.commit("retrieveToken",t.data.token),e.commit("retrieveUser",t.data.user),e.commit("setCurrentCompany",t.data.user.companies[0]),s(t)}).catch(function(e){a(e)})})},destroyToken:function(e,t){if(H.a.defaults.headers.common.Authorization="Bearer "+t.bearer,e.getters.loggedIn)return new me.a(function(t,s){H.a.post("/auth/logout").then(function(s){console.log(H.a.defaults.headers.common),console.log(s),U.a.delete("accessToken"),U.a.delete("user"),e.commit("destroyToken"),t(s)}).catch(function(t){console.log(H.a.defaults.headers.common),console.log(t.response),U.a.delete("accessToken"),U.a.delete("user"),e.commit("destroyToken"),s(t)})})},resetToken:function(e,t){if(H.a.defaults.headers.common.Authorization="Bearer "+t.bearer,e.getters.loggedIn)return new me.a(function(t,s){H.a.get("/auth/user").then(function(s){console.log(s),console.log(H.a.defaults.headers.common);var a=new Date;a.setTime(s.data.expiresIn),U.a.set("accessToken",s.data.token.accessToken,a.toUTCString()),U.a.set("user",s.data.user,a.toUTCString()),e.commit("retrieveToken",s.data.token),e.commit("retrieveUser",s.data.user),t(s)}).catch(function(e){console.log(e),s(e)})})},retrieveBanners:function(e,t){if(H.a.defaults.headers.common.Authorization="Bearer "+t.bearer,H.a.defaults.headers.common.Company=t.company,e.getters.loggedIn)return new me.a(function(t,s){H.a.get("/banners").then(function(s){console.log(s.data),e.commit("retrieveBanners",s.data);var a=new Date;a.setTime(s.data.expiresIn),U.a.set("banners",T()(s.data),a.toUTCString()),t(s)}).catch(function(e){console.log(H.a.defaults.headers),console.log(e.response),s(e)})})}},W()(ft,"retrieveBanners",function(e,t){if(H.a.defaults.headers.common.Authorization="Bearer "+t.bearer,H.a.defaults.headers.common.Company=t.company,e.getters.loggedIn)return new me.a(function(t,s){H.a.get("/banners").then(function(s){console.log(s.data),e.commit("retrieveBanners",s.data);var a=new Date;a.setTime(s.data.expiresIn),U.a.set("banners",T()(s.data),a.toUTCString()),t(s)}).catch(function(e){console.log(H.a.defaults.headers),console.log(e.response),s(e)})})}),W()(ft,"updatePassword",function(e,t){if(!e.getters.loggedIn)return new me.a(function(e,s){H.a.post("/auth/password/"+t.token,t).then(function(t){e(t)}).catch(function(e){console.log(H.a.defaults.headers),s(e)})})}),ft)}),yt=a("3EgV"),xt=a.n(yt);_t.beforeEach(function(e,t,s){e.matched.some(function(e){return e.meta.requiresAuth})?wt.getters.loggedIn?s():s({name:"Login"}):s()}),n.default.use(xt.a),n.default.config.productionTip=!1,new n.default({el:"#app",router:_t,store:wt,VueCookie:U.a,components:{App:d},template:"<App/>",render:function(e){return e(d)}})},OfSX:function(e,t){},"Q/mB":function(e,t){},YrEI:function(e,t){},kckB:function(e,t){},oa6f:function(e,t){},"p+BR":function(e,t){},uOat:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.22829ebb9e2a047b7069.js.map